var ftNextUi=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=n(1);r.bootstrap(window.ftNextUiConfig||{preset:"discrete",preload:!0}),setTimeout(function(){ftNextFireCondition("nUiLoaded")},0),t.exports=r},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e._ReactDom=e._React=e._superstoreSync=e._superstore=e._ftdomdelegate=e._image=e._viewport=e._grid=e._foundations=e._typeahead=e._date=e._tracking=e._ads=e.configure=e.bootstrap=void 0;var i=n(2);Object.defineProperty(e,"bootstrap",{enumerable:!0,get:function(){return i.bootstrap}}),Object.defineProperty(e,"configure",{enumerable:!0,get:function(){return i.configure}}),n(223);var a=n(24),s=o(a),c=n(75),u=o(c),l=n(144),d=o(l),f=n(177),p=o(f),h=n(12),g=o(h),v=n(95),m=o(v),y=n(35),b=o(y),w=n(214),_=r(w),x=n(33),E=o(x),k=n(53),S=o(k),C=n(49),L=o(C),A=n(192),T=o(A),O=n(192),M=o(O);e._ads=s.default,e._tracking=u.default,e._date=d.default,e._typeahead=p.default,e._foundations=g.default,e._grid=m.default,e._viewport=b.default,e._image=_,e._ftdomdelegate=E.default,e._superstore=S.default,e._superstoreSync=L.default,e._React=T.default,e._ReactDom=M.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3);e.default=new r.ComponentInitializer,t.exports=e.default},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){for(var n in e)t[n]=e[n];return t}Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentInitializer=e.presets=void 0;var a=n(4),s=o(a),c=n(5),u=o(c),l=n(24),d=o(l),f=n(75),p=o(f),h=n(144),g=o(h),v=n(146),m=o(v),y=n(196),b=o(y),w=n(199),_=o(w),x=n(205),E=o(x),k=n(213),S=o(k),C=n(214),L=n(217),A=r(L),T=n(221),O=r(T),M=e.presets={discrete:{header:!0,footer:!0,date:!0},complete:{header:!0,footer:!0,date:!0,cookieMessage:!0,subscriptionOfferPrompt:!0,ads:!0,tooltip:!0,syndication:!0}};e.ComponentInitializer=function(){function t(){(0,s.default)(this,t),this.initializedFeatures={},this.configuration={},this.loader=new u.default,this.bootstrap=this.bootstrap.bind(this)}return t.prototype.isInitialized=function(t){return!!this.initializedFeatures[t]},t.prototype.bootstrap=function(t,e){var n=this;return e||"function"!=typeof t||(e=t,t=null),e=e||function(){return null},t=t||{},t.features||(t.features=i({},t)),t.features=i(i({},M[t.preset]),t.features),this.loader.bootstrap(t,function(r){var o=r.flags,i=r.allStylesLoaded,a=r.appInfo;return n.initializedFeatures.tracking||(p.default.init(o,a),n.initializedFeatures.tracking=!0),navigator.serviceWorker&&o.get("offlineToastMessage")&&S.default.init(),o.get("serviceWorker")?(A.register(o).catch(function(){}),A.message({type:"updateCache",data:{}})):A.unregister(),t.features.header&&!n.initializedFeatures.header&&(m.default.init(o),n.initializedFeatures.header=!0),t.features.date&&!n.initializedFeatures.date&&(g.default.init(),n.initializedFeatures.date=!0),t.features.lazyLoadImages&&!n.initializedFeatures.lazyLoadImages&&((0,C.lazyLoad)(),n.initializedFeatures.lazyLoadImages=!0),i.then(function(){t.features.footer&&!n.initializedFeatures.footer&&(E.default.init(o),n.initializedFeatures.footer=!0),o.get("cookieMessage")&&t.features.cookieMessage&&!n.initializedFeatures.cookieMessage&&(b.default.init(),n.initializedFeatures.cookieMessage=!0),t.features.subscriptionOfferPrompt&&!n.initializedFeatures.subscriptionOfferPrompt&&((0,_.default)(o),n.initializedFeatures.subscriptionOfferPrompt=!0),t.features.syndication&&!n.initializedFeatures.syndication&&(O.init(o),n.initializedFeatures.syndication=!0)}),Promise.resolve({flags:o,allStylesLoaded:i,appInfo:a}).then(e).then(function(){return t.features.ads&&!n.initializedFeatures.ads&&(d.default.init(o,a,t.features.ads),n.initializedFeatures.ads=!0),n.initializedFeatures.lazyTracking||(p.default.lazyInit(o),n.initializedFeatures.lazyTracking=!0),{flags:o,allStylesLoaded:i,appInfo:a}})})},t}()},function(t,e){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){var t=!1,e=function(){if("complete"===document.readyState&&t===!1)return t=!0,window.dispatchEvent(new CustomEvent("ftNextLoaded")),!0};e()||(window.addEventListener("load",e),document.onreadystatechange=e)}var i=n(6),a=r(i),s=n(4),c=r(s),u=n(11),l=n(16),d=n(12),f=n(17),p=r(f);if(!window.console){window.console={};for(var h=["info","log","warn","error"],g=0;g<h.length;g++)window.console[h[g]]=function(){}}var v=n(18),m=function(){function t(){(0,c.default)(this,t)}return t.prototype.init=function(){(0,u.load)(document.documentElement),this.appInfo={isProduction:document.documentElement.hasAttribute("data-next-is-production"),version:document.documentElement.getAttribute("data-next-version"),name:document.documentElement.getAttribute("data-next-app")};var t=window.nextFeatureFlags.reduce(function(t,e){return t[e.name]=e.state,t},{get:function(t){return this[t]},getAll:function(){return this}});if(v.init({enabled:t.get("clientErrorReporting")&&this.appInfo.isProduction,sentryEndpoint:"https://edb56e86be2446eda092e69732d8654b@sentry.io/32594",siteVersion:this.appInfo.version,logLevel:t.get("clientDetailedErrorReporting")?"contextonly":"off",tags:{appName:this.appInfo.name},errorBuffer:window.errorBuffer||[]}),(0,p.default)(t,v),t.get("clientAjaxErrorReporting")){var e=window.fetch;window.fetch=function(t,n){return e.call(this,t,n).catch(function(e){throw v.log(t+(n?JSON.stringify(n):"")+e),e})}}return Promise.resolve({flags:t,appInfo:this.appInfo,allStylesLoaded:new Promise(function(t){document.querySelector("style.n-layout-head-css")?(0,l.waitForCondition)("AllStyles",t):t()})})},t.prototype.bootstrap=function(t,e){var n=this;t=t||{},(0,l.waitForCondition)("Polyfill",function(){n.initResult=n.initResult||n.init(),n.bootstrapResult=n.initResult.then(function(n){var r=e(n);return r&&"function"==typeof r.then||(r=Promise.resolve()),r.then(function(){t.preload?(0,d.perfMark)("nUiJsExecuted"):(document.documentElement.classList.add("js-success"),(0,d.perfMark)("appJsExecuted"),o())})}).catch(function(t){n.appInfo.isProduction||("object"===("undefined"==typeof t?"undefined":(0,a.default)(t))&&t.stack?console.error(t.stack):console.error(t)),v.error(t)})})},t.prototype.loadScript=function(t){return(0,l.loadScript)(t)},t}();t.exports=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(7),i=r(o),a=n(9),s=r(a),c="function"==typeof s.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===c(i.default)?function(t){return"undefined"==typeof t?"undefined":c(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":"undefined"==typeof t?"undefined":c(t)}},function(t,e,n){t.exports={default:n(8),__esModule:!0}},function(t,e){"use strict";Object.defineProperty(t.exports,"default",{get:function(){return window.Symbol.iterator||window.__BabelPolyfillSilencerSymbol.iterator}})},function(t,e,n){t.exports={default:n(10),__esModule:!0}},function(t,e){"use strict";Object.defineProperty(t.exports,"default",{get:function(){return window.Symbol||window.__BabelPolyfillSilencerSymbol}})},function(t,e,n){"use strict";function r(t){if(new RegExp("(^|\\s)"+a+"=1(;|$)").test(document.cookie))return Promise.resolve();var e=s.map(function(e){return new FontFaceObserver(e.family,{weight:e.weight}).load().then(function(){return t.className+=e.labels.reduce(function(t,e){return t+=" "+i+e},"")})});return Promise.all(e).then(function(){document.cookie=a+"=1;domain=.ft.com;path=/;max-age=604800",(0,o.perfMark)("fontsLoaded")}).catch(function(){})}Object.defineProperty(e,"__esModule",{value:!0}),e.load=r;var o=n(12);n(15);var i="o-typography--loaded-",a="next-fonts-loaded",s=[{family:"FinancierDisplayWeb",weight:"normal",labels:["serifDisplay"]},{family:"MetricWeb",weight:"normal",labels:["sans","sansData"]},{family:"MetricWeb",weight:600,labels:["sansBold","sansDataBold"]},{family:"FinancierDisplayWeb",weight:700,labels:["serifDisplayBold"]}]},function(t,e,n){"use strict";var r=n(13),o=function(){var t=r.get("spoor-id").replace(/-/g,"");return t=t.substring(t.length-12,t.length),parseInt(t,16)};t.exports={$:function(t,e){return(e||document).querySelector(t)},$$:function(t,e){return[].slice.call((e||document).querySelectorAll(t))},debounce:function(t,e){var n=void 0;return function(){var r=this,o=arguments,i=function(){n=null,t.apply(r,o)};clearTimeout(n),n=setTimeout(i,e)}},throttle:function(t,e){var n=void 0;return function(){var r=this;if(!n){var o=arguments,i=function(){n=null,t.apply(r,o)};n=setTimeout(i,e)}}},uuid:function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t)},ascii:n(14),broadcast:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Element.prototype.isPrototypeOf(this)?this:document.body,o=void 0;try{o=new CustomEvent(t,{bubbles:n,cancelable:!0,detail:e})}catch(n){o=CustomEvent.initCustomEvent(t,!0,!0,e)}r.dispatchEvent(o)},perfMark:function(t){var e=window.LUX||window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;e&&e.mark&&e.mark(t)},sampleUsers:function(t,e){if(!e)throw new Error("sampleUsers needs a seed string to be passed in as the second parameter");var n=e.split("").reduce(function(t,e,n){return t+Math.pow(2,n)*e.charCodeAt(0)},0);return(o()+n)%100<t},cookieStore:r}},function(t,e){"use strict";function n(t){return new RegExp("(?:(?:^|.*;\\s*)"+t+"\\s*=\\s*([^;]*).*$)|^.*$")}function r(t){return Object.keys(t).map(function(e){var n=e;return"maxAge"===e&&(n="max-age"),t[e]instanceof Date&&(t[e]=t[e].toUTCString()),n+"="+t[e]})}function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r(n).join("; "),i=encodeURIComponent(t)+"="+encodeURIComponent(e)+"; "+o;document.cookie=i}function i(t){return decodeURIComponent(document.cookie.replace(n(encodeURIComponent(t)),"$1"))}function a(t){return new RegExp(encodeURIComponent(t)+"=").test(document.cookie)}function s(t){return o(t,"",{expires:new Date(0)})}t.exports={get:i,set:o,has:a,getRegexForName:n,remove:s}},function(t,e){"use strict";function n(t){if(o.test(t)===!1)return t;for(var e=t.length;e>-1;){var n=r[t[e]];n&&(t=t.substr(0,e)+n+t.substr(e+1)),e--}return t}var r={"à":"a","á":"a","â":"a","ä":"a","ã":"a","å":"a","ā":"a","æ":"ae","ç":"c","č":"c","è":"e","é":"e","ê":"e","ë":"e","ē":"e","ğ":"g","î":"i","ï":"i","í":"i","ì":"i","ī":"i","ł":"l","ñ":"n","ń":"n","ô":"o","ö":"o","ò":"o","ó":"o","ø":"o","õ":"o","ō":"o","œ":"oe","ş":"s","ș":"s","š":"s","ß":"ss","û":"u","ü":"u","ù":"u","ú":"u","ū":"u","ž":"z"},o=/[^\x00-\x7F]+/;t.exports=n},function(t,e){"use strict";!function(){function e(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function n(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),t()}):document.attachEvent("onreadystatechange",function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),t())})}function r(t){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(t)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function o(t,e){t.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font:"+e+";"}function i(t){var e=t.a.offsetWidth,n=e+100;return t.f.style.width=n+"px",t.c.scrollLeft=n,t.b.scrollLeft=t.b.scrollWidth+100,t.g!==e&&(t.g=e,!0)}function a(t,n){function r(){var t=o;i(t)&&null!==t.a.parentNode&&n(t.g)}var o=t;e(t.b,r),e(t.c,r),i(t)}function s(t,e){var n=e||{};this.family=t,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}function c(){if(null===d){var t=document.createElement("div");try{t.style.font="condensed 100px sans-serif"}catch(t){}d=""!==t.style.font}return d}function u(t,e){return[t.style,t.weight,c()?t.stretch:"","100px",e].join(" ")}var l=null,d=null,f=!!window.FontFace;s.prototype.load=function(t,e){var i=this,s=t||"BESbswy",c=e||3e3,d=(new Date).getTime();return new Promise(function(t,e){if(f){var p=new Promise(function(t,e){function n(){(new Date).getTime()-d>=c?e():document.fonts.load(u(i,i.family),s).then(function(e){1<=e.length?t():setTimeout(n,25)},function(){e()})}n()}),h=new Promise(function(t,e){setTimeout(e,c)});Promise.race([h,p]).then(function(){t(i)},function(){e(i)})}else n(function(){function n(){var e;(e=-1!=v&&-1!=m||-1!=v&&-1!=y||-1!=m&&-1!=y)&&((e=v!=m&&v!=y&&m!=y)||(null===l&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),l=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))),e=l&&(v==b&&m==b&&y==b||v==w&&m==w&&y==w||v==_&&m==_&&y==_)),e=!e),e&&(null!==x.parentNode&&x.parentNode.removeChild(x),clearTimeout(E),t(i))}function f(){if((new Date).getTime()-d>=c)null!==x.parentNode&&x.parentNode.removeChild(x),e(i);else{var t=document.hidden;!0!==t&&void 0!==t||(v=p.a.offsetWidth,m=h.a.offsetWidth,y=g.a.offsetWidth,n()),E=setTimeout(f,50)}}var p=new r(s),h=new r(s),g=new r(s),v=-1,m=-1,y=-1,b=-1,w=-1,_=-1,x=document.createElement("div"),E=0;x.dir="ltr",o(p,u(i,"sans-serif")),o(h,u(i,"serif")),o(g,u(i,"monospace")),x.appendChild(p.a),x.appendChild(h.a),x.appendChild(g.a),document.body.appendChild(x),b=p.a.offsetWidth,w=h.a.offsetWidth,_=g.a.offsetWidth,f(),a(p,function(t){v=t,n()}),o(p,u(i,'"'+i.family+'",sans-serif')),a(h,function(t){m=t,n()}),o(h,u(i,'"'+i.family+'",serif')),a(g,function(t){y=t,n()}),o(g,u(i,'"'+i.family+'",monospace'))})})},window.FontFaceObserver=s,window.FontFaceObserver.prototype.check=window.FontFaceObserver.prototype.load=s.prototype.load,"undefined"!=typeof t&&(t.exports=window.FontFaceObserver)}()},function(t,e){"use strict";t.exports={loadScript:function(t){return new Promise(function(e,n){var r=window.ftNextLoadScript(t);r.addEventListener("load",e),r.addEventListener("error",n)})},waitForCondition:function(t,e){window["ftNext"+t+"Loaded"]?e():document.addEventListener("ftNext"+t+"Loaded",e)}}},function(t,e){"use strict";function n(){r&&(window.fetch=r)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(r=r||window.fetch,t.get("clientAjaxErrorReporting")){var n=window.fetch;window.fetch=function(t,r){return n.call(this,t,r).catch(function(n){throw e.log(t+(r?JSON.stringify(r):"")+n),n})}}},e.restore=n;var r=void 0},function(t,e,n){t.exports=n(19)},function(t,e,n){"use strict";function r(){i.init(),document.removeEventListener("o.DOMContentLoaded",r)}var o=n(20),i=new o;document.addEventListener("o.DOMContentLoaded",r),t.exports=i},function(t,e,n){"use strict";function r(t){return"function"==typeof t}function o(t){setTimeout(function(){throw t},0)}function i(){this.ravenClient=null,this.initialised=!1,this.logger=null,this._logEventHandler=this.handleLogEvent.bind(this),this._errorBuffer=[],this._declarativeConfigString=!1,this._filterError=function(){return!0},this._transformError=function(t){return t}}var a=n(21);i.prototype.init=function(t,e){if(this.initialised)return this;var n=this._hasDeclarativeConfig(),i=!(n||t);if(i)return this;t=t||{},n&&(t=this._initialiseDeclaratively(t),t.filterError&&(t.filterError=void 0,o(new Error("Can not configure 'oErrors' with `filterError` using declarative markup - error filtering will not be enabled"))),t.transformError&&(t.transformError=void 0,o(new Error("Can not configure 'oErrors' with `transformError` using declarative markup - error transforming will not be enabled"))),t.transportFunction&&(t.transportFunction=void 0,o(new Error("Can not configure 'oErrors' with `transportFunction` using declarative markup - overriding Sentry's transport function will not be enabled")))),r(t.transformError)&&(this._transformError=t.transformError),r(t.filterError)&&(this._filterError=t.filterError),Array.isArray(t.errorBuffer)&&t.errorBuffer.length>0&&(this._errorBuffer=this._errorBuffer.concat(t.errorBuffer));var s=void 0!==t.enabled&&t.enabled===!1,c=s?a.off:t.logLevel,u=10;if(this.logger=new a(u,c),s)return this.report=function(t){return t},this.wrapWithContext=function(t){return t},this.initialised=!0,this;if(!t.sentryEndpoint)throw new Error("Could not initialise o-errors: Sentry endpoint and auth configuration missing.");return a.level[c]!==a.level.consoleonly?this._configureAndInstallRaven(t,e):this.ravenClient={captureException:function(){},uninstall:function(){}},document.addEventListener("oErrors.log",this._logEventHandler),this.initialised=!0,this._flushBufferedErrors(),this},i.prototype._configureAndInstallRaven=function(t,e){e||this.ravenClient||(e=n(22)),this.ravenClient=e;var o=t.sentryEndpoint,i=this._updatePayloadBeforeSend.bind(this),a={dataCallback:i};t.siteVersion&&(a.release=t.siteVersion),t.environment&&(a.environment=t.environment),t.tags&&(a.tags=t.tags),r(t.transportFunction)&&(a.transport=t.transportFunction),this.ravenClient.config(o,a),this.ravenClient.install()},i.prototype._flushBufferedErrors=function(){if(this.initialised){var t=this;this._errorBuffer.forEach(function(e){t.report(e.error,e.context)}),this._errorBuffer=[]}},i.prototype.report=function(t,e){var n=e||{},r={error:t,context:{extra:n}};if(!this.initialised)return this._errorBuffer.push(r),t;var o=this._transformError(r);return o&&o.error&&(r=o),r.context||(r.context={}),this._filterError(r)?(r.error.message&&(r.context.errormessage=r.error.message),this.ravenClient.captureException(r.error,r.context),t):t},i.prototype.error=function(){this.logger.error.apply(this.logger,arguments)},i.prototype.warn=function(){this.logger.warn.apply(this.logger,arguments)},i.prototype.log=function(){this.logger.log.apply(this.logger,arguments)},i.prototype.wrap=function(t){return this.wrapWithContext({},t)},i.prototype.wrapWithContext=function(t,e){var n=this;return function(){try{return e.apply(void 0,arguments)}catch(e){throw n.report(e,t),e}}},i.prototype.destroy=function(){this.initialised&&(document.removeEventListener("oErrors.log",this._logEventHandler),this.ravenClient.uninstall())},i.prototype.handleLogEvent=function(t){if(t){var e={info:t.detail.info||{},extra:{"context:dom":this._getEventPath(t).reduceRight(function(t,e){var n=Array.prototype.slice.call(e.classList||[]);if(!e.nodeName)return t+" - "+e.constructor.name+"\n";var r=e.nodeName.toLowerCase();return 0===r.indexOf("#")?t+"<"+r+">\n":t+"<"+e.nodeName.toLowerCase()+" class='"+n.join(" ")+"' id='"+(e.id||"")+"'>\n"},"")}};this.report(t.detail.error,e)}},i.prototype._getEventPath=function(t){for(var e=[],n=t.target||window.event.srcElement;n;)e.push(n),n=n.parentElement;return e},i.prototype._updatePayloadBeforeSend=function(t){return this.logger.enabled&&(t.extra["context:log"]=this.logger.logLines()),t},i.prototype._hasDeclarativeConfig=function(){return!!this._getDeclarativeConfig()},i.prototype._getDeclarativeConfig=function(){if(!this._declarativeConfigString){var t=document.querySelector("script[data-o-errors-config]");if(!t)return!1;this._declarativeConfigString=t.textContent||t.innerText||t.innerHTML}return this._declarativeConfigString},i.prototype._initialiseDeclaratively=function(t){if(!this._hasDeclarativeConfig())return!1;var e=void 0;try{e=JSON.parse(this._getDeclarativeConfig())}catch(t){throw new Error("Invalid JSON configuration syntax, check validity for o-errors configuration: '"+t.message+"'")}for(var n in e)e.hasOwnProperty(n)&&(t[n]=t[n]||e[n]);return this._declarativeConfigString=!1,t},t.exports=i},function(t,e){"use strict";function n(t,e){this._logBuffer=new Array(t),this._nextLogIndex=0,this._logLevel=n.level[e],this.enabled=this._logLevel!==n.level.off,this.enabled||(this._consoleLog=o);var r="undefined"!=typeof console?console:{log:o,warn:o,error:o};this.out=r}function r(t,e){for(var n=t+":",r=0;r<e.length;r++)n+=" "+e[r];return n}function o(){}n.prototype.error=function(){this._consoleLog("ERROR",this.out.error,arguments)},n.prototype.log=function(){this._consoleLog("LOG",this.out.log,arguments)},n.prototype.warn=function(){this._consoleLog("WARN",this.out.warn,arguments)},n.prototype._consoleLog=function(t,e,o){var i=this._logLevel===n.level.debug||this._logLevel===n.level.consoleonly,a=r(t,o);this.append(a),i&&e&&e.apply(this.out,o)},n.prototype.append=function(t){this._logBuffer[this._nextLogIndex]=t,this._nextLogIndex++,this._nextLogIndex===this._logBuffer.length&&(this._nextLogIndex=0)},n.prototype.logLines=function(){var t=this._nextLogIndex,e=this._nextLogIndex,n=[];do{var r=this._logBuffer[t];void 0!==r&&n.push(this._logBuffer[t]),t++,t>=this._logBuffer.length&&(t=0)}while(t!==e);return n.join("\n")},n.level={off:0,contextonly:1,debug:2,consoleonly:3},t.exports=n},function(t,e,n){t.exports=n(23)},function(t,e,n){var r,o,i,a,a;(function(s){"use strict";function c(t){return t&&t.__esModule?t:{default:t}}var u=n(6),l=c(u);/*! Raven.js 3.14.2 (5cf57e1) | github.com/getsentry/raven-js */
!function(n){if("object"===(0,l.default)(e)&&"undefined"!=typeof t)t.exports=n();else{o=[],r=n,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i))}}(function(){return function t(e,n,r){function o(s,c){if(!n[s]){if(!e[s]){var u="function"==typeof a&&a;if(!c&&u)return a(s,!0);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[s]={exports:{}};e[s][0].call(d.exports,function(t){var n=e[s][1][t];return o(n?n:t)},d,d.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof a&&a,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){function r(t){this.name="RavenConfigError",this.message=t}r.prototype=new Error,r.prototype.constructor=r,e.exports=r},{}],2:[function(t,e,n){var r=function(t,e,n){var r=t[e],o=t;if(e in t){var i="warn"===e?"warning":e;t[e]=function(){var t=[].slice.call(arguments),e=""+t.join(" "),a={level:i,logger:"console",extra:{arguments:t}};n&&n(e,a),r&&Function.prototype.apply.call(r,o,t)}}};e.exports={wrapMethod:r}},{}],3:[function(t,e,n){(function(n){function r(){return+new Date}function o(){this._hasJSON=!("object"!==("undefined"==typeof JSON?"undefined":(0,l.default)(JSON))||!JSON.stringify),this._hasDocument=!i(I),this._hasNavigator=!i(j),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],crossOrigin:"anonymous",collectWindowErrors:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,sampleRate:1},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=N.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=r(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=N.location,this._lastHref=this._location&&this._location.href,this._resetBackoff();for(var t in this._originalConsole)this._originalConsoleMethods[t]=this._originalConsole[t]}function i(t){return void 0===t}function a(t){return"function"==typeof t}function s(t){return"[object String]"===D.toString.call(t)}function c(t){for(var e in t)return!1;return!0}function u(t,e){var n,r;if(i(t.length))for(n in t)p(t,n)&&e.call(null,n,t[n]);else if(r=t.length)for(n=0;n<r;n++)e.call(null,n,t[n])}function d(t,e){return e?(u(e,function(e,n){t[e]=n}),t):t}function f(t,e){return!e||t.length<=e?t:t.substr(0,e)+"…"}function p(t,e){return D.hasOwnProperty.call(t,e)}function h(t){for(var e,n=[],r=0,o=t.length;r<o;r++)e=t[r],s(e)?n.push(e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):e&&e.source&&n.push(e.source);return new RegExp(n.join("|"),"i")}function g(t){var e=[];return u(t,function(t,n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.join("&")}function v(t){var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",r=e[8]||"";return{protocol:e[2],host:e[4],path:e[5],relative:e[5]+n+r}}function m(){var t=N.crypto||N.msCrypto;if(!i(t)&&t.getRandomValues){var e=new Uint16Array(8);t.getRandomValues(e),e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;var n=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return n(e[0])+n(e[1])+n(e[2])+n(e[3])+n(e[4])+n(e[5])+n(e[6])+n(e[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)})}function y(t){for(var e,n=5,r=80,o=[],i=0,a=0,s=" > ",c=s.length;t&&i++<n&&(e=b(t),!("html"===e||i>1&&a+o.length*c+e.length>=r));)o.push(e),a+=e.length,t=t.parentNode;return o.reverse().join(s)}function b(t){var e,n,r,o,i,a=[];if(!t||!t.tagName)return"";if(a.push(t.tagName.toLowerCase()),t.id&&a.push("#"+t.id),e=t.className,e&&s(e))for(n=e.split(/\s+/),i=0;i<n.length;i++)a.push("."+n[i]);var c=["type","name","title","alt"];for(i=0;i<c.length;i++)r=c[i],o=t.getAttribute(r),o&&a.push("["+r+'="'+o+'"]');return a.join("")}function w(t,e){return!!(!!t^!!e)}function _(t,e){return!w(t,e)&&(t=t.values[0],e=e.values[0],t.type===e.type&&t.value===e.value&&x(t.stacktrace,e.stacktrace))}function x(t,e){if(w(t,e))return!1;var n=t.frames,r=e.frames;if(n.length!==r.length)return!1;for(var o,i,a=0;a<n.length;a++)if(o=n[a],i=r[a],o.filename!==i.filename||o.lineno!==i.lineno||o.colno!==i.colno||o.function!==i.function)return!1;return!0}function E(t,e,n,r){var o=t[e];t[e]=n(o),r&&r.push([t,e,o])}var k=t(6),S=t(7),C=t(1),L=t(5),A=L.isError,T=L.isObject,O=t(2).wrapMethod,M="source protocol user pass host port path".split(" "),P=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,N="undefined"!=typeof window?window:"undefined"!=typeof n?n:"undefined"!=typeof self?self:{},I=N.document,j=N.navigator;o.prototype={VERSION:"3.14.2",debug:!1,TraceKit:k,config:function(t,e){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!t)return n;var r=n._globalOptions;e&&u(e,function(t,e){"tags"===t||"extra"===t||"user"===t?n._globalContext[t]=e:r[t]=e}),n.setDSN(t),r.ignoreErrors.push(/^Script error\.?$/),r.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),r.ignoreErrors=h(r.ignoreErrors),r.ignoreUrls=!!r.ignoreUrls.length&&h(r.ignoreUrls),r.whitelistUrls=!!r.whitelistUrls.length&&h(r.whitelistUrls),r.includePaths=h(r.includePaths),r.maxBreadcrumbs=Math.max(0,Math.min(r.maxBreadcrumbs||100,100));var o={xhr:!0,console:!0,dom:!0,location:!0},i=r.autoBreadcrumbs;return"[object Object]"==={}.toString.call(i)?i=d(o,i):i!==!1&&(i=o),r.autoBreadcrumbs=i,k.collectWindowErrors=!!r.collectWindowErrors,n},install:function(){var t=this;return t.isSetup()&&!t._isRavenInstalled&&(k.report.subscribe(function(){t._handleOnErrorStackInfo.apply(t,arguments)}),t._instrumentTryCatch(),t._globalOptions.autoBreadcrumbs&&t._instrumentBreadcrumbs(),t._drainPlugins(),t._isRavenInstalled=!0),Error.stackTraceLimit=t._globalOptions.stackTraceLimit,this},setDSN:function(t){var e=this,n=e._parseDSN(t),r=n.path.lastIndexOf("/"),o=n.path.substr(1,r);e._dsn=t,e._globalKey=n.user,e._globalSecret=n.pass&&n.pass.substr(1),e._globalProject=n.path.substr(r+1),e._globalServer=e._getGlobalServer(n),e._globalEndpoint=e._globalServer+"/"+o+"api/"+e._globalProject+"/store/",this._resetBackoff()},context:function(t,e,n){return a(t)&&(n=e||[],e=t,t=void 0),this.wrap(t,e).apply(this,n)},wrap:function(t,e,n){function r(){var r=[],i=arguments.length,s=!t||t&&t.deep!==!1;for(n&&a(n)&&n.apply(this,arguments);i--;)r[i]=s?o.wrap(t,arguments[i]):arguments[i];try{return e.apply(this,r)}catch(e){throw o._ignoreNextOnError(),o.captureException(e,t),e}}var o=this;if(i(e)&&!a(t))return t;if(a(t)&&(e=t,t=void 0),!a(e))return e;try{if(e.__raven__)return e;if(e.__raven_wrapper__)return e.__raven_wrapper__}catch(t){return e}for(var s in e)p(e,s)&&(r[s]=e[s]);return r.prototype=e.prototype,e.__raven_wrapper__=r,r.__raven__=!0,r.__inner__=e,r},uninstall:function(){return k.report.uninstall(),this._restoreBuiltIns(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},captureException:function(t,e){if(!A(t))return this.captureMessage(t,d({trimHeadFrames:1,stacktrace:!0},e));this._lastCapturedException=t;try{var n=k.computeStackTrace(t);this._handleStackInfo(n,e)}catch(e){if(t!==e)throw e}return this},captureMessage:function(t,e){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)){e=e||{};var n=d({message:t+""},e);if(this._globalOptions.stacktrace||e&&e.stacktrace){var r;try{throw new Error(t)}catch(t){r=t}r.name=null,e=d({fingerprint:t,trimHeadFrames:(e.trimHeadFrames||0)+1},e);var o=k.computeStackTrace(r),i=this._prepareFrames(o,e);n.stacktrace={frames:i.reverse()}}return this._send(n),this}},captureBreadcrumb:function(t){var e=d({timestamp:r()/1e3},t);if(a(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(e);if(T(n)&&!c(n))e=n;else if(n===!1)return this}return this._breadcrumbs.push(e),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(t){var e=[].slice.call(arguments,1);return this._plugins.push([t,e]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(t){return this._globalContext.user=t,this},setExtraContext:function(t){return this._mergeContext("extra",t),this},setTagsContext:function(t){return this._mergeContext("tags",t),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(S(this._globalContext))},setEnvironment:function(t){return this._globalOptions.environment=t,this},setRelease:function(t){return this._globalOptions.release=t,this},setDataCallback:function(t){var e=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=a(t)?function(n){return t(n,e)}:t,this},setBreadcrumbCallback:function(t){var e=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=a(t)?function(n){return t(n,e)}:t,this},setShouldSendCallback:function(t){var e=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=a(t)?function(n){return t(n,e)}:t,this},setTransport:function(t){return this._globalOptions.transport=t,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var t=N.RavenConfig;t&&this.config(t.dsn,t.config).install()},showReportDialog:function(t){if(I){t=t||{};var e=t.eventId||this.lastEventId();if(!e)throw new C("Missing eventId");var n=t.dsn||this._dsn;if(!n)throw new C("Missing DSN");var r=encodeURIComponent,o="";o+="?eventId="+r(e),o+="&dsn="+r(n);var i=t.user||this._globalContext.user;i&&(i.name&&(o+="&name="+r(i.name)),i.email&&(o+="&email="+r(i.email)));var a=this._getGlobalServer(this._parseDSN(n)),s=I.createElement("script");s.async=!0,s.src=a+"/api/embed/error-page/"+o,(I.head||I.body).appendChild(s)}},_ignoreNextOnError:function(){var t=this;this._ignoreOnError+=1,setTimeout(function(){t._ignoreOnError-=1})},_triggerEvent:function(t,e){var n,r;if(this._hasDocument){e=e||{},t="raven"+t.substr(0,1).toUpperCase()+t.substr(1),I.createEvent?(n=I.createEvent("HTMLEvents"),n.initEvent(t,!0,!0)):(n=I.createEventObject(),n.eventType=t);for(r in e)p(e,r)&&(n[r]=e[r]);if(I.createEvent)I.dispatchEvent(n);else try{I.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(t){}}},_breadcrumbEventHandler:function(t){var e=this;return function(n){if(e._keypressTimeout=null,e._lastCapturedEvent!==n){e._lastCapturedEvent=n;var r;try{r=y(n.target)}catch(t){r="<unknown>"}e.captureBreadcrumb({category:"ui."+t,message:r})}}},_keypressEventHandler:function(){var t=this,e=1e3;return function(n){var r;try{r=n.target}catch(t){return}var o=r&&r.tagName;if(o&&("INPUT"===o||"TEXTAREA"===o||r.isContentEditable)){var i=t._keypressTimeout;i||t._breadcrumbEventHandler("input")(n),clearTimeout(i),t._keypressTimeout=setTimeout(function(){t._keypressTimeout=null},e)}}},_captureUrlChange:function(t,e){var n=v(this._location.href),r=v(e),o=v(t);this._lastHref=e,n.protocol===r.protocol&&n.host===r.host&&(e=r.relative),n.protocol===o.protocol&&n.host===o.host&&(t=o.relative),this.captureBreadcrumb({category:"navigation",data:{to:e,from:t}})},_instrumentTryCatch:function(){function t(t){return function(e,r){for(var o=new Array(arguments.length),i=0;i<o.length;++i)o[i]=arguments[i];var s=o[0];return a(s)&&(o[0]=n.wrap(s)),t.apply?t.apply(this,o):t(o[0],o[1])}}function e(t){var e=N[t]&&N[t].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(E(e,"addEventListener",function(e){return function(r,i,a,s){try{i&&i.handleEvent&&(i.handleEvent=n.wrap(i.handleEvent))}catch(t){}var c,u,l;return o&&o.dom&&("EventTarget"===t||"Node"===t)&&(u=n._breadcrumbEventHandler("click"),l=n._keypressEventHandler(),c=function(t){if(t){var e;try{e=t.type}catch(t){return}return"click"===e?u(t):"keypress"===e?l(t):void 0}}),e.call(this,r,n.wrap(i,void 0,c),a,s)}},r),E(e,"removeEventListener",function(t){return function(e,n,r,o){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(t){}return t.call(this,e,n,r,o)}},r))}var n=this,r=n._wrappedBuiltIns,o=this._globalOptions.autoBreadcrumbs;E(N,"setTimeout",t,r),E(N,"setInterval",t,r),N.requestAnimationFrame&&E(N,"requestAnimationFrame",function(t){return function(e){return t(n.wrap(e))}},r);for(var i=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],s=0;s<i.length;s++)e(i[s])},_instrumentBreadcrumbs:function(){function t(t,n){t in n&&a(n[t])&&E(n,t,function(t){return e.wrap(t)})}var e=this,n=this._globalOptions.autoBreadcrumbs,r=e._wrappedBuiltIns;if(n.xhr&&"XMLHttpRequest"in N){var o=XMLHttpRequest.prototype;E(o,"open",function(t){return function(n,r){return s(r)&&r.indexOf(e._globalKey)===-1&&(this.__raven_xhr={method:n,url:r,status_code:null}),t.apply(this,arguments)}},r),E(o,"send",function(n){return function(r){function o(){if(i.__raven_xhr&&(1===i.readyState||4===i.readyState)){try{i.__raven_xhr.status_code=i.status}catch(t){}e.captureBreadcrumb({type:"http",category:"xhr",data:i.__raven_xhr})}}for(var i=this,s=["onload","onerror","onprogress"],c=0;c<s.length;c++)t(s[c],i);return"onreadystatechange"in i&&a(i.onreadystatechange)?E(i,"onreadystatechange",function(t){return e.wrap(t,void 0,o)}):i.onreadystatechange=o,n.apply(this,arguments)}},r)}n.xhr&&"fetch"in N&&E(N,"fetch",function(t){return function(n,r){for(var o=new Array(arguments.length),i=0;i<o.length;++i)o[i]=arguments[i];var a="GET";o[1]&&o[1].method&&(a=o[1].method);var s={method:a,url:o[0],status_code:null};return e.captureBreadcrumb({type:"http",category:"fetch",data:s}),t.apply(this,o).then(function(t){return s.status_code=t.status,t})}},r),n.dom&&this._hasDocument&&(I.addEventListener?(I.addEventListener("click",e._breadcrumbEventHandler("click"),!1),I.addEventListener("keypress",e._keypressEventHandler(),!1)):(I.attachEvent("onclick",e._breadcrumbEventHandler("click")),I.attachEvent("onkeypress",e._keypressEventHandler())));var i=N.chrome,c=i&&i.app&&i.app.runtime,l=!c&&N.history&&history.pushState;if(n.location&&l){var d=N.onpopstate;N.onpopstate=function(){var t=e._location.href;if(e._captureUrlChange(e._lastHref,t),d)return d.apply(this,arguments)},E(history,"pushState",function(t){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&e._captureUrlChange(e._lastHref,n+""),t.apply(this,arguments)}},r)}if(n.console&&"console"in N&&console.log){var f=function(t,n){e.captureBreadcrumb({message:t,level:n.level,category:"console"})};u(["debug","info","warn","error","log"],function(t,e){O(console,e,f)})}},_restoreBuiltIns:function(){for(var t;this._wrappedBuiltIns.length;){t=this._wrappedBuiltIns.shift();var e=t[0],n=t[1],r=t[2];e[n]=r}},_drainPlugins:function(){var t=this;u(this._plugins,function(e,n){var r=n[0],o=n[1];r.apply(t,[t].concat(o))})},_parseDSN:function(t){var e=P.exec(t),n={},r=7;try{for(;r--;)n[M[r]]=e[r]||""}catch(e){throw new C("Invalid DSN: "+t)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new C("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(t){var e="//"+t.host+(t.port?":"+t.port:"");return t.protocol&&(e=t.protocol+":"+e),e},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(t,e){var n=this._prepareFrames(t,e);this._triggerEvent("handle",{stackInfo:t,options:e}),this._processException(t.name,t.message,t.url,t.lineno,n,e)},_prepareFrames:function(t,e){var n=this,r=[];if(t.stack&&t.stack.length&&(u(t.stack,function(t,e){var o=n._normalizeFrame(e);o&&r.push(o)}),e&&e.trimHeadFrames))for(var o=0;o<e.trimHeadFrames&&o<r.length;o++)r[o].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(t){if(t.url){var e={filename:t.url,lineno:t.line,colno:t.column,function:t.func||"?"};return e.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(e.filename)||/(Raven|TraceKit)\./.test(e.function)||/raven\.(min\.)?js$/.test(e.filename)),e}},_processException:function(t,e,n,r,o,i){var a;if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e))&&(e+="",o&&o.length?(n=o[0].filename||n,o.reverse(),a={frames:o}):n&&(a={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var s=d({exception:{values:[{type:t,value:e,stacktrace:a}]},culprit:n},i);this._send(s)}},_trimPacket:function(t){var e=this._globalOptions.maxMessageLength;if(t.message&&(t.message=f(t.message,e)),t.exception){var n=t.exception.values[0];n.value=f(n.value,e)}var r=t.request;return r&&(r.url&&(r.url=f(r.url,this._globalOptions.maxUrlLength)),r.Referer&&(r.Referer=f(r.Referer,this._globalOptions.maxUrlLength))),t.breadcrumbs&&t.breadcrumbs.values&&this._trimBreadcrumbs(t.breadcrumbs),t},_trimBreadcrumbs:function(t){for(var e,n,r,o=["to","from","url"],i=0;i<t.values.length;++i)if(n=t.values[i],n.hasOwnProperty("data")&&T(n.data)){r=n.data;for(var a=0;a<o.length;++a)e=o[a],r.hasOwnProperty(e)&&(r[e]=f(r[e],this._globalOptions.maxUrlLength))}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var t={};return this._hasNavigator&&j.userAgent&&(t.headers={"User-Agent":navigator.userAgent}),this._hasDocument&&(I.location&&I.location.href&&(t.url=I.location.href),I.referrer&&(t.headers||(t.headers={}),t.headers.Referer=I.referrer)),t}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&r()-this._backoffStart<this._backoffDuration},_isRepeatData:function(t){var e=this._lastData;return!(!e||t.message!==e.message||t.culprit!==e.culprit)&&(t.stacktrace||e.stacktrace?x(t.stacktrace,e.stacktrace):!t.exception&&!e.exception||_(t.exception,e.exception))},_setBackoffState:function(t){if(!this._shouldBackoff()){var e=t.status;if(400===e||401===e||429===e){var n;try{n=t.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(t){}this._backoffDuration=n?n:2*this._backoffDuration||1e3,this._backoffStart=r()}}},_send:function(t){var e=this._globalOptions,n={project:this._globalProject,logger:e.logger,platform:"javascript"},o=this._getHttpData();if(o&&(n.request=o),t.trimHeadFrames&&delete t.trimHeadFrames,t=d(n,t),t.tags=d(d({},this._globalContext.tags),t.tags),t.extra=d(d({},this._globalContext.extra),t.extra),t.extra["session:duration"]=r()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(t.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),c(t.tags)&&delete t.tags,this._globalContext.user&&(t.user=this._globalContext.user),e.environment&&(t.environment=e.environment),e.release&&(t.release=e.release),e.serverName&&(t.server_name=e.serverName),a(e.dataCallback)&&(t=e.dataCallback(t)||t),t&&!c(t)&&(!a(e.shouldSendCallback)||e.shouldSendCallback(t)))return this._shouldBackoff()?void this._logDebug("warn","Raven dropped error due to backoff: ",t):void("number"==typeof e.sampleRate?Math.random()<e.sampleRate&&this._sendProcessedPayload(t):this._sendProcessedPayload(t))},_getUuid:function(){return m()},_sendProcessedPayload:function(t,e){var n=this,r=this._globalOptions;if(this.isSetup()){if(this._lastEventId=t.event_id||(t.event_id=this._getUuid()),t=this._trimPacket(t),!this._globalOptions.allowDuplicates&&this._isRepeatData(t))return void this._logDebug("warn","Raven dropped repeat event: ",t);this._lastData=t,this._logDebug("debug","Raven about to send:",t);var o={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(o.sentry_secret=this._globalSecret);var i=t.exception&&t.exception.values[0];this.captureBreadcrumb({category:"sentry",message:i?(i.type?i.type+": ":"")+i.value:t.message,event_id:t.event_id,level:t.level||"error"});var a=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:a,auth:o,data:t,options:r,onSuccess:function(){n._resetBackoff(),n._triggerEvent("success",{data:t,src:a}),e&&e()},onError:function(r){n._logDebug("error","Raven transport failed to send: ",r),r.request&&n._setBackoffState(r.request),n._triggerEvent("failure",{data:t,src:a}),r=r||new Error("Raven send failed (no additional details provided)"),e&&e(r)}})}},_makeRequest:function(t){var e=new XMLHttpRequest,n="withCredentials"in e||"undefined"!=typeof XDomainRequest;if(n){var r=t.url;"withCredentials"in e?e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)t.onSuccess&&t.onSuccess();else if(t.onError){var n=new Error("Sentry error code: "+e.status);n.request=e,t.onError(n)}}:(e=new XDomainRequest,r=r.replace(/^https?:/,""),t.onSuccess&&(e.onload=t.onSuccess),t.onError&&(e.onerror=function(){var n=new Error("Sentry error code: XDomainRequest");n.request=e,t.onError(n)})),e.open("POST",r+"?"+g(t.auth)),e.send(S(t.data))}},_logDebug:function(t){this._originalConsoleMethods[t]&&this.debug&&Function.prototype.apply.call(this._originalConsoleMethods[t],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(t,e){i(e)?delete this._globalContext[t]:this._globalContext[t]=d(this._globalContext[t]||{},e)}};var D=Object.prototype;"undefined"!=typeof __DEV__&&__DEV__&&(o.utils={isUndefined:i,isFunction:a,isString:s,isObject:T,isEmptyObject:c,isError:A,each:u,objectMerge:d,truncate:f,hasKey:p,joinRegExp:h,urlencode:g,uuid4:m,htmlTreeAsString:y,htmlElementAsString:b,parseUrl:v,fill:E}),o.prototype.setUser=o.prototype.setUserContext,o.prototype.setReleaseContext=o.prototype.setRelease,e.exports=o}).call(this,"undefined"!=typeof s?s:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1,2:2,5:5,6:6,7:7}],4:[function(t,e,n){(function(n){var r=t(3),o="undefined"!=typeof window?window:"undefined"!=typeof n?n:"undefined"!=typeof self?self:{},i=o.Raven,a=new r;a.noConflict=function(){return o.Raven=i,a},a.afterLoad(),e.exports=a}).call(this,"undefined"!=typeof s?s:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{3:3}],5:[function(t,e,n){function r(t){return"object"===("undefined"==typeof t?"undefined":(0,l.default)(t))&&null!==t}function o(t){switch({}.toString.call(t)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return t instanceof Error}}e.exports={isObject:r,isError:o}},{}],6:[function(t,e,n){(function(n){function r(){return"undefined"==typeof document||"undefined"==typeof document.location?"":document.location.href}var o=t(5),i={collectWindowErrors:!0,debug:!1},a="undefined"!=typeof window?window:"undefined"!=typeof n?n:"undefined"!=typeof self?self:{},s=[].slice,c="?",u=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;i.report=function(){function t(t){f(),y.push(t)}function e(t){for(var e=y.length-1;e>=0;--e)y[e]===t&&y.splice(e,1)}function n(){p(),y=[]}function l(t,e){var n=null;if(!e||i.collectWindowErrors){for(var r in y)if(y.hasOwnProperty(r))try{y[r].apply(null,[t].concat(s.call(arguments,2)))}catch(t){n=t}if(n)throw n}}function d(t,e,n,a,s){var d=null;if(_)i.computeStackTrace.augmentStackTraceWithInitialElement(_,e,n,t),h();else if(s&&o.isError(s))d=i.computeStackTrace(s),l(d,!0);else{var f,p={url:e,line:n,column:a},g=void 0,m=t;if("[object String]"==={}.toString.call(t)){var f=t.match(u);f&&(g=f[1],m=f[2])}p.func=c,d={name:g,message:m,url:r(),stack:[p]},l(d,!0)}return!!v&&v.apply(this,arguments)}function f(){m||(v=a.onerror,a.onerror=d,m=!0)}function p(){m&&(a.onerror=v,m=!1,v=void 0)}function h(){var t=_,e=b;b=null,_=null,w=null,l.apply(null,[t,!1].concat(e))}function g(t,e){var n=s.call(arguments,1);if(_){if(w===t)return;h()}var r=i.computeStackTrace(t);if(_=r,w=t,b=n,setTimeout(function(){w===t&&h()},r.incomplete?2e3:0),e!==!1)throw t}var v,m,y=[],b=null,w=null,_=null;return g.subscribe=t,g.unsubscribe=e,g.uninstall=n,g}(),i.computeStackTrace=function(){function t(t){if("undefined"!=typeof t.stack&&t.stack){for(var e,n,o,i=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,s=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,u=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,l=/\((\S*)(?::(\d+))(?::(\d+))\)/,d=t.stack.split("\n"),f=[],p=(/^(.*) is undefined$/.exec(t.message),0),h=d.length;p<h;++p){if(n=i.exec(d[p])){var g=n[2]&&0===n[2].indexOf("native"),v=n[2]&&0===n[2].indexOf("eval");v&&(e=l.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),o={url:g?null:n[2],func:n[1]||c,args:g?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=s.exec(d[p]))o={url:n[2],func:n[1]||c,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(d[p])))continue;var v=n[3]&&n[3].indexOf(" > eval")>-1;v&&(e=u.exec(n[3]))?(n[3]=e[1],n[4]=e[2],n[5]=null):0!==p||n[5]||"undefined"==typeof t.columnNumber||(f[0].column=t.columnNumber+1),o={url:n[3],func:n[1]||c,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!o.func&&o.line&&(o.func=c),f.push(o)}return f.length?{name:t.name,message:t.message,url:r(),stack:f}:null}}function e(t,e,n,r){var o={url:e,line:n};if(o.url&&o.line){if(t.incomplete=!1,o.func||(o.func=c),t.stack.length>0&&t.stack[0].url===o.url){if(t.stack[0].line===o.line)return!1;if(!t.stack[0].line&&t.stack[0].func===o.func)return t.stack[0].line=o.line,!1}return t.stack.unshift(o),t.partial=!0,!0}return t.incomplete=!0,!1}function n(t,a){for(var s,u,l=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,d=[],f={},p=!1,h=n.caller;h&&!p;h=h.caller)if(h!==o&&h!==i.report){if(u={url:null,func:c,line:null,column:null},h.name?u.func=h.name:(s=l.exec(h.toString()))&&(u.func=s[1]),"undefined"==typeof u.func)try{u.func=s.input.substring(0,s.input.indexOf("{"))}catch(t){}f[""+h]?p=!0:f[""+h]=!0,d.push(u)}a&&d.splice(0,a);var g={name:t.name,message:t.message,url:r(),stack:d};return e(g,t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),g}function o(e,o){var a=null;o=null==o?0:+o;try{if(a=t(e))return a}catch(t){if(i.debug)throw t}try{if(a=n(e,o+1))return a}catch(t){if(i.debug)throw t}return{name:e.name,message:e.message,url:r()}}return o.augmentStackTraceWithInitialElement=e,o.computeStackTraceFromStackProp=t,o}(),e.exports=i}).call(this,"undefined"!=typeof s?s:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{5:5}],7:[function(t,e,n){function r(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}function o(t,e,n,r){return JSON.stringify(t,i(e,r),n)}function i(t,e){var n=[],o=[];return null==e&&(e=function(t,e){return n[0]===e?"[Circular ~]":"[Circular ~."+o.slice(0,r(n,e)).join(".")+"]"}),function(i,a){if(n.length>0){var s=r(n,this);~s?n.splice(s+1):n.push(this),~s?o.splice(s,1/0,i):o.push(i),~r(n,a)&&(a=e.call(this,i,a))}else n.push(a);return null==t?a:t.call(this,i,a)}}n=e.exports=o,n.getSerialize=i},{}]},{},[4])(4)})}).call(e,function(){return this}())},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){var r=g(t,e,n);h.log("dfp_targeting",r.dfp_targeting),_=a.bind(this,t),document.addEventListener("oAds.complete",_);var o=p.init(r);o.then(function(e){var n=[].slice.call(document.querySelectorAll(".o-ads"));if(b=n.length,h.log.info(b+" ad slots found on page"),t&&t.get("AdsMetricsInOneKey")){var r="";r+=e.config().gpt?"adUnit-"+e.config().gpt.site+"/"+e.config().gpt.zone:"",r+=e.targeting.get().pt?"|pageType-"+e.targeting.get().pt:"",r+=e.targeting.get().res?"|res-"+e.targeting.get().res:"",r+=e.targeting.get().mvt?"|mvt-"+e.targeting.get().mvt:"",n.forEach(function(t){h.consolidateMetrics(t,r)})}n.forEach(e.slots.initSlot.bind(e.slots))})}function i(t){if(t&&t.get("stickyHeaderAd")){var e=new y(document.querySelector("[data-sticky-ad]"),document.querySelector(".n-layout"),document.querySelector(".o-header__row.o-header__top"));e.init()}}function a(t,e){var n=e.detail;if("oop"!==n.type){if(t&&t.get("brokenAdReporter")&&n.slot&&n.slot.container&&(n.slot.reporter&&n.slot.reporter.destroy(),n.slot.reporter=new v(n.slot)),n.slot.gpt&&n.slot.gpt.isEmpty===!1){if(h.log.info("Ad loaded in slot",e),0===w){(0,d.perfMark)("firstAdLoaded"),x.firstAdLoaded=(new Date).getTime();var r=function e(){i(t),/spoor-id=3/.test(document.cookie)&&(x.adIframeLoaded=(new Date).getTime(),(0,d.perfMark)("adIframeLoaded"),m(x,n.slot)),document.body.removeEventListener("oAds.adIframeLoaded",e)};document.body.addEventListener("oAds.adIframeLoaded",r)}}else n.slot.gpt&&n.slot.gpt.isEmpty===!0&&(h.log.warn("Failed to load ad, details below"),h.log(e));w++}w===b&&h.log("Ads component finished")}var s=n(6),c=r(s),u=n(25),l=r(u),d=n(12),f=n(52),p=window.oAds=n(55),h=n(69),g=n(70),v=n(72),m=n(73),y=n(74),b=void 0,w=0,_=void 0,x={};t.exports={init:function(t,e,n){window.addEventListener("ftNextLoaded",function(){l.default.init(t)});var r="object"===("undefined"==typeof n?"undefined":(0,c.default)(n))?n:{};return Promise.resolve().then(function(){if(t&&t.get("ads")){if(/(BlackBerry|BBOS|PlayBook|BB10)/.test(navigator.userAgent))return;return Promise.resolve().then(function(){var n=e.name;t&&t.get("ads")&&n&&o(t,n,r)}).then(function(){t&&t.get("krux")&&!r.noTargeting&&f.init(t)})}})}}},function(t,e,n){t.exports=n(26)},function(t,e,n){"use strict";var r=n(12).broadcast,o=n(27),i=function(t){return{category:"ads",action:t,context:{provider:"sourcepoint"}}};t.exports={init:function(t){var e=/spoor-id/.test(document.cookie);if(e&&t&&t.get("sourcepoint")){document.addEventListener("sp.blocking",function(){r("oTracking.event",i("blocked")),t.get("adCounterBlocking")&&o(t)}),document.addEventListener("sp.not_blocking",function(){r("oTracking.event",i("unblocked"))});var n=document.createElement("script");n.async=n.defer=!0,n.src="https://h2.ft.com/static-files/sp/prod/long/sp/sp-2.js",n.setAttribute("data-client-id","pHQAcgfacNTVtzm"),document.body.appendChild(n)}}}},function(t,e,n){"use strict";var r=n(28),o=n(48),i=["article","front-page","stream-page"],a=980;t.exports=function(t){var e=window.innerWidth;if(!(e<a)){var n=document.querySelector(".js-success"),s=n&&n.dataset&&n.dataset.nextApp;if(i.indexOf(s)!==-1&&("article"!==s||!document.querySelector(".content__video"))){var c={};(t.get("adCounterBlockingDummyRegistered")||t.get("registeredAdBlockingCohort"))&&(c.close=!1,c.type="overlay"),t.get("adCounterBlockingDummyB2CSubscriber")&&(c.close=!0,c.type=o()),c.type&&r(c)}}}},function(t,e,n){"use strict";var r=n(12).broadcast,o=n(29),i=n(46);t.exports=function(t){switch(t&&t.type){case"overlay":o(t);break;case"banner":i(t);break;default:return}var e=function(t){return{category:"ads",action:"counter-ad-blocking",context:{type:t.type,close:t.close}}};r("oTracking.event",e(t))}},function(t,e,n){"use strict";var r=n(30),o=n(45);t.exports=function(t){var e={html:o(t),modal:!0,preventclosing:t&&t.close===!1,customclose:t&&t.close!==!1},n=new r("counter-ad-block",e);n.open(),document.body.classList.add("counter-adblock__prevent-scroll"),
document.documentElement.classList.add("counter-adblock__prevent-scroll");var i=function t(){document.removeEventListener("oOverlay.destroy",t),document.body.classList.remove("counter-adblock__prevent-scroll"),document.documentElement.classList.remove("counter-adblock__prevent-scroll")};document.addEventListener("oOverlay.destroy",i)}},function(t,e,n){t.exports=n(31)},function(t,e,n){"use strict";var r=n(32),o=function t(){r.init(),document.removeEventListener("o.DOMContentLoaded",t)};document.addEventListener("o.DOMContentLoaded",o),t.exports=r},function(t,e,n){"use strict";var r=n(33),o=n(35),i=n(40),a=n(44),s={},c=function(t){if(!t.trigger||t.trigger instanceof HTMLElement||(t.trigger=document.querySelector(t.trigger)),t.heading&&(!t.heading.title||!t.heading.title.trim()))throw new Error('"o-overlay error": To have a heading, a non-empty title needs to be set');if(t.arrow||"undefined"!=typeof t.modal||(t.modal=!0),t.compact&&t.heading&&t.heading.shaded)throw new Error('"o-overlay error": Compact overlays can\'t have a shaded header');if(t.arrow){if(t.arrow.position||(t.arrow.position="left"),t.modal&&(t.modal=!1),"left"!==t.arrow.position&&"right"!==t.arrow.position&&"top"!==t.arrow.position&&"bottom"!==t.arrow.position)throw new Error('"o-overlay error": The position of the arrow has to be either "top", "bottom", "left" or "right".');if(("top"===t.arrow.position||"bottom"===t.arrow.position)&&t.heading&&t.heading.shaded)throw new Error('"o-overlay error": The position of the arrow can\'t be set to "top" or "bottom" when the shaded heading option is set to true.');if(t.arrow.target)t.arrow.target instanceof HTMLElement||(t.arrow.target=document.querySelector(t.arrow.target));else{if(!t.trigger)throw new Error('"o-overlay error": For overlays with arrows, if you don\'t set a trigger, you do need to set a target for the overlay.');t.arrow.target=t.trigger}t.preventclosing&&!t.modal&&(t.preventclosing=!1)}return t},u=function(t){var e={};return t instanceof HTMLElement&&(Array.prototype.forEach.call(t.attributes,function(t){if(0===t.name.indexOf("data-o-overlay")){var n=t.name.replace("data-o-overlay-","");e=a.optionsFromKey(n,t.value,e)}}),e.trigger=t),e},l=function(t,e){e.stopPropagation();var n=s[t];n&&(n.visible===!0?n.close():n.open())},d=function(t,e){o.listenTo("resize"),this.visible=!1,this.id=t;try{this.opts=c(e)}catch(t){throw this.broadcast("log","oErrors",{error:t}),t}if(!this.opts){var n=new Error('"o-overlay error": Required options have not been set');throw this.broadcast("log","oErrors",{error:n}),n}this.opts.trigger?(this.opts.trigger.addEventListener("click",l.bind(this.opts.trigger,t),!1),this.context=this.opts.arrow?i.getLayerContext(this.opts.arrow.target):i.getLayerContext(this.opts.trigger)):document.querySelector(this.opts.parentNode)?this.context=document.querySelector(this.opts.parentNode):this.context=this.opts.arrow?i.getLayerContext(this.opts.arrow.target):document.body,this.delegates={doc:new r,wrap:new r,context:new r},s[t]=this};d.prototype.open=function(){if(this.opts.trigger&&this.opts.trigger.setAttribute("aria-pressed","true"),this.content)this.show();else{var t=this;this.loadContent(function(e){if(t.opts.html=e,!t.opts.html)throw new Error('"o-overlay error": Content for the overlay needs to be set via the "html" or the "src" option.');t.render()})}},d.prototype.loadContent=function(t){!this.opts.html&&this.opts.src?/^(https?\:\/)?\//.test(this.opts.src)?a.copyContentFromUrl(this.opts.src,function(e){t(e)}):a.copyContentFromElement(document.querySelector(this.opts.src),function(e){t(e)}):t(this.opts.html)},d.prototype.render=function(){var t=document.createElement("div");if(t.className="o-overlay",t.classList.add("o-overlay--"+this.id.replace(" ","-")),t.setAttribute("role","dialog"),this.opts.zindex&&(t.style.zIndex=this.opts.zindex),this.wrapper=t,this.opts.heading){var e=document.createElement("header"),n=this.opts.heading.title.replace(" ","-").toLowerCase();if(e.classList.add("o-overlay__heading"),e.setAttribute("id",n),t.setAttribute("aria-labelledby",n),this.opts.heading.shaded&&e.classList.add("o-overlay__heading--shaded"),!this.opts.preventclosing){var r=document.createElement("a");r.className="o-overlay__close",r.setAttribute("role","button"),r.setAttribute("href","#void"),r.setAttribute("aria-label","Close"),r.setAttribute("title","Close"),this.opts.noFocus||r.setAttribute("tabindex","0"),e.appendChild(r)}var o=document.createElement("span");o.setAttribute("role","heading"),o.className="o-overlay__title",this.opts.heading.visuallyHideTitle||(o.innerHTML=this.opts.heading.title),e.appendChild(o),t.appendChild(e)}if(this.opts.tooltip){var i=document.createElement("a");i.className="o-overlay__close",i.setAttribute("role","button"),i.setAttribute("href","#void"),i.setAttribute("aria-label","Close"),i.setAttribute("title","Close"),this.opts.noFocus||i.setAttribute("tabindex","0"),t.appendChild(i),t.classList.add("o-overlay--compact")}var a=document.createElement("section");a.className="o-overlay__content",t.appendChild(a),this.content=a,this.opts.compact&&t.classList.add("o-overlay--compact"),this.show()},d.prototype.show=function(){if(this.opts.modal){this.wrapper.classList.add("o-overlay--modal");var t=document.createElement("div");t.className="o-overlay-shadow",this.shadow=t,document.body.appendChild(t)}this.delegates.doc.root(document.body),this.delegates.wrap.root(this.wrapper),this.delegates.context.root(this.context),this.closeHandler=this.close.bind(this),this.opts.nested||(this.resizeListenerHandler=this.resizeListener.bind(this),this.delegates.doc.on("oViewport.resize","body",this.resizeListenerHandler)),this.closeOnNewLayerHandler=this.closeOnNewLayer.bind(this),this.delegates.context.on("oLayers.new",this.closeOnNewLayerHandler),(this.opts.heading||this.opts.tooltip||this.opts.customclose)&&(this.delegates.wrap.on("click",".o-overlay__close",this.closeHandler),this.delegates.wrap.on("touchend",".o-overlay__close",this.closeHandler)),this.closeOnExternalClickHandler=this.closeOnExternalClick.bind(this),this.delegates.doc.on("click","body",this.closeOnExternalClickHandler),this.delegates.doc.on("touchend","body",this.closeOnExternalClickHandler),this.closeOnEscapePressHandler=this.closeOnEscapePress.bind(this),this.delegates.doc.on("keyup",this.closeOnEscapePressHandler),this.broadcast("new","oLayers"),this.context.appendChild(this.wrapper),this.opts.noFocus||(this.wrapper.setAttribute("tabindex","0"),this.wrapper.style.outline=0);var e=this;window.requestAnimationFrame(function(){e.content.innerHTML||("string"==typeof e.opts.html?e.content.innerHTML=e.opts.html:e.content.appendChild(e.opts.html)),e.width=e.getWidth(),e.height=e.getHeight(),e.opts.nested||e.respondToWindow(o.getSize()),e.visible=!0,e.wrapper.focus(),e.broadcast("ready"),e.broadcast("event","oTracking",{category:"overlay",action:"show",overlay_id:e.id})})},d.prototype.close=function(){return this.delegates.doc.destroy(),this.delegates.wrap.destroy(),this.delegates.context.destroy(),o.stopListeningTo("resize"),this.broadcast("destroy"),this.broadcast("event","oTracking",{category:"overlay",action:"close",overlay_id:this.id}),this.context.removeChild(this.wrapper),this.opts.modal&&this.shadow.parentNode.removeChild(this.shadow),this.opts.trigger&&(this.opts.trigger.focus(),this.opts.trigger.setAttribute("aria-pressed","false")),this.visible=!1,this.broadcast("close","oLayers"),!1},d.prototype.closeOnExternalClick=function(t){this.wrapper.contains(t.target)||this.opts.modal||!this.opts.trigger||this.opts.trigger.contains(t.target)||this.close()},d.prototype.closeOnEscapePress=function(t){this.opts.preventclosing||27!==t.keyCode||this.close()},d.prototype.closeOnNewLayer=function(t){t.detail&&t.detail.el===this||this.close()},d.prototype.resizeListener=function(t){this.wrapper.contains(t.target)||this.respondToWindow(t.detail.viewport)},d.prototype.broadcast=function(t,e,n){e=e||"oOverlay";var r="oLayers"===e?this.context:this.wrapper||document.body;n=n||{},"oTracking"!==e&&(n.el=this),r.dispatchEvent(new CustomEvent(e+"."+t,{detail:n,bubbles:"oLayers"!==e}))},d.prototype.realign=function(t,e){var n="width"===t?"left":"top";if(e<=this[t]){if(this.wrapper.classList.add("o-overlay--full-"+t),this.wrapper.style[n]="0",this.wrapper.style["margin"+a.capitalise(n)]=0,"height"===t){var r=this.wrapper.offsetHeight-this.wrapper.clientHeight;this.content.style.height=this.wrapper.offsetHeight-(this.opts.heading?this.wrapper.querySelector("header").offsetHeight:0)-r+"px"}}else"height"===t&&(this.content.style.height=null),this.wrapper.classList.remove("o-overlay--full-"+t),this.opts.arrow||(this.wrapper.style["margin"+a.capitalise(n)]=-(this.wrapper["offset"+a.capitalise(t)]/2)+"px"),this.wrapper.style[n]="50%"},d.prototype.respondToWindow=function(t){if(this.realign("width",t.width),this.realign("height",t.height),this.wrapper.classList.remove("o-overlay__arrow-top"),this.wrapper.classList.remove("o-overlay__arrow-bottom"),this.wrapper.classList.remove("o-overlay__arrow-left"),this.wrapper.classList.remove("o-overlay__arrow-right"),this.opts.arrow&&!this.fills()){this.opts.arrow.currentposition=this.getCurrentArrowPosition(this.opts.arrow.position),this.wrapper.classList.add("o-overlay__arrow-"+this.opts.arrow.currentposition);var e="left"===this.opts.arrow.currentposition||"right"===this.opts.arrow.currentposition?"left":"top",n="left"===this.opts.arrow.currentposition||"right"===this.opts.arrow.currentposition?"top":"left",r="left"===this.opts.arrow.currentposition||"right"===this.opts.arrow.currentposition?"height":"width",o=0,i=13,s=a.getOffsetRect(this.opts.arrow.target),c=s[r];switch(this.opts.arrow.currentposition){case"left":o=s.left+s.width+i;break;case"right":o=s.left-this.width-i;break;case"top":o=s.top+s.height+i;break;case"bottom":o=s.top-this.height-i}this.wrapper.style[e]=o+"px",this.wrapper.style[n]=s[n]+c/2-this[r]/2+"px"}},d.prototype.getCurrentArrowPosition=function(t){var e=this.opts.arrow.target.getBoundingClientRect(),n=13,r=this.wrapper.getBoundingClientRect().width+n,o=this.wrapper.getBoundingClientRect().height+n;switch(this.opts.arrow.position){case"left":e.right+r>=window.innerWidth&&e.left-r>0&&(t="right");break;case"right":e.left-r<=0&&e.right+r<window.innerWidth&&(t="left");break;case"top":e.bottom+o>=window.innerHeight&&e.top-o+n>0&&(t="bottom");break;case"bottom":e.top-o<=0&&e.bottom+o<window.innerHeight&&(t="top")}return t},d.prototype.fills=function(t){return this.wrapper.classList.contains("o-overlay--full-"+t)},d.prototype.destroy=function(){this.visible===!0&&this.close(),this.opts.trigger&&this.opts.trigger.removeEventListener("click",l),delete s[this.id]},d.prototype.getHeight=function(){var t=this.wrapper.offsetHeight-this.wrapper.clientHeight;return this.content.scrollHeight+(this.opts.heading?this.wrapper.querySelector("header").offsetHeight:0)+t},d.prototype.getWidth=function(){var t=this.wrapper.offsetWidth-this.wrapper.clientWidth;return this.content.scrollWidth+t},d.init=function(t){t||(t=document.body),t instanceof HTMLElement||(t=document.querySelector(t));for(var e=t.querySelectorAll(".o-overlay-trigger"),n=[],r=0;r<e.length;r++)s[e[r].getAttribute("data-o-overlay-id")]||n.push(new d(e[r].getAttribute("data-o-overlay-id"),u(e[r])));return n},d.destroy=function(){var t=Object.keys(s);t.forEach(function(t){s[t].destroy()})},d.getOverlays=function(){return s},t.exports=d},function(t,e,n){t.exports=n(34)},function(t,e){"use strict";function n(t){this.listenerMap=[{},{}],t&&this.root(t),this.handle=n.prototype.handle.bind(this)}function r(t,e){return t.toLowerCase()===e.tagName.toLowerCase()}function o(t,e){return this.rootElement===window?e===document:this.rootElement===e}function i(t,e){return t===e.id}t.exports=n,n.prototype.root=function(t){var e,n=this.listenerMap;if(this.rootElement){for(e in n[1])n[1].hasOwnProperty(e)&&this.rootElement.removeEventListener(e,this.handle,!0);for(e in n[0])n[0].hasOwnProperty(e)&&this.rootElement.removeEventListener(e,this.handle,!1)}if(!t||!t.addEventListener)return this.rootElement&&delete this.rootElement,this;this.rootElement=t;for(e in n[1])n[1].hasOwnProperty(e)&&this.rootElement.addEventListener(e,this.handle,!0);for(e in n[0])n[0].hasOwnProperty(e)&&this.rootElement.addEventListener(e,this.handle,!1);return this},n.prototype.captureForType=function(t){return["blur","error","focus","load","resize","scroll"].indexOf(t)!==-1},n.prototype.on=function(t,e,n,s){var c,u,l,d;if(!t)throw new TypeError("Invalid event type: "+t);if("function"==typeof e&&(s=n,n=e,e=null),void 0===s&&(s=this.captureForType(t)),"function"!=typeof n)throw new TypeError("Handler must be a type of Function");return c=this.rootElement,u=this.listenerMap[s?1:0],u[t]||(c&&c.addEventListener(t,this.handle,s),u[t]=[]),e?/^[a-z]+$/i.test(e)?(d=e,l=r):/^#[a-z0-9\-_]+$/i.test(e)?(d=e.slice(1),l=i):(d=e,l=a):(d=null,l=o.bind(this)),u[t].push({selector:e,handler:n,matcher:l,matcherParam:d}),this},n.prototype.off=function(t,e,n,r){var o,i,a,s,c;if("function"==typeof e&&(r=n,n=e,e=null),void 0===r)return this.off(t,e,n,!0),this.off(t,e,n,!1),this;if(a=this.listenerMap[r?1:0],!t){for(c in a)a.hasOwnProperty(c)&&this.off(c,e,n);return this}if(s=a[t],!s||!s.length)return this;for(o=s.length-1;o>=0;o--)i=s[o],e&&e!==i.selector||n&&n!==i.handler||s.splice(o,1);return s.length||(delete a[t],this.rootElement&&this.rootElement.removeEventListener(t,this.handle,r)),this},n.prototype.handle=function(t){var e,n,r,o,i,a,s,c=t.type,u=[],l="ftLabsDelegateIgnore";if(t[l]!==!0){switch(s=t.target,3===s.nodeType&&(s=s.parentNode),r=this.rootElement,o=t.eventPhase||(t.target!==t.currentTarget?3:2)){case 1:u=this.listenerMap[1][c];break;case 2:this.listenerMap[0]&&this.listenerMap[0][c]&&(u=u.concat(this.listenerMap[0][c])),this.listenerMap[1]&&this.listenerMap[1][c]&&(u=u.concat(this.listenerMap[1][c]));break;case 3:u=this.listenerMap[0][c]}for(n=u.length;s&&n;){for(e=0;e<n&&(i=u[e],i);e++)if(i.matcher.call(s,i.matcherParam,s)&&(a=this.fire(t,s,i)),a===!1)return t[l]=!0,void t.preventDefault();if(s===r)break;n=u.length,s=s.parentElement}}},n.prototype.fire=function(t,e,n){return n.handler.call(e,t,e)};var a=function(t){if(t){var e=t.prototype;return e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector}}(Element);n.prototype.destroy=function(){this.off(),this.root()}},function(t,e,n){t.exports=n(36)},function(t,e,n){"use strict";function r(t,e){"number"==typeof arguments[0]?(r("scroll",arguments[0]),r("resize",arguments[1]),r("orientation",arguments[2]),r("visibility",arguments[3])):e&&(h[t]=e)}function o(){if(!p.resize){var t="resize",e=f(function(t){l.broadcast("resize",{viewport:l.getSize(),originalEvent:t})},h.resize);window.addEventListener(t,e),p.resize={eventType:t,handler:e}}}function i(){if(!p.orientation){var t="orientationchange",e=f(function(t){l.broadcast("orientation",{viewport:l.getSize(),orientation:l.getOrientation(),originalEvent:t})},h.orientation);window.addEventListener(t,e),p.orientation={eventType:t,handler:e}}}function a(){if(!p.visibility){var t=l.detectVisiblityAPI().eventType,e=f(function(t){l.broadcast("visibility",{hidden:l.getVisibility(),originalEvent:t})},h.visibility);window.addEventListener(t,e),p.visibility={eventType:t,handler:e}}}function s(){if(!p.scroll){var t="scroll",e=d(function(t){var e=l.getScrollPosition();l.broadcast("scroll",{viewport:l.getSize(),scrollHeight:e.height,scrollLeft:e.left,scrollTop:e.top,scrollWidth:e.width,originalEvent:t})},h.scroll);window.addEventListener(t,e),p.scroll={eventType:t,handler:e}}}function c(t){"resize"!==t&&"all"!==t||o(),"scroll"!==t&&"all"!==t||s(),"orientation"!==t&&"all"!==t||i(),"visibility"!==t&&"all"!==t||a()}function u(t){"all"===t?Object.keys(p).forEach(u):p[t]&&(window.removeEventListener(p[t].eventType,p[t].handler),delete p[t])}var l=n(37),d=l.throttle,f=l.debounce,p={},h={resize:100,orientation:100,visibility:100,scroll:100};t.exports={debug:function(){l.debug()},listenTo:c,stopListeningTo:u,setThrottleInterval:r,getOrientation:l.getOrientation,getSize:l.getSize,getScrollPosition:l.getScrollPosition,getVisibility:l.getVisibility}},function(t,e,n){"use strict";function r(t,e,n){n=n||document.body,f&&console.log("o-viewport",t,e),n.dispatchEvent(new CustomEvent("oViewport."+t,{detail:e,bubbles:!0}))}function o(t){return t?document.documentElement.clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}function i(t){return t?document.documentElement.clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0)}function a(e){return{height:t.exports.getHeight(e),width:t.exports.getWidth(e)}}function s(){var t=document.documentElement,e=document.body,n="CSS1Compat"===(document.compatMode||""),r=n?t.scrollLeft:e.scrollLeft,o=n?t.scrollTop:e.scrollTop;return{height:e.scrollHeight,width:e.scrollWidth,left:window.pageXOffset||window.scrollX||r,top:window.pageYOffset||window.scrollY||o}}function c(){var t=window.screen.orientation||window.screen.mozOrientation||window.screen.msOrientation||void 0;return t?"string"==typeof t?t.split("-")[0]:t.type.split("-")[0]:window.matchMedia?window.matchMedia("(orientation: portrait)").matches?"portrait":"landscape":o()>=i()?"portrait":"landscape"}function u(){var t=void 0,e=void 0;return"undefined"!=typeof document.hidden?(t="hidden",e="visibilitychange"):"undefined"!=typeof document.mozHidden?(t="mozHidden",e="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(t="msHidden",e="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(t="webkitHidden",e="webkitvisibilitychange"),{hiddenName:t,eventType:e}}function l(){var t=u().hiddenName;return document[t]}var d=n(38),f=void 0;t.exports={debug:function(){f=!0},broadcast:r,getWidth:i,getHeight:o,getSize:a,getScrollPosition:s,getVisibility:l,getOrientation:c,detectVisiblityAPI:u,debounce:d.debounce,throttle:d.throttle}},function(t,e,n){t.exports=n(39)},function(t,e){"use strict";function n(t,e){var n=void 0;return function(){var r=this,o=arguments,i=function(){n=null,t.apply(r,o)};clearTimeout(n),n=setTimeout(i,e)}}function r(t,e){var n=void 0;return function(){var r=this;if(!n){var o=arguments,i=function(){n=null,t.apply(r,o)};n=setTimeout(i,e)}}}Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=n,e.throttle=r},function(t,e,n){t.exports=n(41)},function(t,e,n){"use strict";var r=n(42);t.exports={getLayerContext:function(t){return r.getClosestMatch(t,".o-layers__context")||document.body}}},function(t,e,n){t.exports=n(43)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){for(;t;){if(t.matches(e))return t;t=t.parentElement}return!1}function i(t){var e=0;if(t&&"object"===("undefined"==typeof t?"undefined":(0,s.default)(t))&&1===t.nodeType){for(;t.previousSibling;)t=t.previousSibling,1===t.nodeType&&++e;return e}}var a=n(6),s=r(a);e.getClosestMatch=o,e.getIndex=i},function(t,e){"use strict";t.exports={unCapitalise:function(t){return t.charAt(0).toLowerCase()+t.substr(1)},capitalise:function(t){return t.charAt(0).toUpperCase()+t.substr(1)},copyContentFromElement:function(t,e){var n="SCRIPT"===t.nodeName?t.innerHTML:t.outerHTML;e(n)},copyContentFromUrl:function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onload=function(){4===n.readyState&&e(200===n.status?n.responseText:"Content failed to load correctly")},n.onerror=function(e){throw new Error('"o-overlay error": Fetching content from '+t+" failed with errror "+e)},n.send(null)},optionsFromKey:function(t,e,n){var r=t.indexOf("-");if(r===-1)try{n[t]=JSON.parse(e.replace(/\'/g,'"'))}catch(r){n[t]=e}else{var o=t.substr(0,r);n[o]||(n[o]={}),n[o]=this.optionsFromKey(t.substr(r+1),e,n[o])}return n},getOffsetRect:function(t){var e=t.getBoundingClientRect(),n=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||n.scrollTop,i=window.pageXOffset||r.scrollLeft||n.scrollLeft,a=r.clientTop||n.clientTop||0,s=r.clientLeft||n.clientLeft||0;return{width:e.width||e.right-e.left,height:e.height||e.bottom-e.top,top:e.top+o-a,left:e.left+i-s}}}},function(t,e){"use strict";var n="https://www.ft.com/__assets/creatives/ad-blocking/browser-frontpage-whitelisting.svg%3Fcachebust%3D21-02-2017",r="https://www.ft.com/__origami/service/image/v2/images/raw/"+n+"?source=next&quality=highest&dpr=2";t.exports=function(t){var e="";t&&t.close===!0&&(e='<a class="o-overlay__close" role="button" tabindex="0" href="javascript:void(0)" data-trackable="close" aria-label="Close" title="Close"></a>');var n=t&&t.close===!0?"support our journalism":"continue";return'\n\t\t<div tabindex="-1" class="o-grid-container counter-adblock" data-trackable="counter-adblock-overlay">\n\t\t\t<div class="o-grid-row">\n\t\t\t\t<div class="counter-adblock__block--left" data-o-grid-colspan="12 L7">\n\t\t\t\t\t<h2 class="counter-adblock__title">We understand your decision to use an ad blocker…</h2>\n\t\t\t\t\t<p class="counter-adblock__text">However FT journalism requires funding from both subscriptions and advertising.</p>\n\t\t\t\t\t<p class="counter-adblock__text">Please <span class="counter-adblock__text--bold">whitelist ft.com in your ad blocker</span> then refresh your browser to '+n+'.</p>\n\t\t\t\t\t<button onclick="location.href = \'http://help.ft.com/help/advertising/\';" class="counter-adblock__button o-buttons o-buttons--inverse o-buttons--big" data-trackable="help-centre">Help Centre</button>\n\t\t\t\t\t<ul class="counter-adblock__list">\n\t\t\t\t\t\t<li class="counter-adblock__list-item">\n\t\t\t\t\t\t\t<a class="counter-adblock__link" href="http://help.ft.com/help/advertising/advertising-on-the-ft/what-is-the-fts-advertising-policy/" data-trackable="advertising-policy" data-original-title="" title="">FT advertising policy</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class="counter-adblock__list-item">\n\t\t\t\t\t\t\t<a class="counter-adblock__link" href="http://help.ft.com/help/contact-us/" data-trackable="contact-us" data-original-title="" title="">Contact Us</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class="counter-adblock__list-item">\n\t\t\t\t\t\t\t<a class="counter-adblock__link" href="http://help.ft.com/help/legal/your-privacy-and-adblocking-detection/" data-trackable="privacy" data-original-title="" title="">Privacy</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<div class="counter-adblock__block--right" data-o-grid-colspan="12 L5">\n\t\t\t\t\t<img class="counter-adblock__image" src="'+r+'" alt="How to whitelist ft.com" role="presentation">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t'+e+"\n\t\t</div>\n\t"}},function(t,e,n){"use strict";var r=n(47);t.exports=function(){var t=document.createElement("div");t.classList.add("counter-adblock__banner"),t.dataset.trackable="counter-adblock-banner",t.innerHTML=r,document.body.append(t),document.body.classList.add("counter-adblock__banner-margin")}},function(t,e){"use strict";t.exports='\n\t<div class="o-grid-container">\n\t\t<div data-o-grid-colspan="12 M9">\n\t\t\t<p class="counter-adblock__text">Please <span class="counter-adblock__text--bold">whitelist ft.com in your ad blocker</span> then refresh your browser to support our journalism.</p>\n\t\t</div>\n\t\t<div data-o-grid-colspan="12 M2 LOffset1">\n\t\t\t<button onclick="location.href = \'http://help.ft.com/help/advertising/\';" class="counter-adblock__button o-buttons o-buttons--inverse o-buttons--big" data-trackable="help-centre">Help Centre</button>\n\t\t</div>\n\t</div>\n'},function(t,e,n){"use strict";var r=n(49).local,o=n(51),i="counter-ad-blocking-overlay-seen",a=function(){r.set(i,o())};t.exports=function(){var t=r.get(i);return t===o()?"banner":(a(),"overlay")}},function(t,e,n){t.exports=n(50)},function(t,e){"use strict";function n(t){try{this.storage=window[t]}catch(t){o=!1}this.keys={},this.store={},window.addEventListener("storage",function(t){this.keys[t.key]&&(this.keys[t.key]=!0,this.store[t.key]=JSON.parse(t.newValue))}.bind(this))}var r=function(t){return String(t).replace(/([.*+?=^!:${}()|[\]\/\\])/g,"\\$1")},o=!0;n.prototype.get=function(t){if(1!==arguments.length)throw Error("get expects 1 argument, "+arguments.length+" given; "+t);if(!this.keys[t]&&o){var e;try{e=this.storage[t]}catch(t){o=!1}e&&(e=JSON.parse(e)),this.store[t]=e,this.keys[t]=!0}return this.store[t]},n.prototype.set=function(t,e){if(2!==arguments.length)throw Error("set expects 2 arguments, "+arguments.length+" given; "+t);if(o)try{this.storage[t]=JSON.stringify(e)}catch(t){if(22!==t.code)throw t;o=!1}return this.store[t]=e,this.keys[t]=!0,e},n.prototype.unset=function(t){delete this.store[t],delete this.keys[t],this.storage.removeItem(t)},n.prototype.clear=function(t){if(!t)return o&&this.storage.clear(),this.store={},void(this.keys={});t=r(t);var e=new RegExp("^"+t);for(var n in this.keys)n.match(e)&&this.unset(n)},t.exports.isPersisting=function(){return o},t.exports.local=new n("localStorage"),t.exports.session=new n("sessionStorage")},function(t,e){"use strict";t.exports=function(){var t=new Date,e=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return e=""+(e<10?"0":"")+e,n=""+(n<10?"0":"")+n,e+"/"+n+"/"+r}},function(t,e,n){"use strict";var r=n(53),o=new r("session","next-krux"),i=n(55),a=function(t){var e=new Image;e.src=t},s=function(t,e,n){var r="scriptExecCount_"+t;o.get(r).then(function(t){t=t||0,parseInt(t)<e&&(n(),o.set(r,++t).catch(function(){}))}).catch(function(){})};e.init=function(t){document.body.addEventListener("oAds.kruxScriptLoaded",function(){if("undefined"!=typeof window.Krux&&r.isPersisting()){var e=i.krux.retrieve("kuid");e&&"undefined"!=typeof e&&(t.get("kruxRubiconIntegration")&&s("rubicon",2,function(){a("https://tap.rubiconproject.com/oz/feeds/krux/tokens?afu="+e)}),t.get("kruxGoogleIntegration")&&s("doubleclick",2,function(){a("https://usermatch.krxd.net/um/v2?partner=google")}),t.get("kruxAcxiomIntegration")&&s("acxiom",2,function(){a("https://idsync.rlcdn.com/379708.gif?partner="+e)}),t.get("kruxDataLogixIntegration")&&s("DataLogix",1,function(){var t=encodeURIComponent("_kuid="+e+"&_kdpid=2dd640a6-6ebd-4d4f-af30-af8baa441a0d&dlxid=<na_id>&dlxdata=<na_da>"),n="https://beacon.krxd.net/data.gif?"+t;a("https://r.nexac.com/e/getdata.xgi?dt=br&pkey=gpwn29rvapq62&ru="+n)}),t.get("kruxIXIIntegration")&&s("ixidigital",2,function(){a("https://kr.ixiaa.com/C726AB29-0470-440B-B8D2-D552CED3A3DC/a.gif")}),t.get("kruxExelateIntegration")&&s("exelate",2,function(){a("https://loadm.exelator.com/load?_kdpid=e4942ff0-4070-4896-a7ef-e6a5a30ce9f9&buid="+e+"&p=204&g=270&j=0")})),t.get("kruxAdAdvisorIntegration")&&s("AdAdvisor-S2S",2,function(){a("https://adadvisor.net/adscores/g.js?sid=9212244187&_kdpid=2111c0af-fc3a-446f-ab07-63aa74fbde8e")})}})}},function(t,e,n){t.exports=n(54)},function(t,e,n){"use strict";function r(t,e){if(!e)throw"Namespace required";this.store=o[t],this.namespace="_ss."+e+"."}var o=n(49);r.prototype.get=function(t){return new Promise(function(e){e(this.store.get(this.namespace+t))}.bind(this))},r.prototype.set=function(t,e){return new Promise(function(n){n(this.store.set(this.namespace+t,e))}.bind(this))},r.prototype.unset=function(t){return new Promise(function(e){e(this.store.unset(this.namespace+t))}.bind(this))},r.prototype.clear=function(){return new Promise(function(t){t(this.store.clear(this.namespace))}.bind(this))},r.isPersisting=o.isPersisting,t.exports=r},function(t,e,n){t.exports=n(56)},function(t,e,n){"use strict";function r(){o()}function o(){document.addEventListener("o.DOMContentLoaded",a)}function i(){document.removeEventListener("o.DOMContentLoaded",a)}r.prototype.config=n(57),r.prototype.slots=n(63),r.prototype.gpt=n(65),r.prototype.krux=n(67),r.prototype.api=n(68),r.prototype.targeting=n(66),r.prototype.utils=n(58),r.prototype.init=function(t){this.config.init(),this.config(t);var e=this.config().targetingApi;return e?this.api.init(e,this).then(this.initLibrary.bind(this)).catch(this.initLibrary.bind(this)):Promise.resolve(this.initLibrary())},r.prototype.updateContext=function(t,e){var n=this;return this.config(t),t.targetingApi?(this.api.reset(),this.api.init(t.targetingApi,this).then(function(){n.gpt.updatePageTargeting(n.targeting.get()),n.config("krux")&&(n.krux.setAllAttributes(),n.krux.sendNewPixel(e))})):Promise.resolve()},r.prototype.initLibrary=function(){return this.slots.init(),this.gpt.init(),this.krux.init(),this.utils.on("debug",this.debug.bind(this)),this.isInitialised=!0,this.utils.broadcast("initialised",this),i(),this};var a=function(){return s.init().then(function(){var t=Array.from(document.querySelectorAll(".o-ads, [data-o-ads-name]"));t.forEach(s.slots.initSlot.bind(s.slots))})};r.prototype.debug=function(){var t=!0;localStorage.getItem("oAds")?t=!1:localStorage.setItem("oAds",!0),this.gpt.debug(),this.krux.debug(),this.slots.debug(),this.targeting.debug(),t&&localStorage.removeItem("oAds")};var s=new r;t.exports=s},function(t,e,n){"use strict";function r(){var t={},e=Array.from(document.querySelectorAll("script[data-o-ads-config]"));return e.forEach(function(e){t=window.JSON?a.extend(t,JSON.parse(e.innerHTML)):"UNSUPPORTED"}),t}function o(){var t=void 0,e=document.querySelector('link[rel="canonical"]');return e&&(t=e.href),{canonical:t}}function i(){this.store={}}var a=n(58),s={formats:{MediumRectangle:{sizes:[300,250]},Rectangle:{sizes:[180,50]},WideSkyscraper:{sizes:[160,600]},Leaderboard:{sizes:[728,90]},SuperLeaderboard:{sizes:[[970,90],[970,66]]},HalfPage:{sizes:[300,600]},Billboard:{sizes:[970,250]},Portrait:{sizes:[300,1050]},AdhesionBanner:{sizes:[320,50]},MicroBar:{sizes:[88,31]},Button2:{sizes:[120,60]},Responsive:{sizes:[2,2]}},responsive:{extra:[1025,0],large:[1e3,0],medium:[760,0],small:[0,0]},flags:{refresh:!0,inview:!0}};i.prototype.access=function(t,e){var n=void 0;return a.isPlainObject(t)?(a.extend(!0,this.store,t),n=this.store):"undefined"==typeof e?n="undefined"==typeof t?this.store:this.store[t]:(this.store[t]=e,n=e),n},i.prototype.clear=function(t){t?delete this.store[t]:this.store={}},i.prototype.init=function(){return this.store=a.extend(!0,{},s,o(),r()),this.store};var c=new i;t.exports=c.access.bind(c),t.exports.init=c.init.bind(c),t.exports.clear=c.clear.bind(c)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1];return null===t?"Null":void 0===t?"Undefined":e}function i(t){return function(e){return o(e)===t}}function a(t,e){for(e=e||["Array","Object","String","Function","Storage"];e.length;){var n=e.pop();t["is"+n]=i(n)}return t}function s(){var t=void 0,e=void 0,n=void 0,r=void 0,o=void 0,i=arguments[0]||{},a=arguments.length,c=!1,l=1;if("boolean"==typeof i&&(c=i,i=arguments[1]||{},l=2),"object"===("undefined"==typeof i?"undefined":(0,u.default)(i))||d.isFunction(i)||(i={}),a===l)return i;for(;l<a;l++)if(null!==(t=arguments[l]))for(var f in t)if(t.hasOwnProperty(f)){if(e=i[f],n=t[f],i===n)continue;c&&n&&(d.isPlainObject(n)||d.isArray(n))?(r=d.isArray(n),r?(r=!1,o=e&&d.isArray(e)?e:[]):o=e&&d.isObject(e)?e:{},i[f]=s(c,o,n)):void 0!==n&&(i[f]=n)}return i}var c=n(6),u=r(c),l=Object.prototype.hasOwnProperty,d=t.exports;t.exports.isWindow=function(t){return t&&null!==t&&t===window},t.exports.isPlainObject=function(t){var e=Object.prototype.hasOwnProperty;if(!t||!d.isObject(t)||t.nodeType||d.isWindow(t))return!1;try{if(t.constructor&&!e.call(t,"constructor")&&!e.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var n=void 0;for(n in t);return void 0===n||e.call(t,n)},t.exports.isNonEmptyString=function(t){return d.isString(t)&&!!t.length},t.exports.isElement=function(t){return t&&1===t.nodeType&&t.tagName||!1},t.exports.extend=s,t.exports.hash=function(t,e,n){var r=void 0,o=void 0,i={};if(t&&t.split){t=t.split(e);for(var a=0,s=t.length;a<s;a+=1)o=t[a],r=o.split(n),r.length>1&&(i[r[0].trim()]=r.slice(1).join(n))}return i},t.exports.attach=function(t,e,n,r,o){
function i(t){c||(t.call(),c=!0,o&&a.parentElement.removeChild(a))}var a=document.createElement("script"),s=document.getElementsByTagName("script")[0],c=!1;return a.setAttribute("src",t),a.setAttribute("o-ads",""),e&&(a.async="true"),d.isFunction(n)&&(l.call(a,"onreadystatechange")?a.onreadystatechange=function(){"loaded"===a.readyState&&i(n)}:a.onload=function(){i(n)}),d.isFunction(r)&&(a.onerror=function(){i(r)}),s.parentNode.insertBefore(a,s),a},t.exports.getReferrer=function(){return document.referrer||""},t.exports.dehyphenise=function(t){return t.replace(/(-)([a-z])/g,function(t,e,n){return n.toUpperCase()})},t.exports.parseAttributeName=function(t){var e=d.isString(t)?t:t.name;return d.dehyphenise(e.replace(/(data-)?o-ads-/,""))},t.exports.getLocation=function(){return document.location.href||""},t.exports.getQueryString=function(){return document.location.search.substring(1)||""},t.exports.getTimestamp=function(){var t=new Date;return[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2),("0"+t.getHours()).slice(-2),("0"+t.getMinutes()).slice(-2),("0"+t.getSeconds()).slice(-2)].join("")};var f=document.getElementsByTagName("iframe");t.exports.iframeToSlotName=function(t){for(var e=void 0,n=void 0,r=f.length;r--;)if(f[r].contentWindow===t){n=f[r];break}if(n)for(;n.parentNode;){if(e=n.getAttribute("data-o-ads-name"))return e;n=n.parentNode}return!1},t.exports.buildObjectFromArray=function(t){return t.reduce(function(t,e){return t[e.key]=e.value,t},{})},t.exports.cookie=function(t){var e=document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]+)");return e?e.pop():null},s(t.exports,n(59)),s(t.exports,n(60)),t.exports.responsive=n(61),t.exports.log=n(62),a(t.exports)},function(t,e){"use strict";function n(t,e,n){n=n||document.body||document.documentElement,t="oAds."+t;var r={bubbles:!0,cancelable:!0,detail:e};n.dispatchEvent(new CustomEvent(t,r))}function r(t,e,n){t="oAds."+t,n=n||document.body||document.documentElement,n.addEventListener(t,e)}function o(t,e,n){var o=function(n){var r=n.target||n.srcElement;r.removeEventListener(t="oAds."+t,e),e&&(e(n),e=null)};r(t,o,n)}t.exports.broadcast=n,t.exports.on=r,t.exports.once=o},function(t,e){"use strict";t.exports.messenger={post:function(t,e){t="string"==typeof t?t:JSON.stringify(t),e=arguments[1]||window.top,e.postMessage(t,"*")},parse:function(t){if("string"!=typeof t||"{"!==t[0])return t;try{return JSON.parse(t)}catch(e){return t}}}},function(t,e,n){"use strict";function r(){function t(t){var r=u[t];n.width>=r[0]&&n.height>=r[1]&&(!e||r[0]>=u[e][0])&&(e=t)}var e=void 0,n=f.getSize(!0);return Object.keys(u).forEach(t),e}function o(){var t=r();l!==t&&(i(t),c(t))}function i(t){l=t}function a(){return l}function s(t,e){return!!d.isFunction(e)&&(u=t,c=e,i(r()),document.body.addEventListener("oViewport.orientation",o),document.body.addEventListener("oViewport.resize",o),f.listenTo("orientation"),f.listenTo("resize"),a())}var c=void 0,u=void 0,l=void 0,d=n(58),f=n(35);t.exports=s,t.exports.getCurrent=a,t.exports.setThrottleInterval=f.setThrottleInterval},function(t,e,n){"use strict";function r(){var t=void 0,e=void 0,n=void 0;"log warn error info".indexOf(arguments[0])===-1?(t="log",n=0):(t=arguments[0],n=1),e=[].slice.call(arguments,n),r.isOn(t)&&window.console[t].apply(window.console,e)}t.exports=r,t.exports.isOn=function(t){var e=localStorage.getItem("oAds")||location.search.indexOf("DEBUG=OADS")!==-1;return e&&window.console&&window.console[t]},t.exports.warn=function(){var t=["warn"].concat([].slice.call(arguments,0));r.apply(null,t)},t.exports.error=function(){var t=["error"].concat([].slice.call(arguments,0));r.apply(null,t)},t.exports.info=function(){var t=["info"].concat([].slice.call(arguments,0));r.apply(null,t)},t.exports.start=function(t){r.isOn("groupCollapsed")&&window.console.groupCollapsed(t||"o-ads")},t.exports.end=function(){r.isOn("groupEnd")&&window.console.groupEnd()},t.exports.table=function(t,e){r.isOn("log")&&window.console&&(console.table?console.table(t,e):console.log(t))},t.exports.attributeTable=function(t,e){var o=n(58);if(r.isOn("log")&&window.console)if(t&&console.table){var i=Object.keys(t).map(function(e){var n=void 0;return n=o.isArray(t[e])||o.isObject(t[e])?JSON.stringify(t[e]):t[e],{key:e,value:n}});console.table(i,e)}else console.log(t)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){}function i(t,e,n){var r=[];return t=t||Object.keys(this),d.isNonEmptyString(t)?r.push(t):d.isArray(t)&&(r=t),r.forEach(a.bind(null,this,e)),d.isFunction(n)&&n.call(this,r),this}function a(t,e,n){var r=t[n];r?d.isFunction(r[e])?r[e]():d.isFunction(r.fire)?r.fire(e):d.log.warn("Attempted to %s on a non-slot %s",e,n):d.log.warn("Attempted to %s non-existant slot %s",e,n)}function s(t){if(!t)return!1;var e=f("formats");for(var n in e)if(e.hasOwnProperty(n)){var r=e[n].sizes;r=d.isArray(r[0])?r:[r];var o=r.filter(function(e){return e[0]===parseInt(t[0])&&e[1]===parseInt(t[1])});if(o.length)return n}}function c(t,e){t.forEach(function(t){if(t){var n=t.container&&"Responsive"===t.container.getAttribute("data-o-ads-loaded"),r=t.sizes[e]&&t.sizes[e].filter(function(t){return"Responsive"===s(t)}).length>0;if(n&&r)return!1;t.screensize=e,t.fire("breakpoint",{screensize:e})}})}var u=n(6),l=r(u),d=n(58),f=n(57),p=n(64),h=null;o.prototype.collapse=function(t){return i.call(this,t,"collapse")},o.prototype.uncollapse=function(t){return i.call(this,t,"uncollapse")},o.prototype.refresh=function(t){return i.call(this,t,"refresh")},o.prototype.clear=function(t){return i.call(this,t,"clear")},o.prototype.destroy=function(t){return i.call(this,t,"clear",function(t){var e=this;t.forEach(function(t){e[t]=null,delete e[t]})})},o.prototype.submitImpression=function(t){return i.call(this,t,"submitImpression")},o.prototype.initSlot=function(t){if(d.isString(t)&&(t=document.getElementById(t)||document.querySelector('[data-o-ads-name="'+t+'"]'),t&&t.id&&(t.setAttribute("data-o-ads-name",t.id),t.removeAttribute("id"))),!d.isElement(t))return d.log.error("slot container must be an element!",t),!1;t.setAttribute("aria-hidden","true");var e=new p(t,h,this.initLazyLoading.bind(this));return e&&!this[e.name]?(this[e.name]=e,e.fire("ready")):this[e.name]&&d.log.error("slot %s is already defined!",e.name),e},o.prototype.initRefresh=function(){var t=this;if(f("flags").refresh&&f("refresh")){var e=f("refresh");if(this.refreshCount=0,e.time&&!e.inview){var n=function n(){!e.max||t.refreshCount++<e.max?t.refresh():t.refreshCount>=e.max&&clearInterval(n)};setInterval(n,1e3*(parseFloat(e.time)||1))}}return this},o.prototype.initRendered=function(){return d.on("rendered",function(t,e){var n=t[e.detail.name];if(n){d.extend(n[n.server],e.detail[n.server]);var r=e.detail.gpt.size,o=s(r);n.setFormatLoaded(o),n.maximise(r),n.fire("complete",e.detail)}}.bind(null,this)),this},o.prototype.initResponsive=function(){var t=f("responsive");return d.isObject(t)&&(h=d.responsive(t,c.bind(null,this))),this},o.prototype.initPostMessage=function(){function t(t,e){var n=d.messenger.parse(e.data);if(n.type&&(/^oAds\./.test(n.type)||/^touch/.test(n.type))){var r=n.type.replace("oAds.",""),o=!!n.name&&t[n.name];if("whoami"===r&&e.source){document.body.dispatchEvent(new CustomEvent("oAds.adIframeLoaded"));var i={type:"oAds.youare"},a=d.iframeToSlotName(e.source.window);if(o=t[a]||!1){if(n.collapse&&o.collapse(),n.mastercompanion){var c=o.gpt.size,u=s(c);t.forEach(function(t){t.companion&&t.name!==o.name&&(t.fire("masterLoaded",o),t.container.setAttribute("data-o-ads-master-loaded",u))})}n.customMessages&&"object"===(0,l.default)(n.customMessages)&&o.fire("customMessages",n.customMessages),o.disableSwipeDefault&&(i.disableDefaultSwipeHandler=!0),i.name=a,i.sizes=o.sizes,d.messenger.post(i,e.source)}else d.log.error("Message received from unidentified slot"),d.messenger.post(i,e.source)}else{if(!o)return void d.log.error("Message received from unidentified slot");"responsive"===r?o.setResponsiveCreative(!0):d.isFunction(o[r])?o[r]():/^touch/.test(n.type)?o.fire("touch",n):(delete n.type,delete n.name,o.fire(r,n))}}}window.addEventListener("message",t.bind(null,this),!1)},o.prototype.initLazyLoading=function(t){var e=f("lazyLoad")||t;if("IntersectionObserver"in window&&!this.lazyLoadObserver&&e){var n=function(t){var e=this;t.filter(function(t){return t.intersectionRect.height||t.intersectionRect.width||t.intersectionRect.top||t.intersectionRect.left}).sort(function(t,e){return t.intersectionRect.top-e.intersectionRect.top}).forEach(function(t){var n=t.target.getAttribute("data-o-ads-name");n&&i.call(e,n,"render")})},r={};"object"===("undefined"==typeof e?"undefined":(0,l.default)(e))&&(e.viewportMargin&&(r.rootMargin=e.viewportMargin),e.threshold&&(r.threshold=e.threshold)),this.lazyLoadObserver=new IntersectionObserver(n.bind(this),r)}return this.lazyLoadObserver},o.prototype.forEach=function(t){var e=this;return Object.keys(this).forEach(function(n){var r=e[n];r instanceof p&&t.call(e,r)}),this},o.prototype.init=function(){this.initRefresh(),this.initRendered(),this.initResponsive(),this.initPostMessage(),this.initLazyLoading()},o.prototype.debug=function(){var t=d.log,e=[];this.forEach(function(t){var n={name:t.name,"unit name":t.gpt.unitName,"creative id":t.gpt.creativeId||"N/A","line item id":t.gpt.lineItemId||"N/A",size:d.isArray(t.gpt.size)&&t.gpt.size.join("×")||t.gpt.isEmpty&&"empty"||"N/A",sizes:d.isArray(t.sizes)&&t.sizes.map(function(t){return t.join("×")}).join(", ")||"responsive slot",targeting:Object.keys(t.targeting).map(function(e){return e+"="+t.targeting[e]}).join(", ")};e.push(n)}),t.start("Creatives"),t.table(e),t.end()},t.exports=new o},function(t,e,n){"use strict";function r(t,e,n){var r=this,a=i("slots")||{},c=i("disableSwipeDefault")||!1;return this.container=t,e&&(this.screensize=e),this.outer=this.addContainer(t,{class:"o-ads__outer"}),this.inner=this.addContainer(this.outer,{class:"o-ads__inner"}),this.setName(),this.setResponsiveCreative(!1),a=a[this.name]||{},this.server="gpt",this.defer=!1,this.targeting=a.targeting||{},this.sizes=a.sizes||[],this.center=a.center||!1,this.label=a.label||!1,this.outOfPage=a.outOfPage||!1,this.disableSwipeDefault=a.disableSwipeDefault||c,this.companion=a.companion!==!1,this.collapseEmpty=a.collapseEmpty,o.isArray(a.formats)?s.formats(a.formats,this.sizes):o.isPlainObject(a.formats)&&(this.sizes={},Object.keys(a.formats).forEach(function(t){r.sizes[t]=s.formats(a.formats[t],[])})),"undefined"!=typeof a.lazyLoad?this.lazyLoad=a.lazyLoad:this.lazyLoad=i("lazyLoad")||!1,this.parseAttributeConfig(),this.sizes.length||o.isPlainObject(this.sizes)?(this.lazyLoadObserver=n(this.lazyLoad),this.initLazyLoad(),this.centerContainer(),this.labelContainer(),void this.initResponsive()):(o.log.error("slot %s has no configured sizes!",this.name),!1)}var o=n(58),i=n(57),a=["fluid"],s={sizes:function(t,e){if(t===!1||"false"===t)return!1;if(o.isArray(e)){var n=/(\d+)x(\d+)/;t.split(",").filter(function(t){return t.length}).forEach(function(t){n.test(t)?t.replace(n,function(t,n,r){e.push([parseInt(n,10),parseInt(r,10)])}):a.indexOf(t)>=0&&e.push(t)})}return e},formats:function t(e,n){if(e===!1||"false"===e)n=!1;else{var r=i().formats,t=o.isArray(e)?e:e.split(",");t.forEach(function(t){r&&r[t]?(t=r[t],o.isArray(t.sizes[0])||a.indexOf(t.sizes[0])>=0?t.sizes.forEach(function(t){n.push(t)}):n.push(t.sizes)):o.log.error("Slot configured with unknown format "+t)})}return n},responsiveSizes:function(t,e,n){var r=t.replace(/^sizes/,"").toLowerCase();return o.isPlainObject(n)||(n={}),n[r]=s.sizes(e,n[r]||[]),n},responsiveFormats:function(t,e,n){var r=t.replace(/^formats/,"").toLowerCase();return o.isPlainObject(n)||(n={}),n[r]=s.formats(e,[]),n},lazyLoadThreshold:function(t){return t.split(",").map(Number)},targeting:function(t,e){return t=o.hash(t,";","="),o.extend(e,t),e},base:function(t){return""===t||"true"===t?t=!0:"false"===t&&(t=!1),t}},c=function(t){t.lazyLoad===!0&&(t.lazyLoad={})};r.prototype.parseAttributeConfig=function(){var t=this;Array.from(this.container.attributes).forEach(function(e){var n=o.parseAttributeName(e.name),r=e.value;"formats"===n?t[n]=s[n](r,t.sizes):"lazyLoadThreshold"===n&&t.lazyLoad?(c(t),t.lazyLoad.threshold=s.lazyLoadThreshold(r)):"lazyLoadViewportMargin"===n&&t.lazyLoad?(c(t),t.lazyLoad.viewportMargin=s.base(r)):s[n]?t[n]=s[n](r,t[n]):/^formats\w*/.test(n)?t.sizes=s.responsiveFormats(n,r,t.sizes):/^sizes\w*/.test(n)?t.sizes=s.responsiveSizes(n,r,t.sizes):t.hasOwnProperty(n)&&(t[n]=s.base(r))})},r.prototype.getAttributes=function(){var t={};return Array.from(this.container.attributes).forEach(function(e){t[o.parseAttributeName(e)]=e.value}),this.attributes=t,this},r.prototype.initLazyLoad=function(){var t=this;return this.lazyLoadObserver&&this.lazyLoad&&(this.defer=!0,this.lazyLoadObserver.observe(this.container),this.companion&&o.once("masterLoaded",function(){t.hasValidSize()&&t.render()},this.container)),this},r.prototype.render=function(){this.fire("render"),this.lazyLoadObserver&&this.lazyLoadObserver.unobserve(this.container)},r.prototype.initResponsive=function(){return o.isPlainObject(this.sizes)&&(this.hasValidSize()||this.collapse(),o.on("breakpoint",function(t){var e=t.detail.slot;e.screensize=t.detail.screensize,e.hasValidSize()?e.uncollapse():(e.collapse(),e.clear())},this.container)),this},r.prototype.maximise=function(t){t&&100===+t[0]&&100===+t[1]&&this.fire("resize",{size:["100%","100%"]})},r.prototype.setName=function(){return this.name=this.container.getAttribute("data-o-ads-name")||this.container.getAttribute("o-ads-name"),this.name||(this.name="o-ads-slot-"+Math.floor(1e4*Math.random()),this.container.setAttribute("data-o-ads-name",this.name)),this},r.prototype.setResponsiveCreative=function(t){return this.responsiveCreative=t,this},r.prototype.collapse=function(){return this.container.classList.add("o-ads--empty"),this.setFormatLoaded(!1),document.body.classList.add("o-ads-no-"+this.name),o.broadcast("collapsed",this),this},r.prototype.setFormatLoaded=function(t){return this.container.setAttribute("data-o-ads-loaded",t),this},r.prototype.uncollapse=function(){return this.container.classList.remove("o-ads--empty"),document.body.classList.remove("o-ads-no-"+this.name),this},r.prototype.clear=function(){return o.isFunction(this.clearSlot)&&this.clearSlot(),this},r.prototype.submitImpression=function(){return o.isFunction(this.submitGptImpression)&&this.submitGptImpression(),this},r.prototype.fire=function(t,e){var n={name:this.name,slot:this};return o.isPlainObject(e)&&o.extend(n,e),o.broadcast(t,n,this.container),this},r.prototype.addContainer=function(t,e){var n="<div ";return e&&Object.keys(e).forEach(function(t){var r=e[t];n+=t+"="+r+" "}),n+="></div>",t.insertAdjacentHTML("beforeend",n),t.lastChild},r.prototype.hasValidSize=function(t){return t=t||this.screensize,!t||!o.isPlainObject(this.sizes)||this.sizes[t]!==!1},r.prototype.centerContainer=function(){return this.center&&this.container.classList.add("o-ads--center"),this},r.prototype.labelContainer=function(){var t=void 0;return this.label===!0||"left"===this.label?t="label-left":"right"===this.label&&(t="label-right"),t&&this.container.classList.add("o-ads--"+t),this},t.exports=r},function(t,e,n){"use strict";function r(){var t=y("gpt")||{};_=y("responsive"),o(),b.on("ready",d.bind(null,x)),b.on("render",f),b.on("refresh",p),b.on("resize",h),googletag.cmd.push(i.bind(null,t))}function o(){window.googletag||(window.googletag={},window.googletag.cmd=[]),b.attach("//www.googletagservices.com/tag/js/gpt.js",!0,null,function(t){b.broadcast("adServerLoadError",t)})}function i(t){return googletag.pubads().addEventListener("slotRenderEnded",g),l(t),a(t),s(w.get()),u(t),googletag.enableServices(),!0}function a(t){var e=t.rendering;"sync"===e?googletag.pubads().enableSyncRendering():"sra"===e?googletag.pubads().enableSingleRequest():googletag.pubads().enableAsyncRendering()}function s(t){return b.isPlainObject(t)?googletag.cmd.push(function(){var e=googletag.pubads();Object.keys(t).forEach(function(n){e.setTargeting(n,t[n])})}):b.log.warn("invalid targeting object passed",t),t}function c(t){return window.googletag?t?void googletag.cmd.push(function(){googletag.pubads().clearTargeting(t)}):void b.log.warn("Refusing to unset all keys - a key must be specified"):void b.log.warn("Attempting to clear page targeting before the GPT library has initialized")}function u(t){var e=t.collapseEmpty;"before"===e||e===!0?googletag.pubads().collapseEmptyDivs(!0,!0):"never"===e||e===!1?googletag.pubads().collapseEmptyDivs(!1):googletag.pubads().collapseEmptyDivs(!0)}function l(t){t.companions&&(googletag.pubads().disableInitialLoad(),googletag.companionAds().setRefreshUnfilledSlots(!0))}function d(t,e){var n=e.detail.slot;"gpt"===n.server&&(n.gpt={},b.extend(n,t),googletag.cmd.push(function(){n.defineSlot().addServices().setCollapseEmpty().setTargeting().setURL(),!n.defer&&n.hasValidSize()&&n.display()}))}function f(t){var e=t.detail.slot;b.isFunction(e.display)&&e.display()}function p(t){return window.googletag.cmd.push(function(){var e=t.detail.targeting;b.isPlainObject(e)&&Object.keys(e).forEach(function(n){t.detail.slot.gpt.slot.setTargeting(n,e[n])}),googletag.pubads().refresh([t.detail.slot.gpt.slot])}),this}function h(t){var e=t.detail.slot.gpt.iframe,n=t.detail.size;e.width=n[0],e.height=n[1]}function g(t){var e={gpt:{}},n=t.slot.getSlotId(),r=n.getDomId().split("-"),o="google_ads_iframe_"+n.getId();e.type=r.pop(),e.name=r.join("-");var i=e.gpt;i.isEmpty=t.isEmpty,i.size=t.size,i.creativeId=t.creativeId,i.lineItemId=t.lineItemId,i.serviceName=t.serviceName,i.iframe=document.getElementById(o),i.iframe.setAttribute("tabindex","-1"),i.iframe.setAttribute("aria-hidden","true"),i.iframe.setAttribute("role","presentation"),i.iframe.setAttribute("title","Advertisement"),b.broadcast("rendered",e)}function v(){googletag.cmd.push(function(){googletag.pubads().updateCorrelator()})}function m(t){if(window.googletag){var e=b.isPlainObject(t)?t:w.get();s(e)}else b.log.warn("Attempting to set page targeting before the GPT library has initialized")}var y=n(57),b=n(58),w=n(66),_=!1,x={defineSlot:function(){var t=this;return window.googletag.cmd.push(function(){t.gpt.id=t.name+"-gpt",t.inner.setAttribute("id",t.gpt.id),t.setUnitName(),t.outOfPage?t.gpt.slot=googletag.defineOutOfPageSlot(t.gpt.unitName,t.gpt.id):_&&b.isObject(t.sizes)?(t.initResponsive(),t.gpt.slot=googletag.defineSlot(t.gpt.unitName,[],t.gpt.id).defineSizeMapping(t.gpt.sizes)):t.gpt.slot=googletag.defineSlot(t.gpt.unitName,t.sizes,t.gpt.id)}),this},clearSlot:function(t){return!(!window.googletag.pubadsReady||!window.googletag.pubads)&&(t=t||this.gpt.slot,googletag.pubads().clear([t]))},initResponsive:function(){var t=this;return window.googletag.cmd.push(function(){b.on("breakpoint",function(e){var n=e.detail.slot,r=e.detail.screensize;m({res:r}),n.hasValidSize(r)&&!n.responsiveCreative&&(n.gpt.iframe?n.fire("refresh"):t.defer||n.display())},t.container);var e=googletag.sizeMapping();Object.keys(_).forEach(function(n){t.sizes[n]&&e.addSize(_[n],t.sizes[n])}),t.gpt.sizes=e.build()}),this},display:function(){var t=this;return window.googletag.cmd.push(function(){googletag.display(t.gpt.id)}),this},setUnitName:function(){var t=this;return window.googletag.cmd.push(function(){var e=void 0,n=y("gpt")||{},r=t.container.getAttribute("data-o-ads-gpt-unit-name");if(b.isNonEmptyString(r))e=r;else if(b.isNonEmptyString(n.unitName))e=n.unitName;else{var o=n.network,i=n.site,a=n.zone;e="/"+o,e+=b.isNonEmptyString(i)?"/"+i:"",e+=b.isNonEmptyString(a)?"/"+a:""}t.gpt.unitName=e}),this},addServices:function(t){var e=this;return window.googletag.cmd.push(function(){var n=y("gpt")||{};t=t||e.gpt.slot,t.addService(googletag.pubads()),n.companions&&e.companion!==!1&&t.addService(googletag.companionAds())}),this},setCollapseEmpty:function(){var t=this;return window.googletag.cmd.push(function(){var e=t.collapseEmpty||y("collapseEmpty");e===!0||"after"===e?t.gpt.slot.setCollapseEmptyDiv(!0):"before"===e?t.gpt.slot.setCollapseEmptyDiv(!0,!0):e!==!1&&"never"!==e||t.gpt.slot.setCollapseEmptyDiv(!1)}),this},submitGptImpression:function(){if(this.outOfPage&&this.gpt.iframe){var t=function(t){var e=t.contentWindow.document.querySelector("[data-o-ads-impression-url]");return e?e.dataset.oAdsImpressionUrl:(b.log.warn("Impression URL not found, this is set via a creative template."),!1)},e=t(this.gpt.iframe);e&&b.attach(e,!0,function(){b.log.info("Impression Url requested")},function(){b.log.info("CORS request to submit an impression failed")},!0)}else b.log.warn("Attempting to call submitImpression on a non-oop slot")},setURL:function(t){var e=this;return window.googletag.cmd.push(function(){t=t||e.gpt.slot;var n=y("canonical");t.set("page_url",n?n:b.getLocation())}),this},setTargeting:function(t){var e=this;return window.googletag.cmd.push(function(){t=t||e.gpt.slot,b.isPlainObject(e.targeting)&&Object.keys(e.targeting).forEach(function(n){t.setTargeting(n,e.targeting[n])})}),this}};t.exports.init=r,t.exports.updateCorrelator=v,t.exports.updatePageTargeting=m,t.exports.clearPageTargetingForKey=c,t.exports.debug=function(){var t=b.log,e=y("gpt");e&&(t.start("gpt"),t.attributeTable(e),t.end())}},function(t,e,n){"use strict";function r(){}var o=n(57),i=n(58),a={};r.prototype.get=function(){var t={socialReferrer:this.getSocialReferrer,timestamp:this.timestamp,responsive:this.responsive};i.extend(a,this.getFromConfig(),this.searchTerm());for(var e in t)t.hasOwnProperty(e)&&i.extend(a,t[e]());return a},r.prototype.add=function(t){i.isPlainObject(t)&&i.extend(a,t)},r.prototype.remove=function(t){a[t]&&delete a[t]},r.prototype.clear=function(){a={}},r.prototype.getFromConfig=function(){var t=o("dfp_targeting")||{};return i.isPlainObject(t)||i.isString(t)&&(t=i.hash(t,";","=")),t},r.prototype.getSocialReferrer=function(){var t=void 0,e=void 0,n=i.getReferrer(),r="^http(|s)://(www.)*(SUBSTITUTION)/|_i_referer=http(|s)(:|%3A)(/|%2F){2}(www.)*(SUBSTITUTION)(/|%2F)",o={"t.co":"twi","facebook.com":"fac","linkedin.com":"lin","drudgereport.com":"dru"};if(i.isString(n))for(e in o)if(o.hasOwnProperty(e)){var a=new RegExp(r.replace(/SUBSTITUTION/g,e));if(void 0!==e&&a.test(n)){t=o[e];break}}return t&&{socref:t}||{}},r.prototype.searchTerm=function(){var t=i.hash(i.getQueryString(),/\&|\;/,"="),e=t.q||t.s||t.query||t.queryText||t.searchField||void 0;return e&&""!==e&&(e=unescape(e).toLowerCase().replace(/[';\^\+]/g," ").replace(/\s+/g," ").trim()),{kw:e}},r.prototype.timestamp=function(){return{ts:i.getTimestamp()}},r.prototype.responsive=function(){return o("responsive")?{res:i.responsive.getCurrent()}:{}},r.prototype.debug=function(){var t=i.log,e=this.get();0!==Object.keys(e).length&&(t.start("Targeting"),t.attributeTable(this.get()),t.end())},t.exports=new r},function(t,e,n){"use strict";function r(){this.customAttributes={}}var o=n(58),i=n(57),a=n(33),s=n(66);r.prototype.add=function(t){o.extend(!0,this.customAttributes,t)},r.prototype.sendNewPixel=function(t){var e=window.Krux&&window.Krux("require:pixel");e&&e.send&&(t?e.send():e.send("",!1))},r.prototype.init=function(){var t=this;if(this.config=i("krux"),this.config&&this.config.id){window.Krux||((window.Krux=function(){window.Krux.q.push(arguments)}).q=[]),this.api=window.Krux,this.config.attributes&&this.add(this.config.attributes),this.setAllAttributes();var e=void 0,n=o.getLocation().match(/\bkxsrc=([^&]+)/);n&&(e=decodeURIComponent(n[1]));var r=/^https?:\/\/([^\/]+\.)?krxd\.net(:\d{1,5})?\//i.test(e)?e:"disable"===e?"":"//cdn.krxd.net/controltag/"+this.config.id+".js",a=function(){t.kruxScript=o.attach(r,!0,function(){o.broadcast("kruxScriptLoaded")}),t.events.init()};setTimeout(function(){"requestIdleCallback"in window?requestIdleCallback(a):a()},1e3),s.add(this.targeting())}},r.prototype.retrieve=function(t){var e=void 0;return t="kx"+t,window.localStorage&&localStorage.getItem(t)?e=localStorage.getItem(t):o.cookie(t)&&(e=o.cookie(t)),e},r.prototype.segments=function(){return this.retrieve("segs")},r.prototype.targeting=function(){var t=this.segments();return t&&(t=t.split(","),i("krux").limit&&(t=t.slice(0,i("krux").limit))),{kuid:this.retrieve("user"),ksg:t,khost:encodeURIComponent(location.hostname),bht:t&&t.length>0?"true":"false"}},r.prototype.events={delegated:function(t){if(window.addEventListener&&t){var e=this.fire,n=function(n){return function(){e(t[n].id)}};window.addEventListener("load",function(){var e=new a(document.body);for(var r in t)t.hasOwnProperty(r)&&e.on(t[r].eType,t[r].selector,n(r))},!1)}}},r.prototype.events.fire=function(t,e){return!!t&&(e=o.isPlainObject(e)?e:{},window.Krux("admEvent",t,e))},r.prototype.events.init=function(){var t=void 0,e=i("krux")&&i("krux").events;if(o.isPlainObject(e))for(t in e)o.isFunction(this[t])?this[t](e[t]):o.isFunction(e[t].fn)&&e[t].fn(e[t])},r.prototype.setAttributes=function(t,e){e&&Object.keys(e).forEach(function(n){window.Krux("set",t+n,e[n])})},r.prototype.setAllAttributes=function(){this.customAttributes&&(this.setAttributes("page_attr_",this.customAttributes.page||{}),this.setAttributes("user_attr_",this.customAttributes.user||{}),this.setAttributes("",this.customAttributes.custom||{}))},r.prototype.resetAttributes=function(){var t=this;["user","page","custom"].forEach(function(e){t.customAttributes[e]&&Object.keys(t.customAttributes[e]).forEach(function(t){window.Krux("set","custom"===e?t:e+"_attr_"+t,null)})}),this.customAttributes={}},r.prototype.debug=function(){var t=o.log;if(this.config){if(t.start("Krux©"),t("%c id:","font-weight: bold",this.config.id),this.config.limit&&t("%c segment limit:","font-weight: bold",this.config.limit),this.config.attributes){var e=this.config.attributes;t.start("Attributes"),t.start("Page"),t.attributeTable(e.page),t.end(),t.start("User"),t.attributeTable(e.user),t.end(),t.start("Custom"),t.attributeTable(e.custom),t.end(),t.end()}if(this.config.events){var n=this.config.events;t.start("Events"),t.start("Delegated"),t.table(n.delegated),t.end(),t.end()}var r=this.targeting();t.start("Targeting"),t.attributeTable(r),t.end();var i=Array.from(document.querySelectorAll(".kxinvisible"));i.length&&(t.start(i.length+" Supertag© scripts"),i.forEach(function(e){t(e.dataset.alias,e.querySelector("script"))}),t.end()),t.end()}},t.exports=new r},function(t,e){"use strict";function n(){this.data=[],this.config={}}n.prototype.getUserData=function(t){return t?fetch(t,{timeout:2e3,useCorsProxy:!0,credentials:"include"}).then(function(t){return t.json()}).catch(function(){return Promise.resolve({})}):Promise.resolve({})},n.prototype.getPageData=function(t){return t?fetch(t,{timeout:2e3,useCorsProxy:!0}).then(function(t){return t.json()}).catch(function(){return Promise.resolve({})}):Promise.resolve({})},n.prototype.handleResponse=function(t){this.data=t;for(var e=0;e<t.length;e++){var n=t[e],r=["user","page"],o={};if(n.krux&&n.krux.attributes&&(o[r[e]]=this.instance.utils.buildObjectFromArray(n.krux.attributes),this.instance.krux.add(o)),n.dfp&&n.dfp.targeting&&this.instance.targeting.add(this.instance.utils.buildObjectFromArray(n.dfp.targeting)),this.config.usePageZone&&n.dfp&&n.dfp.adUnit){var i=this.instance.config("gpt");i&&i.zone&&(i.zone=n.dfp.adUnit.join("/"))}}},n.prototype.init=function(t,e){return this.config=t,this.instance=e,t?Promise.all([this.getUserData(t.user),this.getPageData(t.page)]).then(this.handleResponse.bind(this)):Promise.resolve()},n.prototype.reset=function(){var t=this;this.instance.krux.resetAttributes(),this.data.forEach(function(e){e.dfp&&e.dfp.targeting&&e.dfp.targeting.forEach(function(e){t.instance.targeting.remove(e.key),t.instance.gpt.clearPageTargetingForKey(e.key)})})},t.exports=new n},function(t,e){"use strict";function n(t,e,n){var r=void 0;return function(){var o=this,i=arguments,a=function(){r=null,n||t.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(o,i)}}function r(){var t="default";if(1===window.location.search.indexOf("adsLayout")){var e=new RegExp("(adsLayout=([^&#]*)|&|#|$)");t=e.exec(window.location.search.substring(1))[2]}else document.querySelector("[data-ads-layout]")&&(t=document.querySelector("[data-ads-layout]").getAttribute("data-ads-layout"));return t}function o(){var t="-",e=document.querySelector("[data-ab-state]");return e&&(t=e.getAttribute("data-ab-state")),t}function i(t,e){var n=/pos=[^;]*/;if("undefined"!=typeof t.dataset.oAdsTargeting){var r=t.dataset.oAdsTargeting.match(n);r[0]&&(r[0]=r[0].replace(/=/g,"-"),e+="|"+r[0])}else t.dataset.oAdsTargeting="";t.dataset.oAdsTargeting+="metrics="+e+";"}function a(t){var e=document.querySelector('meta[name="'+t+'"]');return!!e&&e.getAttribute("content")}function s(t){return Object.keys(t).map(function(e){return e+"="+t[e]}).join(";")}function c(){return document.referrer}function u(t){return null===t.firstChild||1!==t.firstChild.nodeType||"none"===t.firstChild.style.display}function l(){var t=void 0,e=void 0,n=void 0;"log warn error info".indexOf(arguments[0])===-1?(t="log",n=0):(t=arguments[0],n=1),e=[].slice.call(arguments,n),l.isOn()&&window.console&&window.console[t]&&window.console[t].apply(window.console,e)}l.warn=function(){var t=["warn"].concat([].slice.call(arguments,0));l.apply(null,t)},l.error=function(){var t=["error"].concat([].slice.call(arguments,0));l.apply(null,t)},l.info=function(){var t=["info"].concat([].slice.call(arguments,0));l.apply(null,t)},l.start=function(){l.isOn()&&window.console&&window.console.groupCollapsed&&window.console.groupCollapsed("next-ads-component")},l.end=function(){l.isOn()&&window.console&&window.console.groupEnd&&window.console.groupEnd()},l.isOn=function(){return location.search.indexOf("DEBUG=ADS")>-1},t.exports={debounce:n,getLayoutName:r,getABTestState:o,consolidateMetrics:i,getMetaData:a,getReferrer:c,keyValueString:s,isEmpty:u,log:l}},function(t,e,n){"use strict";var r=n(69),o=n(71),i=n(55).utils.extend,a="https://ads-api.ft.com/v1/";t.exports=function(t,e,n){function s(t){var e=void 0,n=void 0,o="https://ads-api.ft.com/v1/";if("article"===t){e=document.querySelector("[data-content-id]").getAttribute("data-content-id");var i=r.getReferrer();n=o+"content/"+e,i&&(n+="?referrer="+encodeURIComponent(i.split(/[?#]/)[0]))}else"stream-page"===t&&(e=document.querySelector("[data-concept-id]").getAttribute("data-concept-id"),n=o+"concept/"+e);return n}function c(){var t=[r.getMetaData("dfp_site"),r.getMetaData("dfp_zone")].filter(function(t){return t});return t.length||(t=["unclassified"]),t.join("/")}n=n||{};var u=document.cookie.match(/EID=(\d+)/),l={eid:u&&u.length>1?u[1]:null},d=i({pt:e.toLowerCase().substr(0,3),nlayout:r.getLayoutName(),mvt:r.getABTestState()},l),f=t.get("krux")&&!n.noTargeting&&{id:"KHUSeE3x",attributes:{user:l,page:{}}};return{gpt:{network:"5887",site:o.isActive()?"sandbox.next.ft":"ft.com",zone:c()},formats:{PaidPost:{sizes:"fluid"}},responsive:{extra:[1025,0],large:[980,0],medium:[760,0],small:[0,0]},krux:f,collapseEmpty:"before",dfp_targeting:r.keyValueString(d),lazyLoad:{viewportMargin:"0%"},targetingApi:n.noTargeting?null:{user:a+"user",page:s(e),usePageZone:!0}}}},function(t,e){"use strict";function n(){return location.hash.indexOf("adsandbox")>-1}t.exports.isActive=n},function(t,e){"use strict";function n(t){this.config={endpoint:"/broken-ad-reporter/report/",slackChannel:"https://financialtimes.slack.com/messages/advertising-dev",defaultText:"Report broken Ad",cssClass:"advert__report-link"},this.adData={gpt:{creativeId:t.gpt.creativeId,lineItemId:t.gpt.lineItemId,size:t.gpt.size,serviceName:t.gpt.serviceName,unitName:t.gpt.unitName},targeting:t.targeting},this.container=t.container,this.link=this.addLinkToContainer(),this.onClickHandler=this.addEvent("click",this.onClick,this),this.hasReported=!1}n.prototype.addEvent=function(t,e,n){var r=void 0;return this.link.addEventListener(t,r=function(t){e.call(n,t)}),r},n.prototype.removeEvent=function(t,e){
this.link.removeEventListener(t,e)},n.prototype.destroy=function(){this.removeEvent("click",this.onClickHandler),this.link&&this.link.parentElement.removeChild(this.link)},n.prototype.addLinkToContainer=function(){var t=document.createElement("button");return t.classList.add(this.config.cssClass),t.innerHTML=this.config.defaultText,this.container.appendChild(t),this.container.lastChild},n.prototype.updateLink=function(t){return this.link.innerHTML=t,this},n.prototype.onClick=function(t){t.preventDefault(),this.hasReported?window.open(this.config.slackChannel,"_blank"):this.dispatch(this.adData)},n.prototype.dispatch=function(t){var e=this;if(this.hasReported=!0,!this.adData)return void this.updateLink("Insufficient Ad data, try #slack");var n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)};fetch(this.config.endpoint,n).then(function(t){if(200!==t.status)throw Error(t.statusText||t.status);return t.text()}).then(function(t){e.updateLink("&#10004; "+t+", follow up on #slack")}).catch(function(t){return e.updateLink("&#10008; Failed to report Ad, try #slack"),console.error("Failed to report Ad: "+t)})},t.exports=n},function(t,e,n){"use strict";var r=n(12);t.exports=function(t,e){var n=window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;if(n&&n.mark&&t){var a=o(n,t),s=i(n,t);(0,r.broadcast)("oTracking.event",{category:"ads",action:"first-load",timings:{offsets:a,marks:s},creative:{id:e.gpt.creativeId,serviceName:e.gpt.serviceName,size:e.container.getAttribute("data-o-ads-loaded")}})}};var o=function(t,e){var n={};return Object.keys(e).forEach(function(r){n[r]={domContentLoadedEventEnd:e[r]-t.timing.domContentLoadedEventEnd,loadEventEnd:e[r]-t.timing.loadEventEnd,domInteractive:e[r]-t.timing.domInteractive}}),n},i=function(t,e){var n={};return t.getEntriesByName&&Object.keys(e).forEach(function(e){t.getEntriesByName(e).forEach(function(t){n[t.name]=Math.round(t.startTime)})}),n}},function(t,e,n){"use strict";function r(t,e,n){this.fixed=t,this.boundary=n,this.sibling=e,this.eventdbScrollEnd=o(this.scrollEnd.bind(this),300),this.eventScrollStart=this.scrollStart.bind(this),this.cookieCloseButton=document.querySelector(".o-cookie-message__close-btn"),this.extraHeight=0,this.animationFrame,this.startScroll,this.boundaryBottom,this.fixedHeight,this.timeoutHandler,this.finished}var o=n(69).debounce;r.prototype.startLoop=function(){var t=this;this.animationFrame=window.requestAnimationFrame(function(){t.calculate(),t.startLoop()})},r.prototype.calculate=function(){var t=window.pageYOffset||window.scrollY,e=t-this.startScroll+this.fixedHeight>=this.boundaryBottom,n="absolute"===this.fixed.style.position,r=t-this.extraHeight>=0;e&&!n&&this.unstick(),!e&&n&&r&&this.stick(),(!r&&!n||!e&&n&&!r)&&this.reset()},r.prototype.stick=function(){this.fixed.style.position="fixed",this.fixed.style.top="0px",this.sibling.style.marginTop=this.fixedHeight+"px"},r.prototype.unstick=function(){this.fixed.style.position="absolute",this.fixed.style.top=this.startScroll+this.boundaryBottom-this.fixedHeight+"px"},r.prototype.reset=function(){this.fixed.style.position="absolute",this.fixed.style.top=this.extraHeight+"px"},r.prototype.destroy=function(t){window.removeEventListener("scroll",this.eventdbScrollEnd),window.removeEventListener("scroll",this.eventScrollStart),window.removeEventListener("oAds.collapsed",this.collapsedCallback),this.cookieCloseButton.removeEventListener("click",this.cookieCloseEvent),this.endLoop(),this.fixed.style.top="",this.fixed.style.position="relative",this.sibling.style.marginTop="",this.fixed.style.zIndex="",this.windowWidth=!1,t&&(this.finished=!0,this.eventScrollStart=void 0,this.eventdbScrollEnd=void 0,window.removeEventListener("resize",this.resizeCallback))},r.prototype.endLoop=function(){window.cancelAnimationFrame(this.animationFrame)},r.prototype.scrollStart=function(){window.removeEventListener("scroll",this.eventScrollStart),window.addEventListener("scroll",this.eventdbScrollEnd),this.fixedHeight=this.fixed.offsetHeight,this.startScroll=window.pageYOffset||window.scrollY,this.boundaryBottom=this.boundary.getBoundingClientRect().bottom,this.sibling.style.marginTop!==this.fixedHeight+"px"&&(this.sibling.style.marginTop=this.fixedHeight+"px"),this.startLoop()},r.prototype.scrollEnd=function(){this.endLoop(),window.removeEventListener("scroll",this.eventdbScrollEnd),window.addEventListener("scroll",this.eventScrollStart)},r.prototype.setInitialValues=function(){var t=this.fixed.getBoundingClientRect().top;this.fixed.style.zIndex="23",this.fixed.style.top=t+"px",this.sibling.style.marginTop=this.fixed.offsetHeight+"px",this.boundaryBottom=this.boundary.getBoundingClientRect().bottom,t>0?(this.extraHeight=t,this.fixed.style.position="absolute"):this.fixed.style.position="fixed"},r.prototype.timeoutHandler=function(){clearTimeout(this.timeout);var t=window.pageYOffset||window.scrollY;0===t||this.boundary.getBoundingClientRect().top<=0?this.destroy(!0):setTimeout(this.timeoutHandler.bind(this),1e3)},r.prototype.init=function(){!this.fixed||!this.sibling||!this.boundary||window.pageYOffset>0||window.scrollY>0||window.navigator.userAgent.match(/i.*OS\s(\d+)_(\d+)/)||window.navigator.userAgent.match(/android/i)||(this.windowWidth=window.innerWidth,this.setInitialValues(),this.cookieCloseButton&&(this.cookieCloseEvent=this.cookieCloseButton.addEventListener("click",function(){this.finished||(this.extraHeight=0,this.reset()),this.cookieCloseButton.removeEventListener("click",this.cookieCloseEvent)}.bind(this))),window.addEventListener("scroll",this.eventScrollStart),this.resizeCallback=o(function(){window.innerWidth===this.windowWidth||this.finished||(this.destroy(),o(this.init.bind(this),300).call())}.bind(this),300),window.removeEventListener("resize",this.resizeCallback),window.addEventListener("resize",this.resizeCallback),this.collapsedCallback=o(function(t){var e=t.detail;e&&e.hasAttribute&&e.hasAttribute("data-sticky-ad")&&this.destroy()}.bind(this)),window.addEventListener("oAds.collapsed",this.collapsedCallback),this.timeout=setTimeout(this.timeoutHandler.bind(this),5e3))},t.exports=r},function(t,e,n){"use strict";t.exports={init:function(t,e){n(76).init(t,e)},lazyInit:function(t){window.addEventListener("ftNextLoaded",function(){n(102)(t),n(103)(t)})},scrollDepthComponents:n(104),scrollDepth:n(143)}},function(t,e,n){"use strict";function r(t){return[].slice.call(t)}function o(t){return document.documentElement.getAttribute("data-"+t)}var i=n(12),a=n(77),s=n(95),c=n(35),u=n(97),l={init:function(t,e){if(t&&t.get("oTracking")){try{var n={layout:s.getCurrentLayout(),orientation:c.getOrientation()},l=navigator.connection||navigator.mozConnection||navigator.webkitConnection;l&&l.type&&(n.connectionType=l.type);var d={product:"next",app:e&&e.name,appVersion:e&&e.version},f=o("content-id");f&&(d.rootContentId=f);var p=o("concept-id");p&&(d.rootConceptId=p,d.rootTaxonomy=o("taxonomy"));var h=(/nextErrorStatus=(\d{3})/.exec(window.location.search)||[])[1],g={context:{}};h&&(d.url=g.context.url=window.parent.location.toString(),d.referrer=g.context.referrer=window.parent.document.referrer,d.errorStatus=g.context.errorStatus=h);var v=document.querySelector("[data-next-edition]")?document.querySelector("[data-next-edition]").getAttribute("data-next-edition"):null;d.edition=v;var m=String(window.location.search).match(/[?&]segmentId=([^?&]+)/)||[];m[1]&&(d.marketing_segment_id=m[1]);var y=window.FT&&window.FT.pageMeta;if(y&&y===Object(y))for(var b in y)y.hasOwnProperty(b)&&(d[b]=y[b]);if("/"===location.pathname){var w=i.cookieStore.get("ft-homepage-view")||"standard";g.context.mode=w}a.init({server:"https://spoor-api.ft.com/ingest",context:d,user:n,useSendBeacon:t.get("sendBeacon")});var _=document.querySelector("[data-barrier]"),x=document.querySelector("[data-barrier-is-product-selector]");if(_&&(g.context.barrier=!0,g.context.barrierType=_.getAttribute("data-barrier")),window!==window.top&&"errors-next.ft.com"!==window.location.hostname||a.page(g.context),_){var E=!!x&&"true"===x.getAttribute("data-barrier-is-product-selector"),k={type:E?"products":"barrier",subtype:_.getAttribute("data-opportunity-subtype")||_.getAttribute("data-barrier")},S=document.querySelectorAll("[data-offer-id]"),C=document.querySelectorAll("[data-acquisition-context]");(0,i.broadcast)("oTracking.event",Object.assign({category:"barrier",action:"view",opportunity:k,type:_.getAttribute("data-barrier"),acquisitionContext:r(C).map(function(t){return t.getAttribute("data-acquisition-context")}),offers:r(S).map(function(t){return t.getAttribute("data-offer-id")})},d))}}catch(t){(0,i.broadcast)("oErrors.log",{error:t,info:{message:"Failed to init o-tracking"}})}u.init()}}};t.exports=l},function(t,e,n){t.exports=n(78)},function(t,e,n){"use strict";function r(){this.version=u,this.source=l,this.api_key=d,this.initialised=!1}function o(){f.init(),document.removeEventListener("o.DOMContentLoaded",o)}var i=n(79),a=n(80),s=n(84),c=n(85),u="1.2.3",l="o-tracking",d="qUb9maKfKbtpRsdp0p2J7uWxRPGJEP";r.prototype.developer=function(t){t?i.set("developer",!0):(i.destroy("developer",null),i.destroy("no_send",null))},r.prototype.destroy=function(){this.developer(!1),this.initialised=!1,i.destroy("config"),i.destroy("page_sent")},r.prototype.toString=function(){return"oTracking version "+u},r.prototype.event=n(91),r.prototype.page=n(93),r.prototype.click=n(94),r.prototype.link={init:function(t){return r.prototype.click.init("link")}},r.prototype.utils=n(81),r.prototype.init=function(t){if(this.initialised)return this;var e=!!this._getDeclarativeConfigElement();return t=t||{},e&&(t=this._getDeclarativeConfig(t)),0===Object.keys(t).length&&t.constructor===Object?null:(i.set("version",this.version),i.set("source",this.source),i.set("api_key",this.api_key),i.set("page_sent",!1),a.init(),this.updateConfig(t),s.init(t.session),c.init(),this.event.init(),this.page.init(),this.initialised=!0,this)},r.prototype.updateConfig=function(t){var e=i.get("config")||{};e=this.utils.merge(e,t),i.set("config",e),e.developer&&(this.developer(e.developer),e.noSend&&i.set("no_send",!0)),e.user&&e.user.user_id&&a.setUser(e.user.user_id),c.setDomain()},r.prototype._getDeclarativeConfigElement=function(){return document.querySelector("script[data-o-tracking-config]")},r.prototype._getDeclarativeConfig=function(t){var e=this._getDeclarativeConfigElement(),n=void 0;if(!e)return!1;n=e.textContent||e.innerText||e.innerHTML;var r=void 0;try{r=JSON.parse(n)}catch(t){var o=new Error('Invalid JSON configuration syntax, check validity for o-tracking configuration: "'+t.message+'"');throw this.utils.broadcast("oErrors","log",{error:o.message,info:{module:"o-tracking"}}),o}for(var i in r)r.hasOwnProperty(i)&&(t[i]=t[i]||r[i]);return t};var f=new r;document.addEventListener("o.DOMContentLoaded",o),t.exports=f},function(t,e){"use strict";function n(t){if(void 0===t)return t;switch(Object.prototype.toString.call(t)){case"[object Object]":return JSON.parse(JSON.stringify(t));case"[object Array]":return[].slice.call(t);default:return t}}function r(t,e){a[t]=n(e)}function o(t){return n(a[t])}function i(t){delete a[t]}var a={};t.exports={set:r,get:o,destroy:i}},function(t,e,n){"use strict";function r(t){s=new l(c.name,c);var e=s.read();return e||(e=t),o(e)}function o(t){return a=t,a||(a=u.guid()),s.write(a),a}function i(){s.destroy()}var a=void 0,s=void 0,c={storage:"cookie",name:"spoor-id",nameOverride:"spoor-id",value:null,domain:location.hostname.match(/^(?:.+\.)?ft\.com$/)?"ft.com":null},u=n(81),l=n(83);t.exports={init:r,setUser:o,userID:function(){return a},destroy:i}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){if(y.get("developer")&&window.console)for(var t=0;t<arguments.length;t++)window.console.log(arguments[t])}function i(t,e){return e||(e="undefined"),("undefined"==typeof t?"undefined":(0,m.default)(t))===e}function a(t,e){e||(e=t,t={});var n=void 0,r=void 0,o=void 0;for(n in e)r=t[n],o=e[n],t!==o&&"undefined"!=typeof o&&null!==o&&(t[n]=r!==Object(r)||i(r,"function")?o:a(r,o));return t}function s(t){return window.encodeURIComponent?window.encodeURIComponent(t):window.escape(t)}function c(t){return window.decodeURIComponent?window.decodeURIComponent(t):window.unescape(t)}function u(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function l(t,e,n){n=n||{};try{window.dispatchEvent(new CustomEvent(t+"."+e,{detail:n,bubbles:!0}))}catch(t){}}function d(t){i(t,"function")&&w.push(t)}function f(){for(var t=0;t<w.length;t++)w[t]()}function p(t){return document.cookie.match(t)&&""!==RegExp.$1&&"null"!==RegExp.$1?RegExp.$1:null}function h(t){return document.location.href.match(t)&&""!==RegExp.$1?RegExp.$1:null}function g(t){if("string"!=typeof t)return null;var e=void 0,n=t.split("."),r=window;for(e=0;e<n.length;e+=1){if("undefined"==typeof r[n[e]])return null;r=r[n[e]]}return""!==r?r:null}var v=n(6),m=r(v),y=n(79),b=n(82),w=[];t.exports={log:o,is:i,isUndefined:i,merge:a,encode:s,decode:c,guid:b,addEvent:u,broadcast:l,onPage:d,triggerPage:f,getValueFromCookie:p,getValueFromUrl:h,getValueFromJsVariable:g}},function(t,e,n){"use strict";!function(e){var n=0,r=4,o=36,i=Math.pow(o,r),a=function(t,e){var n="000000000"+t;return n.substr(n.length-e)},s=function(){return a((Math.random()*i<<0).toString(o),r)},c=function(){return n=n<i?n:0,n++,n-1},u=function(){var t,e="c",n=(new Date).getTime().toString(o),i=u.fingerprint(),l=s()+s();return t=a(c().toString(o),r),e+n+t+i+l};u.slug=function(){var t,e=(new Date).getTime().toString(36),n=u.fingerprint().slice(0,1)+u.fingerprint().slice(-1),r=s().slice(-2);return t=c().toString(36).slice(-4),e.slice(-2)+t+n+r},u.globalCount=function(){var t=function(){var t,e=0;for(t in window)e++;return e}();return u.globalCount=function(){return t},t},u.fingerprint=function(){return a((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+u.globalCount().toString(36),4)},t.exports=u}(void 0)},function(t,e,n){"use strict";var r=function(t,e){var r="o-tracking",o=void 0,i=n(81);if(i.isUndefined(t)){var a=new Error("You must specify a name for the store.");throw i.broadcast("oErrors","log",{error:a.message,info:{module:"o-tracking"}}),a}if(this.config=i.merge({storage:"best",expires:31536e7},e),this.data=null,this.storageKey=this.config.hasOwnProperty("nameOverride")?this.config.nameOverride:[r,t].join("_"),this.storage=function(t,e){function n(t){t+="=";var n=e.document.cookie.split(";"),r=void 0,o=void 0;for(r=0;r<n.length;r+=1)if(o=n[r].replace(/^\s+|\s+$/g,""),0===o.indexOf(t))return i.decode(o.substring(t.length,o.length));return null}function o(n,r,o){var a=void 0,s="",c=void 0;i.is(o,"number")&&(a=new Date,a.setTime(a.getTime()+o),s="expires="+a.toGMTString()+";"),c=i.encode(n)+"="+i.encode(r)+";"+s+"path=/;"+(t.domain?"domain=."+t.domain+";":""),e.document.cookie=c}function a(t){o(t,"",-1)}var s=r+"_InternalTest";if("cookie"!==t.storage)try{if(e.localStorage&&(e.localStorage.setItem(s,"TEST"),"TEST"===e.localStorage.getItem(s)))return e.localStorage.removeItem(s),{_type:"localStorage",load:function(t){return e.localStorage.getItem.call(e.localStorage,t)},save:function(t,n){return e.localStorage.setItem.call(e.localStorage,t,n)},remove:function(t){return e.localStorage.removeItem.call(e.localStorage,t)}}}catch(t){i.broadcast("oErrors","log",{error:t.message,info:{module:"o-tracking"}})}return o(s,"TEST"),"TEST"===n(s)?(a(s),{_type:"cookie",load:n,save:o,remove:a}):{_type:"none",load:function(){},save:function(){},remove:function(){}}}(this.config,window),o=this.storage.load(this.storageKey))try{this.data=JSON.parse(o)}catch(t){i.broadcast("oErrors","log",{error:t.message,module:"o-tracking"}),this.data=o}return this};r.prototype.read=function(){return this.data},r.prototype.write=function(t){return this.data=t,this.storage.save(this.storageKey,"string"==typeof this.data?this.data:JSON.stringify(this.data),this.config.expires),this},r.prototype.destroy=function(){return this.data=null,this.storage.remove(this.storageKey),this},t.exports=r},function(t,e,n){"use strict";function r(t){var e=new Date;e.setTime(e.getTime()+a.config.expires),a.write({value:t,expiry:e.valueOf()})}function o(){var t=a.read(),e=void 0,n=!1;if(t){var o=(new Date).valueOf(),i=parseInt(t.expiry);i>=o&&(e=t.value)}return e||(e=c.guid(),n=!0),r(e),{id:e,isNew:n}}function i(t){c.is(t,"string")&&(t={name:t}),c.isUndefined(t)&&(t={});var e=c.merge(s,t);return"cookie"===e.storage&&t.name&&(e.nameOverride=e.name),a=new u(e.name,e),o()}var a=void 0,s={storage:"best",name:"session",expires:18e5},c=n(81),u=n(83);t.exports={init:i,session:o}},function(t,e,n){"use strict";function r(){return navigator.sendBeacon&&Promise&&(l.get("config")||{}).useSendBeacon}function o(t,e){var n=t.queueTime,o=(new Date).getTime()-n,i=void 0,a=r()?p.get("sendBeacon")():window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest?p.get("xhr")():p.get("image")(),s=t.callback,c=l.get("config")&&l.get("config").system||{},u=d.merge(c,{api_key:l.get("api_key"),version:l.get("version"),source:l.get("source")});t=d.merge({system:u},t),o>1e3&&o<31104e6&&(t.time=t.time||{},t.time.offset=o),delete t.callback,delete t.async,delete t.type,delete t.queueTime,d.log("user_callback",s),d.log("PreSend",t),i=JSON.stringify(t),d.log("path",i),a.complete(function(r){d.is(s,"function")&&(s.call(t),d.log("calling user_callback")),r?(t.queueTime=n,g.add(t).save(),d.broadcast("oErrors","log",{error:r.message,info:{module:"o-tracking"}})):e&&e()}),l.get("developer")&&l.get("no_send")||a.send(h,i)}function i(t){t.queueTime=(new Date).getTime(),r()?o(t):g.add(t).save(),d.log("AddedToQueue",g)}function a(t){d.isUndefined(t)&&(t=function(){});var e=g.all();if(e.length>200){var n={};e.forEach(function(t){var e=[t.category,t.action].join(":");n.hasOwnProperty(e)||(n[e]=0),n[e]+=1}),g.replace([]),g.add({category:"o-tracking",action:"queue-bug",context:{url:document.url,queue_length:e.length,counts:n,storage:g.storage.storage._type}})}var r=function(){a(),t()},i=g.shift();return i?o(i,r):t()}function s(t){i(t),a()}function c(){l.get("config")&&l.get("config").server&&(h=l.get("config").server)}function u(){return g=new f("requests"),c(),d.addEvent(window,"online",function(){a()}),a(),g}var l=n(79),d=n(81),f=n(86),p=n(87),h="https://spoor-api.ft.com/px.gif",g=void 0;t.exports={init:u,setDomain:c,getDomain:function(){return h},add:i,run:a,addAndRun:s}},function(t,e,n){"use strict";var r=n(81),o=n(83),i=function(t){if(r.isUndefined(t)){var e=new Error("You must specify a name for the queue.");throw r.broadcast("oErrors","log",{error:e.message,info:{module:"o-tracking"}}),e}return this.queue=[],this.storage=new o(t),this.storage.read()&&(this.queue=this.storage.read()),this};i.prototype.all=function(){if(0===this.queue.length)return[];for(var t=[],e=0;e<this.queue.length;e+=1)t.push(this.queue[e].item);return t},i.prototype.first=function(){return 0===this.queue.length?null:this.queue[0].item},i.prototype.last=function(){return 0===this.queue.length?null:this.queue.slice(-1)[0].item},i.prototype.add=function(t){function e(t){n.queue.push({created_at:(new Date).valueOf(),item:t})}var n=this,o=void 0;if(r.is(t,"object")&&t.constructor.toString().match(/array/i))for(o=0;o<t.length;o+=1)e(t[o]);else e(t);return n},i.prototype.replace=function(t){if(r.is(t,"object")&&t.constructor.toString().match(/array/i))return this.queue=[],this.add(t).save(),this;var e=new Error("Argument invalid, must be an array.");throw r.broadcast("oErrors","log",{error:e.message,info:{module:"o-tracking"}}),e},i.prototype.shift=function(){if(0===this.queue.length)return null;var t=this.queue.shift().item;return this.save(),t},i.prototype.save=function(){return this.storage.write(this.queue),this},t.exports=i},function(t,e,n){"use strict";t.exports={xhr:n(88),sendBeacon:n(89),image:n(90),get:function(t){return this.mock||this[t]}}},function(t,e){"use strict";t.exports=function(){var t=new window.XMLHttpRequest;return{send:function(e,n){t.open("POST",e,!0),t.withCredentials=!0,t.setRequestHeader("Content-type","application/json"),t.send(n)},complete:function(e){t.onerror=function(){e(this)},t.onload=function(){t.status>=200&&t.status<300?e():e("Incorrect response: "+t.status)}}}}},function(t,e){"use strict";t.exports=function(){var t=void 0,e=void 0,n=new Promise(function(n,r){t=n,e=r});return{send:function(n,r){navigator.sendBeacon(n,r)?t():e(new Error("Failed to send beacon event: "+r.toString()))},complete:function(t){t&&n.then(t,t)}}}},function(t,e,n){"use strict";var r=n(81);t.exports=function(){var t=new Image(1,1);return{send:function(e,n){t.src=e+"?data="+r.encode(n)},complete:function(e){t.addEventListener?(t.addEventListener("error",e),t.addEventListener("load",function(){return e()})):(t.attachEvent("onerror",e),t.attachEvent("onload",function(){return e()}))}}}},function(t,e,n){"use strict";function r(t,e){if(u.is(t.detail.category)||u.is(t.detail.action)){var n="Missing category or action values";throw u.broadcast("oErrors","log",{error:n,info:{module:"o-tracking"}}),n}var r=u.merge(l(),{category:t.detail.category,action:t.detail.action,context:t.detail});delete r.context.category,delete r.context.action;var a=o(t);a?(r.context.component_name=a.getAttribute("data-o-component"),r.context.component_id=r.context.component_id||i(a)):(r.context.component_name=r.context.component_name,r.context.component_id=r.context.component_id),c.track(r,e)}function o(t){var e=t.target||t.srcElement;return e&&e.getAttribute("data-o-component")?e:void 0}function i(t){var e=a(t);if("undefined"!=typeof e){var n=e[0],r=function(t){var e=t.parentElement;if(e){for(var r=0;r<e.childNodes.length;r++)if(e.childNodes[r]===n)return r;return-1}return 0}(n),o=e.reduceRight(function(t,e){if(!e.nodeName)return t+" - "+e.constructor.name+"\n";var n=e.nodeName.toLowerCase();return 0===n.indexOf("#")?t+"<"+n+">":t+"<"+n+' id="'+(e.id||"")+'">'},"");return s(o+"_siblingIndex="+r)}}function a(t){for(var e=[];t;)e.push(t),t=t.parentElement;return e}function s(t){for(var e=t.length,n=1^e,r=0,o=void 0;e>=4;)o=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24,o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16),o^=o>>>24,o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)^o,e-=4,++r;switch(e){case 3:n^=(255&t.charCodeAt(r+2))<<16;break;case 2:n^=(255&t.charCodeAt(r+1))<<8;break;case 1:n^=255&t.charCodeAt(r),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)}return n^=n>>>13,n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16),n^=n>>>15,n>>>0}var c=n(92),u=n(81),l=function(){return{category:"event",action:"generic",context:{}}};t.exports=r,t.exports.init=function(){u.addEvent(window,"oTracking.event",r)}},function(t,e,n){"use strict";function r(){return d=l.guid()}function o(){return d||r(),d}function i(t,e){l.isUndefined(e)&&(e=function(){});var n=c.session(),r={async:!0,callback:e||function(){},context:{id:t.id||l.guid(),root_id:o()},user:{passport_id:l.getValueFromCookie(/USERID=([0-9]+):/)||l.getValueFromCookie(/PID=([0-9]+)\_/),ft_session:l.getValueFromCookie(/FTSession=([^;]+)/)},device:{spoor_session:n.id,spoor_session_is_new:n.isNew,spoor_id:s.userID()}},i=u.get("config")||{};return i.context&&l.merge(r.context,i.context),i.user&&l.merge(r.user,i.user),i.device&&l.merge(r.device,i.device),l.merge(r,t),l.log("Core.Track",r),a.addAndRun(r),r}var a=n(85),s=n(80),c=n(84),u=n(79),l=n(81),d=void 0;t.exports={setRootID:r,getRootID:o,track:i}},function(t,e,n){"use strict";function r(t,e){t=a.merge(c(),{context:t}),s.get("page_viewed")&&i.setRootID(),i.track(t,e),s.set("page_viewed",!0),a.triggerPage()}function o(t){r(t.detail)}var i=n(92),a=n(81),s=n(79);s.set("page_viewed",!1);var c=function(){return{category:"page",action:"view",context:{url:document.URL,referrer:document.referrer},async:!0}};t.exports=r,t.exports.init=function(){a.addEvent(window,"oTracking.page",o)}},function(t,e,n){"use strict";var r=n(33),o=n(86),i=n(92),a=n(81),s=n(79),c=void 0,u=function(t){var e=t.context.domPathTokens[0].href||null,n=e&&e.indexOf(window.document.location.hostname)>-1;n?(t.context.source_id=i.getRootID(),c.add(t).save()):(t.async=!1,i.track(t))},l=function(t){return"string"==typeof t?t.trim():t},d=function(t,e,n){var r=Array.from(t.querySelectorAll(n)),o=r.findIndex(function(t){return t===e});if(o!==-1)return{siblings:r.length,position:o}},f=function(t){var e=["nodeName","className","id","href","text","role"],n=e.reduce(function(e,n){return t[n]?e[n]=l(t[n]):t.getAttribute(n)?e[n]=l(t.getAttribute(n)):t.hasAttribute(n)&&(e[n]=t.hasAttribute(n)),e},{});return Array.from(t.attributes).filter(function(t){return t.name.match(/^data-trackable|^data-o-|^aria-/i)}).forEach(function(t){return n[t.name]=t.value}),n},p=function(t){for(var e=document,n=t,r=n.getAttribute("data-trackable")?'[data-trackable="'+n.getAttribute("data-trackable")+'"]':n.nodeName,o=[];t&&t!==e;){var i=f(t);i["data-trackable"]&&(i=Object.assign(i,d(t,n,r))),o.push(i),t=t.parentNode}return o},h=function(t){var e=["ctrlKey","altKey","shiftKey","metaKey"],n=e.reduce(function(e,n){try{t[n]&&(e[n]=l(t[n]))}catch(t){console.log(t)}return e},{});return n},g=function(t){return function(e,n){if("true"!==n.getAttribute("data-o-tracking-do-not-track")){var r=h(e);r.domPathTokens=p(n),r.url=window.document.location.href||null,t.context=r;var o=a.merge(s.get("config"),t);u(o)}}},v=function t(e){var n=function(e){t()},r=c.shift();r&&i.track(r,n)},m=function(t,e){e=e||"a, button, input";var n={action:"click",category:t||"o-tracking"},i=new r(document.body);i.on("click",e,g(n),!0),c=new o("clicks"),v(),a.onPage(v)};t.exports={init:m}},function(t,e,n){t.exports=n(96)},function(t,e){"use strict";function n(){return o("after")}function r(){return o("before")}function o(t){try{var e=window.getComputedStyle(document.documentElement,":"+t).getPropertyValue("content");return e=e.replace(/'/g,"").replace(/\\/g,"").replace(/^"/,"").replace(/"$/,""),JSON.parse(e)}catch(t){return{}}}function i(){return c?"L":n().layout}function a(){return c?"20px":n().gutter}function s(){var t=r();if(t.hasOwnProperty("layouts")){var e=t.layouts,n=new Map(Object.keys(e).map(function(t){return[t,e[t]]})),o=function(t){return Number(t.replace("px","")-1)+"px"};n.forEach(function(t,e){var r=[];"S"===e?(r.push("(max-width: "+t+")"),r.push("(min-width: "+t+") and (max-width: "+o(n.get("M"))+")")):"M"===e?r.push("(min-width: "+t+") and (max-width: "+o(n.get("L"))+")"):"L"===e?r.push("(min-width: "+t+") and (max-width: "+o(n.get("XL"))+")"):"XL"===e&&r.push("(min-width: "+t+")");var i=function(t){t.matches&&window.dispatchEvent(new CustomEvent("o-grid.layoutChange",{detail:{layout:e}}))};r.forEach(function(t){var e=window.matchMedia(t);e.addListener(i),i(e)})})}else console.error("To enable grid layout change events, include oGridSurfaceLayoutSizes in your Sass")}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){var t=document.createElement("B"),e=document.documentElement,n=void 0;return t.innerHTML='<!--[if IE 8]><b id="ie8test"></b><![endif]-->',e.appendChild(t),n=!!document.getElementById("ie8test"),e.removeChild(t),n}();e.default={getCurrentLayout:i,getCurrentGutter:a,getGridBreakpoints:r,enableLayoutChangeEvents:s},t.exports=e.default},function(t,e,n){"use strict";var r=n(77),o=n(98),i=n(99),a=n(100),s=n(101),c=function(){};c.prototype.init=function(){r.click.init("cta"),this.copy=new i(document.body),this.copy.track(),this.attention=new a,this.attention.init(),this.positional=new s,this.positional.init(document),(new o).track()},t.exports=new c},function(t,e,n){"use strict";var r=n(12).broadcast,o=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"],i=function(t){var e=t.timing;return["navigationStart","domLoading"].reduce(function(t,n){var r=e[n];return t[n]=o.slice(o.indexOf(n)+1).reduce(function(t,n){var o=e[n];return o&&(t[n]=o-r),t},{}),t},{})},a=function(t){return t.getEntriesByType?t.getEntriesByType("mark").reduce(function(t,e){return t[e.name]=Math.round(e.startTime),t},{}):{}},s=function(t,e){var n={},r=t.chrome;if(r&&r.loadTimes){var o=r.loadTimes();n.firstPaint=Math.round(1e3*o.firstPaintTime-1e3*o.startLoadTime)}else"number"==typeof e.timing.msFirstPaint&&(n.firstPaint=e.timing.msFirstPaint-e.timing.navigationStart);return n},c=function(){};c.prototype.track=function(){window.addEventListener("load",function(){var t=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance;return!!(t&&"timing"in t&&/spoor-id=0/.test(document.cookie))&&void setTimeout(function(){var e=i(t),n=a(t),o=s(window,t);r("oTracking.event",{category:"page-load",action:"timing",timings:{offsets:e,marks:n,custom:o}})},0)})},t.exports=c},function(t,e,n){"use strict";var r=n(12).broadcast,o=function(t){this.root=t||document};o.prototype.track=function(){this.root.addEventListener("copy",function(t){var e=t.target,n={action:"copy",category:"text",context:{nodeName:e.nodeName.toLowerCase(),product:"next"}};if(window.getSelection){var o=window.getSelection().toString();n.context.characters=o.length,n.context.words=Math.ceil(o.split(/\b/).length/2),o.length>100?n.selection=o.substr(0,47)+" ... "+o.substr(-47):n.selection=o}r("oTracking.event",n)})},t.exports=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(4),i=r(o),a=n(35),s=n(12).broadcast,c=15e3,u=["load","click","focus","scroll","mousemove","touchstart","touchend","touchcancel","touchleave"],l=["blur"],d=["beforeunload","unload","pagehide"],f=function(){function t(){(0,i.default)(this,t),this.totalAttentionTime=0,this.startAttentionTime,this.endAttentionTime,this.hasSentEvent=!1}return t.prototype.init=function(){for(var t=this,e=0;e<u.length;e++)window.addEventListener(u[e],function(e){return t.startAttention(e)});for(var n=0;n<l.length;n++)window.addEventListener(l[n],function(e){return t.endAttention(e)});a.listenTo("visibility"),document.body.addEventListener("oViewport.visibility",function(e){return t.handleVisibilityChange(e)},!1),this.addVideoEvents(),d.forEach(function(e){window.addEventListener(e,function(){t.hasSentEvent||(t.hasSentEvent=!0,t.endAttention(),s("oTracking.event",{category:"page",action:"interaction",context:{attention:{total:t.totalAttentionTime}}}))})})},t.prototype.startAttention=function(){var t=this;clearTimeout(this.attentionTimeout),this.startAttentionTime||(this.startAttentionTime=(new Date).getTime()),this.attentionTimeout=setTimeout(function(){return t.endAttention()},c)},t.prototype.startConstantAttention=function(){var t=this;this.constantAttentionInterval=setInterval(function(){return t.startAttention()},c)},t.prototype.endConstantAttention=function(){this.endAttention(),clearInterval(this.constantAttentionInterval)},t.prototype.endAttention=function(){this.startAttentionTime&&(this.endAttentionTime=(new Date).getTime(),this.totalAttentionTime+=Math.round((this.endAttentionTime-this.startAttentionTime)/1e3),clearTimeout(this.attentionTimeout),this.startAttentionTime=null)},t.prototype.get=function(){return this.endAttention(),this.startAttention(),this.totalAttentionTime},t.prototype.addVideoEvents=function(){var t=this;this.videoPlayers=document.getElementsByTagName("video");for(var e=0;e<this.videoPlayers.length;e++)this.videoPlayers[e].addEventListener("playing",function(e){return t.startConstantAttention(e)}),this.videoPlayers[e].addEventListener("pause",function(e){return t.endConstantAttention(e);
}),this.videoPlayers[e].addEventListener("ended",function(e){return t.endConstantAttention(e)})},t.prototype.handleVisibilityChange=function(t){t.detail.hidden?this.endAttention():this.startAttention()},t}();t.exports=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(4),i=r(o),a=n(33),s=function(t){return[].slice.call(t)},c=function(){function t(){(0,i.default)(this,t),this.delegate=new a}return t.prototype.init=function(t){s(t.querySelectorAll("[role=main] section")).forEach(function(t){s(t.querySelectorAll("article")).forEach(function(t,e,n){s(t.querySelectorAll("a")).forEach(function(t){t.setAttribute("data-position",e+1),t.setAttribute("data-siblings",n.length)})})})},t.prototype.destroy=function(){this.delegate.destroy()},t}();t.exports=c},function(t,e){"use strict";t.exports=function(t){var e=!/FTSession/.test(document.cookie),n=/spoor-id=([^;]+)/.exec(document.cookie),r="https://4235225.fls.doubleclick.net/activityi;src=4235225",o=document.querySelector(["data-signup-country"]),i=document.querySelector(["data-signup-term"]),a=document.querySelector(["data-signup-offer"]),s=o?o.getAttribute("data-signup-country"):void 0,c=i?o.getAttribute("data-signup-term"):void 0,u=a?o.getAttribute("data-signup-offer"):void 0,l=/^\/signup/.test(location.pathname),d=/^\/thank-you/.test(location.pathname),f=/(4998d861-8960-a8d1-3738-eae97bcd07a2|41218b9e-c8ae-c934-43ad-71b13fcb4465)/.test(u),p=n?n[1]:"";if(t&&t.get("floodlight")&&e&&n){var h=new Image;l?h.src=r+";type=signu107;cat=ft-ne00;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1":d?h.src=r+";type=trans658;cat=ft-ne0;qty=1;u5="+u+";u7="+s+";u8="+c+";u10="+p+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;":f?h.src=r+";type=trans658;cat=ft-ne00;qty=1;u5="+u+";u7="+s+";u8="+c+";u10="+p+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;":h.src=r+";type=homeo886;cat=ft-ne000;u10="+p+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1;num=1"}}},function(t,e,n){"use strict";var r=n(12),o=n(16),i=function(){window._sf_async_config={uid:14181,domain:"next.ft.com",useCanonical:!0},"/"===location.pathname&&document.querySelector("[data-next-edition]")&&(window._sf_async_config.path="/home/"+(document.querySelector("[data-next-edition]").getAttribute("data-next-edition")||"")),(0,o.loadScript)("//static.chartbeat.com/js/chartbeat.js")};t.exports=function(t){if(t.get("chartbeatHud"))i();else if(t.get("chartbeat")){var e=r.cookieStore.get("spoor-id"),n=e.replace(/-/g,""),o=n.substring(n.length-12,n.length),a=parseInt(o,16);a%100<20&&i()}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(105),i=r(o),a=n(12).broadcast,s=function(t,e){return a("oTracking.event",{category:"page",action:"scrolldepth",componentId:t,componentPos:e})},c=function(t,e){return e.forEach(function(e){var n=e.target,r=n.id||n.getAttribute("data-trackable"),o=[].concat((0,i.default)(document.querySelectorAll(".js-track-scroll-event"))).findIndex(function(t){return(t.id||t.getAttribute("data-trackable"))===r});s(r,o+1),t.unobserve(n)})},u=function(){if(!/spoor-id=0/.test(document.cookie)||!window.IntersectionObserver)return!1;var t=new IntersectionObserver(function(t){c(this,t)});[].concat((0,i.default)(document.querySelectorAll(".js-track-scroll-event"))).forEach(function(e){t.observe(e)})};e.default={init:u},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(106),i=r(o);e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,i.default)(t)}},function(t,e,n){t.exports={default:n(107),__esModule:!0}},function(t,e,n){n(108),n(132),t.exports=n(116).Array.from},function(t,e,n){"use strict";var r=n(109)(!0);n(112)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(110),o=n(111);t.exports=function(t){return function(e,n){var i,a,s=String(o(e)),c=r(n),u=s.length;return c<0||c>=u?t?"":void 0:(i=s.charCodeAt(c),i<55296||i>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):i:t?s.slice(c,c+2):(i-55296<<10)+(a-56320)+65536)}}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";var r=n(113),o=n(114),i=n(119),a=n(120),s=n(125),c=n(126),u=n(127),l=n(128),d=n(121).getProto,f=n(129)("iterator"),p=!([].keys&&"next"in[].keys()),h="@@iterator",g="keys",v="values",m=function(){return this};t.exports=function(t,e,n,y,b,w,_){u(n,e,y);var x,E,k=function(t){if(!p&&t in A)return A[t];switch(t){case g:return function(){return new n(this,t)};case v:return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",C=b==v,L=!1,A=t.prototype,T=A[f]||A[h]||b&&A[b],O=T||k(b);if(T){var M=d(O.call(new t));l(M,S,!0),!r&&s(A,h)&&a(M,f,m),C&&T.name!==v&&(L=!0,O=function(){return T.call(this)})}if(r&&!_||!p&&!L&&A[f]||a(A,f,O),c[e]=O,c[S]=m,b)if(x={values:C?O:k(v),keys:w?O:k(g),entries:C?k("entries"):O},_)for(E in x)E in A||i(A,E,x[E]);else o(o.P+o.F*(p||L),e,x);return x}},function(t,e){t.exports=!0},function(t,e,n){var r=n(115),o=n(116),i=n(117),a="prototype",s=function(t,e,n){var c,u,l,d=t&s.F,f=t&s.G,p=t&s.S,h=t&s.P,g=t&s.B,v=t&s.W,m=f?o:o[e]||(o[e]={}),y=f?r:p?r[e]:(r[e]||{})[a];f&&(n=e);for(c in n)u=!d&&y&&c in y,u&&c in m||(l=u?y[c]:n[c],m[c]=f&&"function"!=typeof y[c]?n[c]:g&&u?i(l,r):v&&y[c]==l?function(t){var e=function(e){return this instanceof t?new t(e):t(e)};return e[a]=t[a],e}(l):h&&"function"==typeof l?i(Function.call,l):l,h&&((m[a]||(m[a]={}))[c]=l))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,t.exports=s},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(118);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){t.exports=n(120)},function(t,e,n){var r=n(121),o=n(122);t.exports=n(123)?function(t,e,n){return r.setDesc(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){t.exports=!n(124)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(121),o=n(122),i=n(128),a={};n(120)(a,n(129)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r.create(a,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(121).setDesc,o=n(125),i=n(129)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(130)("wks"),o=n(131),i=n(115).Symbol;t.exports=function(t){return r[t]||(r[t]=i&&i[t]||(i||o)("Symbol."+t))}},function(t,e,n){var r=n(115),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){"use strict";var r=n(117),o=n(114),i=n(133),a=n(134),s=n(137),c=n(138),u=n(139);o(o.S+o.F*!n(142)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,l,d=i(t),f="function"==typeof this?this:Array,p=arguments,h=p.length,g=h>1?p[1]:void 0,v=void 0!==g,m=0,y=u(d);if(v&&(g=r(g,h>2?p[2]:void 0,2)),void 0==y||f==Array&&s(y))for(e=c(d.length),n=new f(e);e>m;m++)n[m]=v?g(d[m],m):d[m];else for(l=y.call(d),n=new f;!(o=l.next()).done;m++)n[m]=v?a(l,g,[o.value,m],!0):o.value;return n.length=m,n}})},function(t,e,n){var r=n(111);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(135);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(136);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(126),o=n(129)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){var r=n(110),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(140),o=n(129)("iterator"),i=n(126);t.exports=n(116).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(141),o=n(129)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=(e=Object(t))[o])?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(129)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},t(i)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(12).broadcast,o=n(97),i=function(t,e){var n={action:"scrolldepth",category:"page",meta:{percentagesViewed:e,attention:o.attention.get()},context:{product:"next",source:t}};r("oTracking.event",n)},a={init:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.percentages,r=void 0===n?[25,50,75,100]:n,o=e.selector,a=void 0===o?"body":o;if(!t||!t.length)throw new Error("contextSource required");var s=function(e,n){n.forEach(function(n){var r=n.target;i(t,r.getAttribute("data-percentage")),r.parentNode&&r.parentNode.removeChild(r),e.unobserve(r)})},c=document.querySelector(a);if(c&&window.IntersectionObserver){var u=new IntersectionObserver(function(t){s(this,t)});r.forEach(function(t){var e=document.createElement("div");e.className="n-ui__scroll-depth-marker",e.style.position="absolute",e.style.top=t+"%",e.style.bottom="0",e.style.width="100%",e.style.zIndex="-1",e.setAttribute("data-percentage",t),c.appendChild(e),u.observe(e)})}}};t.exports=a},function(t,e,n){t.exports=n(145)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=this;t?t instanceof HTMLElement||(t=document.querySelector(t)):t=document.body,"o-date"===t.getAttribute("data-o-component")?this.el=t:this.el=t.querySelector('[data-o-component~="o-date"]'),void 0!==this.el&&(document.body.addEventListener("oDate.update",function(){e.update()}),this.update()),h||(h=setInterval(function(){document.body.dispatchEvent(new CustomEvent("oDate.update"))},6e4))}function i(t){var e=l[t]||t,n="var months= "+c+", days= "+u+";";return n+='function pad2 (number) {return ("0" + number).slice(-2)}',n+='return "'+e.replace(/\\?[a-z]+/gi,function(t){if("\\"===t.charAt(0))return t.substr(1);var e=f[t];return e?'" + '+e+' + "':t})+'"',d[t]=new Function("date",n)}var a=n(6),s=r(a),c='["'+"January,February,March,April,May,June,July,August,September,October,November,December".split(",").join('","')+'"]',u='["'+"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(",").join('","')+'"]',l={datetime:"MMMM d, yyyy h:mm a",date:"MMMM d, yyyy"},d={},f={MMMM:"months[date.getMonth()]",MMM:"months[date.getMonth()].substr(0,3)",MM:"pad2(date.getMonth() + 1, 2)",M:"(date.getMonth() + 1)",yyyy:"date.getFullYear()",yy:'(""+date.getFullYear()).substr(-2, 2)',EEEE:"days[date.getDay()]",EEE:"days[date.getDay()].substr(0,3)",d:"date.getDate()",dd:"pad2(date.getDate())",m:"date.getMinutes()",mm:"pad2(date.getMinutes())",h:"(((date.getHours() + 11) % 12) + 1)",hh:"pad2(((date.getHours() + 11) % 12) + 1)",H:"date.getHours()",HH:"pad2(date.getHours())",a:'(date.getHours() >= 12 ? "pm" : "am")'},p={minute:60,hour:3600,day:86400,week:604800,month:2592e3,year:31536e3},h=void 0;o.prototype.update=function(){var t=this.el,e=t.getAttribute("datetime"),n=t.getAttribute("data-o-date-format"),r=t.querySelector(".o-date__printer")||t,i=r.firstChild&&3===r.firstChild.nodeType;if(e?e=o.toDate(e):i&&(e=new Date),e){var a=void 0;a="today-or-yesterday-or-nothing"===n?o.asTodayOrYesterdayOrNothing(e):"date-only"===n?o.format(e,"date"):"time-ago-limit-4-hours"===n?o.timeAgo(e,{limit:4*p.hour}):"time-ago-abbreviated-limit-4-hours"===n?o.timeAgo(e,{abbreviated:!0,limit:4*p.hour}):"time-ago-no-seconds"===n?o.timeAgoNoSeconds(e):null!==n?o.format(e,n):o.ftTime(e),i?r.firstChild.nodeValue=a:r.innerHTML=a,t.title=o.format(e,"datetime"),t.setAttribute("data-o-date-js",""),t.setAttribute("aria-label",a)}},o.toDate=function(t){if(t=t instanceof Date?t:new Date(t),"Invalid Date"!==t.toString())return t},o.format=function(t,e){e=e||"datetime";var n=d[e]||i(e);return t=o.toDate(t),t&&n(t)},o.getSecondsBetween=function(t,e){return Math.round((t-e)/1e3)},o.ftTime=function(t){var e=new Date,n=o.getSecondsBetween(e,t),r=void 0;return r=o.isNearFuture(n)?"just now":o.isFarFuture(n)?o.format(t,"date"):o.isToday(t,e,n)||n<4*p.hour?o.timeAgo(t,n):o.isYesterday(t,e,n)?"yesterday":o.format(t,"date")},o.isNearFuture=function(t){return t<0&&t>-(5*p.minute)},o.isFarFuture=function(t){return t<-(5*p.minute)},o.isToday=function(t,e,n){var r=n<p.day,o=e.getDay()===t.getDay();return r&&o},o.isYesterday=function(t,e,n){var r=n<2*p.day,o=e.getDay()===t.getDay()+1;return r&&o},o.timeAgo=function(t,e,n){if(t=o.toDate(t)){if(2===arguments.length&&"object"===("undefined"==typeof e?"undefined":(0,s.default)(e))&&(n=e,e=n.interval),e||(e=o.getSecondsBetween(new Date,t)),n&&n.limit>0&&(!e||e>n.limit))return"";var r=!!n&&n.abbreviated;return e<p.minute?(r?e+"s":e+" seconds")+" ago":e<1.5*p.minute?(r?"1m":"a minute")+" ago":e<59*p.minute?""+Math.round(e/p.minute)+(r?"m":" minutes")+" ago":e<1.5*p.hour?(r?"1h":"an hour")+" ago":e<22*p.hour?""+Math.round(e/p.hour)+(r?"h":" hours")+" ago":e<1.5*p.day?(r?"1d":"a day")+" ago":e<25*p.day?""+Math.round(e/p.day)+(r?"d":" days")+" ago":e<45*p.day?(r?"1mth":"a month")+" ago":e<345*p.day?""+Math.round(e/p.month)+(r?"mth":" months")+" ago":e<547*p.day?(r?"1y":"a year")+" ago":""+Math.max(2,Math.floor(e/p.year))+(r?"y":" years")+" ago"}},o.asTodayOrYesterdayOrNothing=function(t){if(t){var e=new Date,n=o.getSecondsBetween(e,t),r=void 0;return r=o.isToday(t,e,n)?"today":o.isYesterday(t,e,n)?"yesterday":""}},o.timeAgoNoSeconds=function(t){if(t){var e=new Date,n=o.getSecondsBetween(e,t);return n<60?"Less than a minute ago":o.timeAgo(t)}},o.init=function(t){if(t||(t=document.body),t instanceof HTMLElement||(t=document.querySelector(t)),/\bo-date\b/.test(t.getAttribute("data-o-component")))return new o(t);var e=t.querySelectorAll('[data-o-component~="o-date"]');return[].map.call(e,function(t){return new o(t)})};var g=function t(){o.init(),document.removeEventListener("o.DOMContentLoaded",t)};"undefined"!=typeof window&&document.addEventListener("o.DOMContentLoaded",g),t.exports=o},function(t,e,n){"use strict";function r(t){i.init(t),new o,new o(document.querySelector("[data-o-header--sticky]"));var e=document.querySelectorAll(".o-header [data-typeahead], .o-header__drawer [data-typeahead]");if(t.get("searchMultiTypeahead")&&e.length)for(var n=0;n<e.length;n++){var r=e[n];new a(r)}}var o=n(147),i=n(159),a=n(177);t.exports={init:r}},function(t,e,n){t.exports=n(148)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(149),i=r(o),a=function t(){i.default.init(),document.removeEventListener("o.DOMContentLoaded",t)};document.addEventListener("o.DOMContentLoaded",a),e.default=i.default,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),i=r(o),a=n(150),s=r(a),c=n(155),u=r(c),l=n(156),d=r(l),f=n(157),p=r(f),h=n(158),g=r(h),v=function(){function t(e){(0,i.default)(this,t),e?"string"==typeof e&&(e=document.querySelector(e)):e=document.querySelector('[data-o-component="o-header"]'),e.hasAttribute("data-o-header--js")||(this.headerEl=e,s.default.init(this.headerEl),u.default.init(this.headerEl),d.default.init(this.headerEl),p.default.init(this.headerEl),g.default.init(this.headerEl),this.headerEl.removeAttribute("data-o-header--no-js"),this.headerEl.setAttribute("data-o-header--js",""))}return t.init=function(e){return e||(e=document.body),e instanceof HTMLElement||(e=document.querySelector(e)),/\bo-header\b/.test(e.getAttribute("data-o-component"))?new t(e):[].map.call(e.querySelectorAll('[data-o-component="o-header"]'),function(e){if(!e.hasAttribute("data-o-header--js"))return new t(e)}).filter(function(t){return void 0!==t})},t}();e.default=v,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=t.querySelector("[data-o-header-search]"),n=e&&t.querySelectorAll('[aria-controls="'+e.id+'"]');if(null!==n&&0!==n.length)for(var r=[],o=function(t,n){"open"===t?(r.push(n.currentTarget),e.querySelector('[name="q"]').focus()):r.length&&r.pop().focus()},i=0,s=n.length;i<s;i++)new a.default(n[i],{target:e,callback:o})}Object.defineProperty(e,"__esModule",{value:!0});var i=n(151),a=r(i);e.default={init:o},t.exports=e.default},function(t,e,n){t.exports=n(152)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(153),i=r(o),a=function t(){i.default.init(),document.removeEventListener("o.DOMContentLoaded",t)};document.addEventListener("o.DOMContentLoaded",a),e.default=i.default,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),i=r(o),a=n(154),s=r(a),c=function(){function t(e,n){(0,i.default)(this,t),t._targets||(t._targets=new Map),e&&(e instanceof HTMLElement||(e=document.querySelector(e)),e.hasAttribute("data-o-toggle--js")||(n||(n={},Array.prototype.forEach.call(e.attributes,function(t){if(0===t.name.indexOf("data-o-toggle")){var e=t.name.replace("data-o-toggle-","");try{n[e]=JSON.parse(t.value.replace(/\'/g,'"'))}catch(r){n[e]=t.value}}})),this.callback=n.callback,"string"==typeof this.callback&&(this.callback=new Function(this.callback)),this.toggleEl=e,"A"===this.toggleEl.nodeName&&this.toggleEl.setAttribute("role","button"),this.toggle=this.toggle.bind(this),this.toggleEl.addEventListener("click",this.toggle),this.toggleEl.setAttribute("data-o-toggle--js","true"),this.targetEl=n.target,this.targetEl instanceof HTMLElement||(this.targetEl=document.querySelector(this.targetEl)),void 0===t._targets.get(this.targetEl)?(this.target=new t.Target(this),t._targets.set(this.targetEl,this.target)):this.target=t._targets.get(this.targetEl),this.target.addToggle(this),this.target.close()))}return t.prototype.open=function(){this.toggleEl.setAttribute("aria-expanded","true")},t.prototype.close=function(){this.toggleEl.setAttribute("aria-expanded","false")},t.prototype.toggle=function(t){if(this.target.toggle(),t&&t.preventDefault(),this.callback){var e=this.target.isOpen()?"open":"close";this.callback(e,t)}},t.prototype.destroy=function(){this.toggleEl.removeEventListener("click",this.toggle),this.toggleEl.removeAttribute("aria-expanded"),this.toggleEl.removeAttribute("role"),this.toggleEl.removeAttribute("data-o-toggle--js"),this.target.removeToggle(this),this.target=void 0,this.toggleEl=void 0,this.callback=void 0},t.init=function(e,n){e?e instanceof HTMLElement||(e=document.querySelector(e)):e=document.body;var r=e.querySelectorAll('[data-o-component="o-toggle"]'),o=[],i=!0,a=!1,s=void 0;try{for(var c,u=r[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var l=c.value;l.hasAttribute("data-o-toggle--js")||o.push(new t(l,n))}}catch(t){a=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(a)throw s}}return o},t}();c.Target=s.default,e.default=c,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),i=r(o),a=function(){function t(e){(0,i.default)(this,t),this.targetEl=e.targetEl,this.toggles=[]}return t.prototype.addToggle=function(t){this.toggles.push(t)},t.prototype.removeToggle=function(t){var e=this.toggles.indexOf(t);this.toggles=this.toggles.slice(0,e).concat(this.toggles.slice(e+1)),0===this.toggles.length&&this.open()},t.prototype.open=function(){this.targetEl.setAttribute("aria-hidden","false"),this.targetEl.classList.add("o-toggle--active"),this.toggles.forEach(function(t){t.open()})},t.prototype.close=function(){this.targetEl.setAttribute("aria-hidden","true"),this.targetEl.classList.remove("o-toggle--active"),this.toggles.forEach(function(t){t.close()})},t.prototype.toggle=function(){this.isOpen()?this.close():this.open()},t.prototype.isOpen=function(){return this.targetEl.classList.contains("o-toggle--active")},t}();e.default=a,t.exports=e.default},function(t,e){"use strict";function n(t,e){var n=void 0;t.addEventListener("mouseenter",function(){clearTimeout(n),r(e)||(n=setTimeout(function(){u.length?(i(u[0]),o(e,!1)):o(e,!0)},s))}),t.addEventListener("mouseleave",function(){clearTimeout(n),n=setTimeout(function(){return r(e)&&i(e)},c)})}function r(t){return u.indexOf(t)!==-1}function o(t,e){e&&t.classList.add("o-header__mega--animation"),t.setAttribute("aria-hidden","false"),t.setAttribute("aria-expanded","true"),t.dispatchEvent(new CustomEvent("oHeader.MegaMenuShow",{bubbles:!0})),u.push(t)}function i(t){t.classList.remove("o-header__mega--animation"),t.setAttribute("aria-hidden","true"),t.setAttribute("aria-expanded","false"),t.dispatchEvent(new CustomEvent("oHeader.MegaMenuHide",{bubbles:!0})),u.splice(u.indexOf(t),1)}function a(t){var e=Array.from(t.querySelectorAll("[data-o-header-mega]")),r=e.map(function(t){return t.parentNode});e.forEach(function(t){t.setAttribute("aria-hidden","true"),t.setAttribute("aria-expanded","false")}),r.forEach(function(t,r){return n(t,e[r])})}Object.defineProperty(e,"__esModule",{value:!0});var s=300,c=400,u=[];e.default={init:a,show:o,hide:i},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n=void 0,r=function(t){27===t.keyCode&&e()},o=function(n){t.contains(n.target)||e()},i=function(){clearTimeout(n)},a=function(){window.innerWidth>=t.offsetWidth&&(n=setTimeout(e,p))},s=function(e){var n=e.relatedTarget||e.target;t.contains(n)||t.focus()},c=function(){clearTimeout(n),t.removeEventListener("mouseenter",i),t.removeEventListener("mouseleave",a),document.removeEventListener("click",o),document.removeEventListener("touchstart",o),document.removeEventListener("keydown",r),document.removeEventListener("focusin",s),document.removeEventListener("focusout",s)},u=function(){t.addEventListener("mouseenter",i),t.addEventListener("mouseleave",a),document.addEventListener("click",o),document.addEventListener("touchstart",o),document.addEventListener("keydown",r),document.addEventListener("focusin",s),document.addEventListener("focusout",s)};return{addEvents:u,removeEvents:c,handleMouseleave:a}}function i(t){function e(e,n){"close"===e?(r.removeEvents(),i.focus()):(setTimeout(r.addEvents,f),i=n.currentTarget,setTimeout(function(){var e=t.querySelector("a, button, input, select");e?e.focus():t.focus()})),t.classList.toggle("o-header__drawer--closing","close"===e),t.classList.toggle("o-header__drawer--opening","open"===e)}var n=[].concat((0,u.default)(document.body.querySelectorAll('[aria-controls="'+t.id+'"]'))),r=void 0,i=void 0;n.forEach(function(n){var i=new d.default(n,{target:t,callback:e});r||(r=o(t,i.toggle))}),t.tabIndex=-1}function a(t){var e=t.querySelectorAll('[id^="o-header-drawer-child-"]');Array.from(e).forEach(function(e){var n=t.querySelector('[aria-controls="'+e.id+'"]');e.setAttribute("aria-hidden","true"),new d.default(n,{target:e,callback:function(t){n.textContent=n.textContent.replace(/fewer|more/,"open"===t?"fewer":"more")}})})}function s(){var t=document.body.querySelector("[data-o-header-drawer]");t&&(a(t),i(t),t.removeAttribute("data-o-header-drawer--no-js"),t.setAttribute("data-o-header-drawer--js","true"))}Object.defineProperty(e,"__esModule",{value:!0});var c=n(105),u=r(c),l=n(151),d=r(l),f=300,p=1e3;e.default={init:s,handleCloseEvents:o},t.exports=e.default},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){function e(t){return t.className.match(/left|right/).pop()}function n(){c=i.scrollWidth,u=i.clientWidth,s.forEach(function(t){if("left"===e(t))t.disabled=0===i.scrollLeft;else{var n=c-u-i.scrollLeft;t.disabled=n<=1}})}function r(t){var r=100;if("left"===e(t.currentTarget))r=(i.scrollLeft>r?r:i.scrollLeft)*-1;else{var o=c-u-i.scrollLeft;r=o>r?r:o}i.scrollLeft=i.scrollLeft+r,n()}var o=t.querySelector("[data-o-header-subnav]");if(null!==o){var i=o.querySelector("[data-o-header-subnav-wrapper]"),s=Array.from(o.getElementsByTagName("button")),c=void 0,u=void 0;i.addEventListener("scroll",a.throttle(n,100)),window.addEventListener("oViewport.resize",n),s.forEach(function(t){t.onclick=r}),n()}}var i=n(38),a=r(i);t.exports={init:o}},function(t,e,n){"use strict";function r(t){function e(){var e=window.pageYOffset||window.scrollY,n=e>s;if(t.classList.toggle("o-header--sticky-active",n),Math.abs(e-c)>20){var r=c<e;t.classList.toggle("o-header--sticky-scroll-down",n&&r),t.classList.toggle("o-header--sticky-scroll-up",n&&!r)}c=e}function n(){s=window.innerHeight/2,u=window.requestAnimationFrame(function(){e(),n()})}function r(){u&&window.cancelAnimationFrame(u)}function i(){window.removeEventListener("scroll",i),window.addEventListener("scroll",l),n()}function a(){r(),window.removeEventListener("scroll",l),window.addEventListener("scroll",i)}if(t.hasAttribute("data-o-header--sticky")){var s=void 0,c=void 0,u=void 0,l=(0,o.debounce)(a,300);window.addEventListener("scroll",i),e()}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(38);e.default={init:r},t.exports=e.default},function(t,e,n){"use strict";function r(){return"withCredentials"in new XMLHttpRequest}function o(){return(0,g.products)().catch(function(){return{}})}function i(t){return t.isForRegisteredUser=d(t),t.isForWeekendUser=f(t),t.isForAnonymousUser=!t.products&&!t.uuid,t}function a(){return"/signup"===window.location.pathname||"/thank-you"===window.location.pathname}function s(){return!!document.querySelector(".barrier")}function c(t){var e=document.querySelector(".n-header__marketing-promo");if(e){var n=document.querySelector("#discountPercent");n&&(n.innerText=v[t.barrierDiscountByCohort]+"%"),e.classList.add("visible")}}function u(){var t=document.querySelector(".n-header__marketing-promo");t&&(t.style.background="#0088C1",t.innerHTML='\n\t\t<div class="n-header__marketing-promo__container o-header__container">\n\t\t\t<a href="https://www.ft.com/products?segmentId=05a3d326-9abe-5885-4ee2-8d58d9a9a4ea" class="n-header__marketing-promo__box n-header__marketing-promo__box--us" data-trackable="marketing-promo:box">\n\t\t\t\t<div class="n-header__marketing-promo__link" data-trackable="marketing-promo-elections:link">LIMITED TIME OFFER: Subscribe &amp; save 25%</div>\n\t\t\t</a>\n\t\t</div>',t.classList.add("visible"))}function l(){return document.cookie.indexOf("USERNAME")}function d(t){return t.products&&t.products.indexOf("P0")>-1&&t.products.indexOf("P1")===-1&&t.products.indexOf("P2")===-1}function f(t){return t.products&&t.products.indexOf("P6")>-1&&t.products.indexOf("P1")===-1&&t.products.indexOf("P2")===-1}function p(t){return t.get("discountOn")&&t.get("headerMarketingPromo")}function h(t){a()||s()||(r()?o().then(i).then(function(e){(e.isForAnonymousUser||e.isForRegisteredUser||e.isForWeekendUser)&&(p(t)?u():c(t))}):l()&&c(t))}Object.defineProperty(e,"__esModule",{value:!0}),e.init=h;var g=n(160),v={L:50,S:25,S_5:25}},function(t,e,n){t.exports=n(161)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(162),i=r(o),a=n(175),s=r(a),c=n(176),u=r(c),l={},d=function(){return(/FTSession=([^;]+)/.exec(document.cookie)||[null,""])[1]},f=function(){var t=/FTSession_s=([^;]+)/.exec(document.cookie)||[],e=(0,i.default)(t,2),n=e[1];return n},p=function(){var t=(0,u.default)("uuid");if(t)return Promise.resolve({uuid:t});var e=f();return e?(l.uuid||(l.uuid=(0,s.default)("/sessions/s/"+e).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.uuid;return delete l.uuid,e&&(0,u.default)("uuid",e),{uuid:e}})),l.uuid):Promise.resolve({uuid:void 0})},h=function(){var t=(0,u.default)("products"),e=(0,u.default)("uuid");return t&&e?Promise.resolve({products:t,uuid:e}):f()?(l.products||(l.products=(0,s.default)("/products",{credentials:"include"}).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.products,n=t.uuid;return l.products=void 0,e&&(0,u.default)("products",e),n&&(0,u.default)("uuid",n),{products:e,uuid:n}})),l.products):Promise.resolve({})},g=function(){return p().then(function(t){var e=t.uuid;return!!e})};e.default={uuid:p,products:h,validate:g,cache:u.default,cookie:d,sessionId:f},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(163),i=r(o),a=n(172),s=r(a);e.default=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=(0,s.default)(t);!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,i.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){t.exports={default:n(164),__esModule:!0}},function(t,e,n){n(165),n(108),t.exports=n(171)},function(t,e,n){n(166);var r=n(126);r.NodeList=r.HTMLCollection=r.Array},function(t,e,n){"use strict";var r=n(167),o=n(168),i=n(126),a=n(169);t.exports=n(112)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,n):"values"==e?o(0,t[n]):o(0,[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(170),o=n(111);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(141);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(140),o=n(129)("iterator"),i=n(126);t.exports=n(116).isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||i.hasOwnProperty(r(e));
}},function(t,e,n){t.exports={default:n(173),__esModule:!0}},function(t,e,n){n(165),n(108),t.exports=n(174)},function(t,e,n){var r=n(135),o=n(139);t.exports=n(116).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.credentials,r=void 0===n?"omit":n;return fetch("https://session-next.ft.com"+t,{credentials:r,useCorsProxy:!0}).then(function(t){return t.ok?t.json():t.text().then(function(e){throw new Error('Next session responded with "'+e+'" ('+t.status+")")})}).catch(function(t){document.body.dispatchEvent(new CustomEvent("oErrors.log",{bubbles:!0,detail:{error:t,info:{component:"next-session-client"}}}))})},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=r(o),a={},s=function(t,e){if("object"===("undefined"==typeof t?"undefined":(0,i.default)(t)))return void(a=t);if("string"==typeof t&&"string"==typeof e)return void(a[t]=e);if("string"==typeof t&&"undefined"==typeof e)return a[t]||null;if("undefined"==typeof t&&"undefined"==typeof e)return a;throw new Error("Invalid arguments")};s.clear=function(){a={}},e.default=s,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return"string"==typeof t?function(e){return e&&e!==document&&!e.matches(t)}:function(e){return e&&e!==document&&e!==t}}function i(t,e){for(var n=o(e);n(t);)t=t.parentNode;return!t||t===document}Object.defineProperty(e,"__esModule",{value:!0});var a=n(4),s=r(a),c=n(12),u=n(178),l=n(33),d=n(192),f=n(192),p=function(){function t(e,n){(0,s.default)(this,t),this.container=e,this.listComponent=n||u.SuggestionList,this.searchEl=this.container.querySelector("[data-typeahead-input]"),this.dataSrc="//"+window.location.host+"/search-api/suggestions?partial=",this.categories=(this.container.getAttribute("data-typeahead-categories")||"tags").split(","),this.itemTag=this.container.getAttribute("data-typeahead-item-tag")||"a",this.includeViewAllLink=this.container.hasAttribute("data-typeahead-view-all"),this.minLength=2,this.init()}return t.prototype.init=function(){var t=this;this.suggestions=[],this.suggestionListContainer=document.createElement("div"),this.searchEl.parentNode.insertBefore(this.suggestionListContainer,null),this.suggestionsView=f.render(d.createElement(this.listComponent,{categories:this.categories,itemTag:this.itemTag,includeViewAllLink:this.includeViewAllLink,searchEl:this.searchEl}),this.suggestionListContainer),this.searchTermHistory=[],this.bodyDelegate=new l(document.body),this.onType=(0,c.debounce)(this.onType,150).bind(this),this.onFocus=this.onFocus.bind(this),this.searchEl.addEventListener("keydown",function(t){40!==t.which&&38!==t.which||t.preventDefault()}),this.searchEl.addEventListener("keyup",function(e){switch(e.which){case 13:return;case 9:return;case 27:t.hide();break;case 40:t.onDownArrow(e);break;default:t.onType(e)}}),this.searchEl.addEventListener("focus",this.onFocus),this.searchEl.addEventListener("click",this.onFocus)},t.prototype.onType=function(){this.searchTerm=this.searchEl.value.trim(),this.searchTermHistory.push(this.searchTerm),this.getSuggestions(this.searchTerm),[].forEach.call(this.suggestionListContainer.querySelectorAll("li"),function(t){t.setAttribute("data-trackable-meta",'{"search-term":"'+this.searchTerm+'"}')}.bind(this))},t.prototype.onFocus=function(t){t.target.setSelectionRange?t.target.setSelectionRange(0,t.target.value.length):t.target.select(),this.show()},t.prototype.onDownArrow=function(){this.suggestionLinks=Array.from(this.suggestionListContainer.querySelectorAll(".n-typeahead__link")),this.suggestionLinks.length&&this.suggestionLinks[0].focus()},t.prototype.getSuggestions=function(t){var e=this;t.length>=this.minLength?fetch(this.dataSrc+encodeURIComponent(t)).then(function(t){if(!t.ok)throw new Error(t.statusText);return t.json()}).then(function(t){return e.suggest(t)}).catch(function(t){setTimeout(function(){throw t})}):this.unsuggest()},t.prototype.isTimelyResponse=function(t){var e=this.searchTermHistory.indexOf(t);return e>-1&&(this.searchTermHistory=this.searchTermHistory.slice(e),!0)},t.prototype.suggest=function(t){t.query&&this.isTimelyResponse(t.query.partial)&&(this.suggestions=t,this.suggestionsView.setState({searchTerm:this.searchTerm,suggestions:this.suggestions}),this.show())},t.prototype.unsuggest=function(){this.hide()},t.prototype.hide=function(){this.suggestionListContainer.setAttribute("hidden",""),this.bodyDelegate.off()},t.prototype.reset=function(){this.hide(),this.suggestions=[],this.suggestionLinks=[],this.suggestionsView.setState({suggestions:{tags:[],equities:[]},searchTerm:""}),this.searchTermHistory=[],this.searchTerm="",this.searchEl.value=""},t.prototype.show=function(){var t=this;this.suggestionListContainer.removeAttribute("hidden"),["focus","touchstart","mousedown"].forEach(function(e){t.bodyDelegate.on(e,function(e){i(e.target,t.container)&&t.hide()})})},t}();e.default=p,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")}Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestionList=void 0;var i=n(179),a=r(i),s=n(4),c=r(s),u=n(184),l=r(u),d=n(185),f=r(d),p=n(192),h=5,g={tags:"News",equities:"Securities"},v={ENTER:13,UP_ARROW:38,DOWN_ARROW:40};e.SuggestionList=function(t){function e(){(0,c.default)(this,e);var n=(0,l.default)(this,t.call(this));return n.state={suggestions:{tags:[],equities:[]}},n}return(0,f.default)(e,t),e.prototype.highlight=function(t){return t.replace(RegExp(o(this.state.searchTerm),"gi"),"<mark>$&</mark>")},e.prototype.renderHeading=function(t){return this.props.categories.length>1?p.createElement("div",{className:"n-typeahead__heading"},t.heading):""},e.prototype.renderTailLink=function(t){var e=this;if(t.tailLink){var n={className:"n-typeahead__link n-typeahead__link--tail",href:t.tailLink.url,"data-trackable":t.tailLink.trackable};return p.createElement("a",(0,a.default)({},n,{ref:function(t){e.items.push(t)},tabindex:"0"}),t.tailLink.innerHtml)}},e.prototype.handleKeyDown=function(t){if(t.which===v.ENTER)return void t.stopPropagation();if(t.which===v.DOWN_ARROW){var e=this.items.indexOf(t.target),n=e+1;return n<this.items.length?this.items[n].focus():this.items[0].focus(),void t.preventDefault()}if(t.which===v.UP_ARROW){var r=this.items.indexOf(t.target),o=r-1;o<0?this.props.searchEl.focus():this.items[o].focus(),t.preventDefault()}},e.prototype.renderItems=function(t){var e=this;return!t.suggestions.length&&t.emptyHtml?t.emptyHtml:p.createElement("ul",{className:"n-typeahead__item-list"},t.suggestions.map(function(n){return p.createElement("li",{className:"n-typeahead__item"},p.createElement("a",{className:"n-typeahead__link "+t.linkClassName,ref:function(t){e.items.push(t)},href:n.url,tabindex:"0","data-trackable":"link","data-suggestion-id":n.id,"data-suggestion-type":n.type,dangerouslySetInnerHTML:{__html:n.html}}))}),p.createElement("li",{className:"n-typeahead__item"},this.renderTailLink(t)))},e.prototype.render=function(){var t=this,e=this.state.suggestions.tags&&this.state.suggestions.tags.length,n=this.state.suggestions.equities&&this.state.suggestions.equities.length,r=e||n,o=[];return this.items=[],this.props.categories.includes("tags")&&o.push({heading:g.tags,linkClassName:"n-typeahead__link--news",trackable:"news",suggestions:this.state.suggestions.tags.slice(0,h).map(function(e){return{html:t.highlight(e.name),url:e.url,id:e.id,type:"tag"}}),tailLink:this.props.includeViewAllLink&&{url:"/search?q="+this.state.searchTerm,innerHtml:p.createElement("span",null,"See all news matching ",p.createElement("mark",null,this.state.searchTerm)),trackable:"see-all"}}),this.props.categories.includes("equities")&&o.push({heading:g.equities,trackable:"equities",linkClassName:"n-typeahead__link--equities",emptyHtml:p.createElement("div",{className:"n-typeahead__no-results-message"},"No equities found"),suggestions:this.state.suggestions.equities.slice(0,h).map(function(e){return{html:'<span class="n-typeahead__link__equity-name">'+t.highlight(e.name)+"</span><abbr>"+t.highlight(e.symbol)+"</abbr>",url:e.url,id:e.symbol,type:"equity"}}),tailLink:this.props.includeViewAllLink&&{url:"https://markets.ft.com/data/search?query="+this.state.searchTerm,innerHtml:p.createElement("span",null,"See all quotes matching ",p.createElement("mark",null,this.state.searchTerm)),trackable:"see-all"}}),p.createElement("div",{className:"n-typeahead",hidden:!r,"data-trackable":"typeahead",onKeyDown:this.handleKeyDown.bind(this)},o.map(function(e){return p.createElement("div",{className:"n-typeahead__group "+e.className,"data-trackable":e.trackable},t.renderHeading(e),t.renderItems(e))}))},e}(p.Component)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(180),i=r(o);e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){t.exports={default:n(181),__esModule:!0}},function(t,e,n){n(182),t.exports=n(116).Object.assign},function(t,e,n){var r=n(114);r(r.S+r.F,"Object",{assign:n(183)})},function(t,e,n){var r=n(121),o=n(133),i=n(170);t.exports=n(124)(function(){var t=Object.assign,e={},n={},r=Symbol(),o="abcdefghijklmnopqrst";return e[r]=7,o.split("").forEach(function(t){n[t]=t}),7!=t({},e)[r]||Object.keys(t({},n)).join("")!=o})?function(t,e){for(var n=o(t),a=arguments,s=a.length,c=1,u=r.getKeys,l=r.getSymbols,d=r.isEnum;s>c;)for(var f,p=i(a[c++]),h=l?u(p).concat(l(p)):u(p),g=h.length,v=0;g>v;)d.call(p,f=h[v++])&&(n[f]=p[f]);return n}:Object.assign},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(6),i=r(o);e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":(0,i.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(186),i=r(o),a=n(190),s=r(a),c=n(6),u=r(c);e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":(0,u.default)(e)));t.prototype=(0,s.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(i.default?(0,i.default)(t,e):t.__proto__=e)}},function(t,e,n){t.exports={default:n(187),__esModule:!0}},function(t,e,n){n(188),t.exports=n(116).Object.setPrototypeOf},function(t,e,n){var r=n(114);r(r.S,"Object",{setPrototypeOf:n(189).set})},function(t,e,n){var r=n(121).getDesc,o=n(136),i=n(135),a=function(t,e){if(i(t),!o(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,o){try{o=n(117)(Function.call,r(Object.prototype,"__proto__").set,2),o(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return a(t,n),e?t.__proto__=n:o(t,n),t}}({},!1):void 0),check:a}},function(t,e,n){t.exports={default:n(191),__esModule:!0}},function(t,e,n){var r=n(121);t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){(function(e){!function(e,r){t.exports=r(n(194),n(195))}(this,function(t,n){function r(){return null}function o(t){var e=t.nodeName,n=t.attributes;t.attributes={},e.defaultProps&&_(t.attributes,e.defaultProps),n&&_(t.attributes,n)}function i(t,e){var n,r,o;if(e){for(o in e)if(n=U.test(o))break;if(n){r=t.attributes={};for(o in e)e.hasOwnProperty(o)&&(r[U.test(o)?o.replace(/([A-Z0-9])/,"-$1").toLowerCase():o]=e[o])}}}function a(t,e,r){var o=e&&e._preactCompatRendered&&e._preactCompatRendered.base;o&&o.parentNode!==e&&(o=null),o||(o=e.children[0]);for(var i=e.childNodes.length;i--;)e.childNodes[i]!==o&&e.removeChild(e.childNodes[i]);var a=n.render(t,e,o);return e&&(e._preactCompatRendered=a&&(a._component||{base:a})),"function"==typeof r&&r(),a&&a._component||a}function s(t,e,r,o){var i=n.h(J,{context:t.context},e),s=a(i,r);return o&&o(s),s._component||s.base}function c(t){var e=t._preactCompatRendered&&t._preactCompatRendered.base;return!(!e||e.parentNode!==t)&&(n.render(n.h(r),t,e),!0)}function u(t){return h.bind(null,t)}function l(t,e){for(var n=e||0;n<t.length;n++){var r=t[n];Array.isArray(r)?l(r):r&&"object"==typeof r&&!m(r)&&(r.props&&r.type||r.attributes&&r.nodeName||r.children)&&(t[n]=h(r.type||r.nodeName,r.props||r.attributes,r.children))}}function d(t){return"function"==typeof t&&!(t.prototype&&t.prototype.render)}function f(t){return S({displayName:t.displayName||t.name,render:function(){return t(this.props,this.context)}})}function p(t){var e=t[F];return e?e===!0?t:e:(e=f(t),Object.defineProperty(e,F,{configurable:!0,value:!0}),e.displayName=t.displayName,e.propTypes=t.propTypes,e.defaultProps=t.defaultProps,Object.defineProperty(t,F,{configurable:!0,value:e}),e)}function h(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return l(t,2),g(n.h.apply(void 0,t))}function g(t){t.preactCompatNormalized=!0,w(t),d(t.nodeName)&&(t.nodeName=p(t.nodeName));var e=t.attributes.ref,n=e&&typeof e;return!G||"string"!==n&&"number"!==n||(t.attributes.ref=y(e,G)),b(t),t}function v(t,e){for(var r=[],o=arguments.length-2;o-- >0;)r[o]=arguments[o+2];if(!m(t))return t;var i=t.attributes||t.props,a=n.h(t.nodeName||t.type,i,t.children||i&&i.children),s=[a,e];return r&&r.length?s.push(r):e&&e.children&&s.push(e.children),g(n.cloneElement.apply(void 0,s))}function m(t){return t&&(t instanceof V||t.$$typeof===q)}function y(t,e){return e._refProxies[t]||(e._refProxies[t]=function(n){e&&e.refs&&(e.refs[t]=n,null===n&&(delete e._refProxies[t],e=null))})}function b(t){var e=t.nodeName,n=t.attributes;if(n&&"string"==typeof e){var r={};for(var o in n)r[o.toLowerCase()]=o;if(r.ondoubleclick&&(n.ondblclick=n[r.ondoubleclick],delete n[r.ondoubleclick]),r.onchange&&("textarea"===e||"input"===e.toLowerCase()&&!/^fil|che|rad/i.test(n.type))){var i=r.oninput||"oninput";n[i]||(n[i]=O([n[i],n[r.onchange]]),delete n[r.onchange])}}}function w(t){var e=t.attributes;if(e){var n=e.className||e.class;n&&(e.className=n)}}function _(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function x(t,e){for(var n in t)if(!(n in e))return!0;for(var r in e)if(t[r]!==e[r])return!0;return!1}function E(t){return t&&t.base||t}function k(){}function S(t){function e(t,e){A(this),j.call(this,t,e,B),M.call(this,t,e)}return t=_({constructor:e},t),t.mixins&&L(t,C(t.mixins)),t.statics&&_(e,t.statics),t.propTypes&&(e.propTypes=t.propTypes),t.defaultProps&&(e.defaultProps=t.defaultProps),t.getDefaultProps&&(e.defaultProps=t.getDefaultProps()),k.prototype=j.prototype,e.prototype=_(new k,t),e.displayName=t.displayName||"Component",e}function C(t){for(var e={},n=0;n<t.length;n++){var r=t[n];for(var o in r)r.hasOwnProperty(o)&&"function"==typeof r[o]&&(e[o]||(e[o]=[])).push(r[o])}return e}function L(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=O(e[n].concat(t[n]||Y),"getDefaultProps"===n||"getInitialState"===n||"getChildContext"===n))}function A(t){for(var e in t){var n=t[e];"function"!=typeof n||n.__bound||H.hasOwnProperty(e)||((t[e]=n.bind(t)).__bound=!0)}}function T(t,e,n){if("string"==typeof e&&(e=t.constructor.prototype[e]),"function"==typeof e)return e.apply(t,n)}function O(t,e){return function(){for(var n,r=arguments,o=this,i=0;i<t.length;i++){var a=T(o,t[i],r);if(e&&null!=a){n||(n={});for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])}else"undefined"!=typeof a&&(n=a)}return n}}function M(t,e){P.call(this,t,e),this.componentWillReceiveProps=O([P,this.componentWillReceiveProps||"componentWillReceiveProps"]),this.render=O([P,N,this.render||"render",I])}function P(t,e){var n=this;if(t){var r=t.children;if(r&&Array.isArray(r)&&1===r.length&&(t.children=r[0],t.children&&"object"==typeof t.children&&(t.children.length=1,t.children[0]=t.children)),W){var o="function"==typeof this?this:this.constructor,i=this.propTypes||o.propTypes;if(i)for(var a in i)if(i.hasOwnProperty(a)&&"function"==typeof i[a]){var s=n.displayName||o.name,c=i[a](t,a,s,"prop");c&&console.error(new Error(c.message||c))}}}}function N(t){G=this}function I(){G===this&&(G=null)}function j(t,e,r){n.Component.call(this,t,e),this.state=this.getInitialState?this.getInitialState():{},this.refs={},this._refProxies={},r!==B&&M.call(this,t,e)}function D(t,e){j.call(this,t,e)}t="default"in t?t.default:t;var R="15.1.0",z="a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param picture pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr circle clipPath defs ellipse g image line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan".split(" "),q="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,F="undefined"!=typeof Symbol?Symbol.for("__preactCompatWrapper"):"__preactCompatWrapper",H={constructor:1,render:1,shouldComponentUpdate:1,componentWillReceiveProps:1,componentWillUpdate:1,componentDidUpdate:1,componentWillMount:1,componentDidMount:1,componentWillUnmount:1,componentDidUnmount:1},U=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vert|word|writing|x)[A-Z]/,B={},W="undefined"==typeof e||!1||!1,V=n.h("a",null).constructor;V.prototype.$$typeof=q,V.prototype.preactCompatUpgraded=!1,V.prototype.preactCompatNormalized=!1,Object.defineProperty(V.prototype,"type",{get:function(){return this.nodeName},set:function(t){this.nodeName=t},configurable:!0}),Object.defineProperty(V.prototype,"props",{get:function(){return this.attributes},set:function(t){this.attributes=t},configurable:!0});var $=n.options.event;n.options.event=function(t){return $&&(t=$(t)),t.persist=Object,t.nativeEvent=t,t};var K=n.options.vnode;n.options.vnode=function(t){if(!t.preactCompatUpgraded){t.preactCompatUpgraded=!0;var e=t.nodeName,n=t.attributes=_({},t.attributes);"function"==typeof e?(e[F]===!0||e.prototype&&"isReactComponent"in e.prototype)&&(t.children&&!t.children.length&&(t.children=void 0),t.children&&(n.children=t.children),t.preactCompatNormalized||g(t),o(t)):(t.children&&!t.children.length&&(t.children=void 0),t.children&&(n.children=t.children),n.defaultValue&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),i(t,n))}K&&K(t)};var J=function(){};J.prototype.getChildContext=function(){return this.props.context},J.prototype.render=function(t){return t.children[0]};for(var G,Y=[],X={map:function(t,e,n){return null==t?null:(t=X.toArray(t),n&&n!==t&&(e=e.bind(n)),t.map(e))},forEach:function(t,e,n){return null==t?null:(t=X.toArray(t),n&&n!==t&&(e=e.bind(n)),void t.forEach(e))},count:function(t){return t&&t.length||0},only:function(t){if(t=X.toArray(t),1!==t.length)throw new Error("Children.only() expects only one child.");return t[0]},toArray:function(t){return Array.isArray&&Array.isArray(t)?t:Y.concat(t)}},Z={},Q=z.length;Q--;)Z[z[Q]]=u(z[Q]);_(j.prototype=new n.Component,{constructor:j,isReactComponent:{},replaceState:function(t,e){var n=this;this.setState(t,e);for(var r in n.state)r in t||delete n.state[r]},getDOMNode:function(){return this.base},isMounted:function(){return!!this.base}}),k.prototype=j.prototype,D.prototype=new k,D.prototype.shouldComponentUpdate=function(t,e){return x(this.props,t)||x(this.state,e)};var tt={version:R,DOM:Z,PropTypes:t,Children:X,render:a,createClass:S,createFactory:u,createElement:h,cloneElement:v,isValidElement:m,findDOMNode:E,unmountComponentAtNode:c,Component:j,PureComponent:D,unstable_renderSubtreeIntoContainer:s};return tt})}).call(e,n(193))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function i(t){if(d===clearTimeout)return clearTimeout(t);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function a(){g&&p&&(g=!1,p.length?h=p.concat(h):v=-1,h.length&&s())}function s(){if(!g){var t=o(a);g=!0;for(var e=h.length;e;){for(p=h,h=[];++v<e;)p&&p[v].run();v=-1,e=h.length}p=null,g=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var l,d,f=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(t){d=r}}();var p,h=[],g=!1,v=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new c(t,e)),1!==h.length||g||o(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,n){var r,o,i;!function(n,a){o=[e,t],r=a,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i))}(this,function(t,e){"use strict";function n(t){var e=t&&(E&&t[E]||t[k]);if("function"==typeof e)return e}function r(t){function e(e,n,r,o,i,a){if(o=o||S,a=a||r,null==n[r]){var s=_[i];return e?new Error("Required "+s+" `"+a+"` was not specified in "+("`"+o+"`.")):null}return t(n,r,o,i,a)}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function o(t){function e(e,n,r,o,i){var a=e[n],s=v(a);if(s!==t){var c=_[o],u=m(a);return new Error("Invalid "+c+" `"+i+"` of type "+("`"+u+"` supplied to `"+r+"`, expected ")+("`"+t+"`."))}return null}return r(e)}function i(){return r(x.thatReturns(null))}function a(t){function e(e,n,r,o,i){var a=e[n];if(!Array.isArray(a)){var s=_[o],c=v(a);return new Error("Invalid "+s+" `"+i+"` of type "+("`"+c+"` supplied to `"+r+"`, expected an array."))}for(var u=0;u<a.length;u++){var l=t(a,u,r,o,i+"["+u+"]");if(l instanceof Error)return l}return null}return r(e)}function s(){function t(t,e,n,r,o){if(!w.isValidElement(t[e])){var i=_[r];return new Error("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return r(t)}function c(t){function e(e,n,r,o,i){if(!(e[n]instanceof t)){var a=_[o],s=t.name||S,c=y(e[n]);return new Error("Invalid "+a+" `"+i+"` of type "+("`"+c+"` supplied to `"+r+"`, expected ")+("instance of `"+s+"`."))}return null}return r(e)}function u(t){function e(e,n,r,o,i){for(var a=e[n],s=0;s<t.length;s++)if(a===t[s])return null;var c=_[o],u=JSON.stringify(t);return new Error("Invalid "+c+" `"+i+"` of value `"+a+"` "+("supplied to `"+r+"`, expected one of "+u+"."))}return r(Array.isArray(t)?e:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function l(t){function e(e,n,r,o,i){var a=e[n],s=v(a);if("object"!==s){var c=_[o];return new Error("Invalid "+c+" `"+i+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an object."))}for(var u in a)if(a.hasOwnProperty(u)){var l=t(a,u,r,o,i+"."+u);if(l instanceof Error)return l}return null}return r(e)}function d(t){function e(e,n,r,o,i){for(var a=0;a<t.length;a++){var s=t[a];if(null==s(e,n,r,o,i))return null}var c=_[o];return new Error("Invalid "+c+" `"+i+"` supplied to "+("`"+r+"`."))}return r(Array.isArray(t)?e:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function f(){function t(t,e,n,r,o){if(!h(t[e])){var i=_[r];return new Error("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return r(t)}function p(t){function e(e,n,r,o,i){var a=e[n],s=v(a);if("object"!==s){var c=_[o];return new Error("Invalid "+c+" `"+i+"` of type `"+s+"` "+("supplied to `"+r+"`, expected `object`."))}for(var u in t){var l=t[u];if(l){var d=l(a,u,r,o,i+"."+u);if(d)return d}}return null}return r(e)}function h(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(h);if(null===t||w.isValidElement(t))return!0;var e=n(t);if(!e)return!1;var r,o=e.call(t);if(e!==t.entries){for(;!(r=o.next()).done;)if(!h(r.value))return!1}else for(;!(r=o.next()).done;){var i=r.value;if(i&&!h(i[1]))return!1}return!0;default:return!1}}function g(t,e){return"symbol"===t||("Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol)}function v(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":g(e,t)?"symbol":e}function m(t){var e=v(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function y(t){return t.constructor&&t.constructor.name?t.constructor.name:S}var b="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,w={};w.isValidElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===b};var _={prop:"prop",context:"context",childContext:"child context"},x={thatReturns:function(t){return function(){return t}}},E="function"==typeof Symbol&&Symbol.iterator,k="@@iterator",S="<<anonymous>>",C={array:o("array"),bool:o("boolean"),func:o("function"),number:o("number"),object:o("object"),string:o("string"),symbol:o("symbol"),any:i(),arrayOf:a,element:s(),instanceOf:c,node:f(),objectOf:l,oneOf:u,oneOfType:d,shape:p};e.exports=C})},function(t,e,n){!function(t,n){n(e)}(this,function(t){function e(t,e,n){this.nodeName=t,this.attributes=e,this.children=n,this.key=e&&e.key}function n(t,n){var r,o,i,a,s;for(s=arguments.length;s-- >2;)q.push(arguments[s]);for(n&&n.children&&(q.length||q.push(n.children),delete n.children);q.length;)if((i=q.pop())instanceof Array)for(s=i.length;s--;)q.push(i[s]);else null!=i&&i!==!0&&i!==!1&&("number"==typeof i&&(i=String(i)),a="string"==typeof i,a&&o?r[r.length-1]+=i:((r||(r=[])).push(i),o=a));var c=new e(t,n||void 0,r||F);return z.vnode&&z.vnode(c),c}function r(t,e){if(e)for(var n in e)t[n]=e[n];return t}function o(t){return r({},t)}function i(t,e){for(var n=e.split("."),r=0;r<n.length&&t;r++)t=t[n[r]];return t}function a(t){return"function"==typeof t}function s(t){return"string"==typeof t}function c(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}function u(t,e){return n(t.nodeName,r(o(t.attributes),e),arguments.length>2?[].slice.call(arguments,2):t.children)}function l(t,e,n){var r=e.split(".");return function(e){for(var o=e&&e.target||this,a={},c=a,u=s(n)?i(e,n):o.nodeName?o.type.match(/^che|rad/)?o.checked:o.value:e,l=0;l<r.length-1;l++)c=c[r[l]]||(c[r[l]]=!l&&t.state[r[l]]||{});c[r[l]]=u,t.setState(a)}}function d(t){!t._dirty&&(t._dirty=!0)&&1==G.push(t)&&(z.debounceRendering||W)(f)}function f(){var t,e=G;for(G=[];t=e.pop();)t._dirty&&N(t)}function p(t){var e=t&&t.nodeName;return e&&a(e)&&!(e.prototype&&e.prototype.render)}function h(t,e){return t.nodeName(m(t),e||V)}function g(t,e){return s(e)?t instanceof Text:s(e.nodeName)?!t._componentConstructor&&v(t,e.nodeName):a(e.nodeName)?!t._componentConstructor||t._componentConstructor===e.nodeName||p(e):void 0}function v(t,e){return t.normalizedNodeName===e||U(t.nodeName)===U(e)}function m(t){var e=o(t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(n)for(var r in n)void 0===e[r]&&(e[r]=n[r]);return e}function y(t){var e=t.parentNode;e&&e.removeChild(t)}function b(t,e,n,r,o){if("className"===e&&(e="class"),"class"===e&&r&&"object"==typeof r&&(r=c(r)),"key"===e);else if("class"!==e||o)if("style"===e){if((!r||s(r)||s(n))&&(t.style.cssText=r||""),r&&"object"==typeof r){if(!s(n))for(var i in n)i in r||(t.style[i]="");for(var i in r)t.style[i]="number"!=typeof r[i]||K[i]?r[i]:r[i]+"px"}}else if("dangerouslySetInnerHTML"===e)r&&(t.innerHTML=r.__html||"");else if("o"==e[0]&&"n"==e[1]){var u=t._listeners||(t._listeners={});e=U(e.substring(2)),r?u[e]||t.addEventListener(e,_,!!J[e]):u[e]&&t.removeEventListener(e,_,!!J[e]),u[e]=r}else if("list"!==e&&"type"!==e&&!o&&e in t)w(t,e,null==r?"":r),null!=r&&r!==!1||t.removeAttribute(e);else{var l=o&&e.match(/^xlink\:?(.+)/);null==r||r===!1?l?t.removeAttributeNS("http://www.w3.org/1999/xlink",U(l[1])):t.removeAttribute(e):"object"==typeof r||a(r)||(l?t.setAttributeNS("http://www.w3.org/1999/xlink",U(l[1]),r):t.setAttribute(e,r))}else t.className=r||""}function w(t,e,n){try{t[e]=n}catch(t){}}function _(t){return this._listeners[t.type](z.event&&z.event(t)||t)}function x(t){if(y(t),t instanceof Element){t._component=t._componentConstructor=null;var e=t.normalizedNodeName||U(t.nodeName);(Y[e]||(Y[e]=[])).push(t)}}function E(t,e){var n=U(t),r=Y[n]&&Y[n].pop()||(e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t));return r.normalizedNodeName=n,r}function k(){for(var t;t=X.pop();)z.afterMount&&z.afterMount(t),t.componentDidMount&&t.componentDidMount()}function S(t,e,n,r,o,i){Z++||(Q=o&&void 0!==o.ownerSVGElement,tt=t&&!($ in t));var a=C(t,e,n,r);return o&&a.parentNode!==o&&o.appendChild(a),--Z||(tt=!1,i||k()),a}function C(t,e,n,r){for(var o=e&&e.attributes&&e.attributes.ref;p(e);)e=h(e,n);if(null==e&&(e=""),s(e))return t&&t instanceof Text&&t.parentNode?t.nodeValue!=e&&(t.nodeValue=e):(t&&A(t),t=document.createTextNode(e)),t;if(a(e.nodeName))return I(t,e,n,r);var i=t,c=String(e.nodeName),u=Q,l=e.children;if(Q="svg"===c||"foreignObject"!==c&&Q,t){if(!v(t,c)){for(i=E(c,Q);t.firstChild;)i.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(i,t),A(t)}}else i=E(c,Q);var d=i.firstChild,f=i[$];if(!f){i[$]=f={};for(var g=i.attributes,m=g.length;m--;)f[g[m].name]=g[m].value}return!tt&&l&&1===l.length&&"string"==typeof l[0]&&d&&d instanceof Text&&!d.nextSibling?d.nodeValue!=l[0]&&(d.nodeValue=l[0]):(l&&l.length||d)&&L(i,l,n,r,!!f.dangerouslySetInnerHTML),T(i,e.attributes,f),o&&(f.ref=o)(i),Q=u,i}function L(t,e,n,r,o){var i,a,s,c,u=t.childNodes,l=[],d={},f=0,p=0,h=u.length,v=0,m=e&&e.length;if(h)for(var b=0;b<h;b++){var w=u[b],_=w[$],x=m?(a=w._component)?a.__key:_?_.key:null:null;null!=x?(f++,d[x]=w):(tt||o||_||w instanceof Text)&&(l[v++]=w)}if(m)for(var b=0;b<m;b++){s=e[b],c=null;var x=s.key;if(null!=x)f&&x in d&&(c=d[x],d[x]=void 0,f--);else if(!c&&p<v)for(i=p;i<v;i++)if(a=l[i],a&&g(a,s)){c=a,l[i]=void 0,i===v-1&&v--,i===p&&p++;break}c=C(c,s,n,r),c&&c!==t&&(b>=h?t.appendChild(c):c!==u[b]&&(c===u[b+1]&&y(u[b]),t.insertBefore(c,u[b]||null)))}if(f)for(var b in d)d[b]&&A(d[b]);for(;p<=v;)c=l[v--],c&&A(c)}function A(t,e){var n=t._component;if(n)j(n,!e);else{t[$]&&t[$].ref&&t[$].ref(null),e||x(t);for(var r;r=t.lastChild;)A(r,e)}}function T(t,e,n){var r;for(r in n)e&&r in e||null==n[r]||b(t,r,n[r],n[r]=void 0,Q);if(e)for(r in e)"children"===r||"innerHTML"===r||r in n&&e[r]===("value"===r||"checked"===r?t[r]:n[r])||b(t,r,n[r],n[r]=e[r],Q)}function O(t){var e=t.constructor.name,n=et[e];n?n.push(t):et[e]=[t]}function M(t,e,n){var r=new t(e,n),o=et[t.name];if(D.call(r,e,n),o)for(var i=o.length;i--;)if(o[i].constructor===t){r.nextBase=o[i].nextBase,o.splice(i,1);
break}return r}function P(t,e,n,r,o){t._disable||(t._disable=!0,(t.__ref=e.ref)&&delete e.ref,(t.__key=e.key)&&delete e.key,!t.base||o?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r),r&&r!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=r),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,0!==n&&(1!==n&&z.syncComponentUpdates===!1&&t.base?d(t):N(t,1,o)),t.__ref&&t.__ref(t))}function N(t,e,n,i){if(!t._disable){var s,c,u,l,d=t.props,f=t.state,g=t.context,v=t.prevProps||d,y=t.prevState||f,b=t.prevContext||g,w=t.base,_=t.nextBase,x=w||_,E=t._component;if(w&&(t.props=v,t.state=y,t.context=b,2!==e&&t.shouldComponentUpdate&&t.shouldComponentUpdate(d,f,g)===!1?s=!0:t.componentWillUpdate&&t.componentWillUpdate(d,f,g),t.props=d,t.state=f,t.context=g),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!s){for(t.render&&(c=t.render(d,f,g)),t.getChildContext&&(g=r(o(g),t.getChildContext()));p(c);)c=h(c,g);var C,L,T=c&&c.nodeName;if(a(T)){var O=m(c);u=E,u&&u.constructor===T&&O.key==u.__key?P(u,O,1,g):(C=u,u=M(T,O,g),u.nextBase=u.nextBase||_,u._parentComponent=t,t._component=u,P(u,O,0,g),N(u,1,n,!0)),L=u.base}else l=x,C=E,C&&(l=t._component=null),(x||1===e)&&(l&&(l._component=null),L=S(l,c,g,n||!w,x&&x.parentNode,!0));if(x&&L!==x&&u!==E){var I=x.parentNode;I&&L!==I&&(I.replaceChild(L,x),C||(x._component=null,A(x)))}if(C&&j(C,L!==x),t.base=L,L&&!i){for(var D=t,R=t;R=R._parentComponent;)(D=R).base=L;L._component=D,L._componentConstructor=D.constructor}}!w||n?X.unshift(t):s||(t.componentDidUpdate&&t.componentDidUpdate(v,y,b),z.afterUpdate&&z.afterUpdate(t));var q,F=t._renderCallbacks;if(F)for(;q=F.pop();)q.call(t);Z||i||k()}}function I(t,e,n,r){for(var o=t&&t._component,i=o,a=t,s=o&&t._componentConstructor===e.nodeName,c=s,u=m(e);o&&!c&&(o=o._parentComponent);)c=o.constructor===e.nodeName;return o&&c&&(!r||o._component)?(P(o,u,3,n,r),t=o.base):(i&&!s&&(j(i,!0),t=a=null),o=M(e.nodeName,u,n),t&&!o.nextBase&&(o.nextBase=t,a=null),P(o,u,1,n,r),t=o.base,a&&t!==a&&(a._component=null,A(a))),t}function j(t,e){z.beforeUnmount&&z.beforeUnmount(t);var n=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var r=t._component;if(r)j(r,e);else if(n){n[$]&&n[$].ref&&n[$].ref(null),t.nextBase=n,e&&(y(n),O(t));for(var o;o=n.lastChild;)A(o,!e)}t.__ref&&t.__ref(null),t.componentDidUnmount&&t.componentDidUnmount()}function D(t,e){this._dirty=!0,this.context=e,this.props=t,this.state||(this.state={})}function R(t,e,n){return S(n,t,{},!1,e)}var z={},q=[],F=[],H={},U=function(t){return H[t]||(H[t]=t.toLowerCase())},B="undefined"!=typeof Promise&&Promise.resolve(),W=B?function(t){B.then(t)}:setTimeout,V={},$="undefined"!=typeof Symbol?Symbol.for("preactattr"):"__preactattr_",K={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},J={blur:1,error:1,focus:1,load:1,resize:1,scroll:1},G=[],Y={},X=[],Z=0,Q=!1,tt=!1,et={};r(D.prototype,{linkState:function(t,e){var n=this._linkedStates||(this._linkedStates={});return n[t+e]||(n[t+e]=l(this,t,e))},setState:function(t,e){var n=this.state;this.prevState||(this.prevState=o(n)),r(n,a(t)?t(n,this.props):t),e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),d(this)},forceUpdate:function(){N(this,2)},render:function(){}}),t.h=n,t.cloneElement=u,t.Component=D,t.render=R,t.rerender=f,t.options=z})},function(t,e,n){t.exports=n(197)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(198),i=r(o),a=function t(){i.default.init(),document.removeEventListener("o.DOMContentLoaded",t)};document.addEventListener("o.DOMContentLoaded",a),e.default=i.default,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),i=r(o),a=n(49),s=function(){function t(e){(0,i.default)(this,t),e?"string"==typeof e&&(e=document.querySelector(e)):e=document.querySelector('[data-o-component="o-cookie-message"]'),this.CookieMessageEl=e,this.setup();var n=new CustomEvent("oCookieMessage.ready",{bubbles:!0});this.CookieMessageEl.dispatchEvent(n)}return t.prototype.setup=function(){if(!t.userHasConsentedToCookies())return this.CookieMessageEl.classList.add("o-cookie-message--active"),void t.setupMessage()},t.cookieHTML=function(){return'\n\t\t\t<div id="o-cookie-message" class="o-cookie-message__container">\n\t\t\t\t<div>\n\t\t\t\t\t<p class="o-cookie-message__description">\n\t\t\t\t\t\tBy continuing to use this site you consent to the use of cookies on your device as described in our <a href="http://help.ft.com/tools-services/how-the-ft-manages-cookies-on-its-websites/">cookie policy</a> unless you have disabled them. You can change your <a href="http://help.ft.com/help/legal-privacy/cookies/how-to-manage-cookies/">cookie settings</a> at any time but parts of our site will not function correctly without them.\n\t\t\t\t\t</p>\n\t\t\t\t\t<div class="o-cookie-message__close-btn-container">\n\t\t\t\t\t\t\t<button class="o-cookie-message__close-btn" data-o-component="o-cookie-message-close" aria-controls="o-cookie-message">\n\t\t\t\t\t\t\t\t\t<span class="o-cookie-message__close-btn-label">Dismiss cookie message</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>'},t.setupMessage=function(){document.querySelector('[data-o-component="o-cookie-message-close"]').addEventListener("click",this.flagUserAsConsentingToCookies)},t.hideMessage=function(){var t=document.querySelector('[data-o-component="o-cookie-message"]');t.classList.remove("o-cookie-message--active"),t.setAttribute("tabindex","-1")},t.flagUserAsConsentingToCookies=function(){var e=Date.now();a.local.set("COOKIE_CONSENT",e),t.hideMessage()},t.userHasConsentedToCookies=function(){var t=a.local.get("COOKIE_CONSENT");if("1"===t)return this.flagUserAsConsentingToCookies(),!0;if(/\bcookieconsent=accepted(?:;|$)/.test(document.cookie))return this.flagUserAsConsentingToCookies(),!0;if(t){var e=parseInt(t);if(this.dateIsWithinLastThreeMonths(e))return!0}return!1},t.dateIsWithinLastThreeMonths=function(t){var e=Date.now(),n=7776e6;return t>e-n},t.init=function(e){e?"string"==typeof e&&(e=document.querySelector(e)):e=document.body;var n=e.querySelector('[data-o-component="o-cookie-message"]');if(!n.hasAttribute("data-o-cookie-message--js"))return n.hasAttribute("data-o-cookie-message-use-custom-html")||(n.innerHTML=t.cookieHTML()),new t(n)},t}();e.default=s,t.exports=e.default},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){var e=t.get("b2cMessagePrompt");return u()||document.querySelector(".ft-subscription-panel")||!e||document.querySelector(".inline-barrier")||document.querySelector(".sub-header--fastft")?void 0:c.init(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=n(200),a=r(i),s=n(201),c=r(s),u=a.getCookie("FTSession");t.exports=e.default},function(t,e){"use strict";function n(t){return function(){return!t.apply(void 0,arguments)}}function r(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.some(t)}}function o(t){return"function"==typeof t?t():t}function i(t){return function(){var e=o(t);return null!==e&&void 0!==e}}function a(t){return function(e){return(o(e)||void 0)&&t()}}function s(t){return function(){return localStorage.getItem(t)}}function c(t){return function(){return sessionStorage.getItem(t)}}function u(t){return function(e){return localStorage.setItem(t,o(e))}}function l(t){return function(){return(document.cookie.match("(^|;)\\s*"+t+"=([^;]+)")||[])[2]}}function d(t){return function(e){return new Date(o(t))-new Date(o(e))}}function f(t){var e=d(t);return function(){return e(Date.now)>0}}function p(t){return function(e){return new Date(new Date(o(e)).getTime()+o(t))}}function h(t){return function(){return document.querySelector(t)}}function g(t){return i(h(t))}function v(t,e,n){var r=document.createElement(t);return Object.keys(e||{}).forEach(function(t){return r.setAttribute(t,e[t])}),r.innerHTML=n,r}function m(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";if(t=String(t),t.length===e)return t;var r="";for(e-=t.length;e--;)r+=n;return r+t}function y(t,e){var n={GBP:"£",EUR:"€",USD:"$",AUD:"$",HKD:"$",SGD:"$",JPY:"¥"}[e]||e;t=Math.round(t);var r=""+n+Math.floor(t/100);return"JPY"!==e&&(r+="."+m(Math.floor(t%100),2)),r}Object.defineProperty(e,"__esModule",{value:!0}),e.negate=n,e.any=r,e.result=o,e.resultExists=i,e.executeWhen=a,e.getStorage=s,e.getSessionStorage=c,e.setStorage=u,e.getCookie=l,e.difference=d,e.dateInFuture=f,e.addToDate=p,e.element=h,e.elementExists=g,e.createElement=v,e.padLeft=m,e.toCurrency=y;var b=e.anyTrue=r(function(t){return Boolean(o(t))===!0});e.noneTrue=n(b)},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.init=void 0;var i=n(162),a=o(i),s=n(202),c=o(s),u=n(53),l=o(u),d=n(200),f=r(d),p=n(12),h=new l.default("local","n-ui.subscription-offer-prompt"),g="last-closed",v=function(){var t=new l.default("session","next.product-selector");return t.get("last-seen").catch(function(){return null})},m=function(){return h.get(g)},y=function(){return h.set(g,Date.now())},b=function(){return fetch("https://www.howsmyssl.com/a/check").then(function(t){return t.json()}).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tls_version,n=void 0===e?"":e;return parseFloat(n.replace("TLS ",""))})},w=function(){return Promise.all([v(),m(),b()]).then(function(t){var e=(0,a.default)(t,3),n=e[0],r=e[1],o=e[2];return n&&(!r||r+2592e6<=Date.now())&&o>1})},_=function(t){var e=t.discount,n=t.price,r=t.offerId,o=t.offerText;return'\n\t<article class="subscription-prompt--wrapper" data-trackable="subscription-offer-prompt">\n\t\t<button class="n-sliding-popup-close" data-n-component="n-sliding-popup-close" data-trackable="close">\n\t\t\t<span class="n-sliding-popup-close-label">Close</span>\n\t\t</button>\n\t\t<div class="subscription-prompt--header" data-o-grid-colspan="12">\n\t\t\t<span class="subscription-prompt--flag">Limited Offer</span>\n\t\t\t<h1 class="subscription-prompt--heading">'+o+'</h1>\n\t\t\t<span class="subscription-prompt--subheading">\n\t\t\t\tPay just '+n+' per week for annual Standard Digital access\n\t\t\t</span>\n\t\t</div>\n\t\t<div class="subscription-prompt--info" data-o-grid-colspan="7">\n\t\t\t<ul class="subscription-prompt--benefits">\n\t\t\t\t<li class="subscription-prompt--benefit">Access FT.com on your desktop, mobile &amp; tablet</li>\n\t\t\t\t<li class="subscription-prompt--benefit">5 year company financials archive</li>\n\t\t\t\t<li class="subscription-prompt--benefit">Personalised email briefings and market moving news</li>\n\t\t\t</ul>\n\t\t\t<a href="https://www.ft.com/signup?offerId='+r+'" class="subscription-prompt--subscribe-btn" data-trackable="subscribe">Save '+e+'% now</a>\n\t\t</div>\n\t\t<div class="subscription-prompt--aside" data-o-grid-colspan="5">\n\t\t\t<figure class="subscription-prompt--figure">\n\t\t\t\t<img src="https://www.ft.com/__origami/service/image/v2/images/raw/'+encodeURIComponent("http://www.ft.com/__assets/creatives/people/lionel.png")+'?source=test&amp;width=126" alt="Lionel Barber, Editor">\n\t\t\t\t<figcaption class="subscription-prompt--figure-caption">Lionel Barber, Editor</span>\n\t\t\t</figure>\n\t\t</div>\n\t</article>\n'},x=function(t){return f.createElement("div",{class:"n-sliding-popup subscription-prompt","data-n-component":"o-sliding-popup","data-n-sliding-popup-position":"bottom left"},_(t))},E=function(t){var e=void 0,n=[".subscription-prompt--subscribe-btn",".n-sliding-popup-close"],r=x(t),o=r.querySelectorAll(n);o=Array.prototype.slice.call(o),r.onClose=function(){y(),void 0!==e&&e.focus(),r.removeEventListener("keydown",s),o.forEach(function(t){t.setAttribute("tabindex","-1")})},document.body.appendChild(r);var i=o[0],a=o[o.length-1],s=function(t){9===t.keyCode&&(t.shiftKey?document.activeElement===i&&(t.preventDefault(),a.focus()):document.activeElement===a&&(t.preventDefault(),i.focus())),27===t.keyCode&&u.close()};r.addEventListener("keydown",s);var u=new c.default(r);return setTimeout(function(){u.open(),e=document.activeElement,i.focus(),(0,p.broadcast)("oTracking.event",{category:"message",action:"show",opportunity:{type:"discount",subtype:""},offers:[t.offerId]})},2e3),u},k=function(t,e){var n=void 0;return n=e.get("priceFlashSale")?{AUS:[429,"AUD"],CAN:[429,"USD"],CHE:[439,"CHF"],GBR:[355,"GBP"],HKG:[3295,"HKD"],JPN:[583,"JPN"],SGP:[555,"SGD"],USA:[429,"USD"],default:[395,"EUR"]}:{AUS:[479,"AUD"],CAN:[470,"USD"],CHE:[489,"CHF"],GBR:[399,"GBP"],HKG:[3690,"HKD"],JPN:[65300,"JPN"],SGP:[619,"SGD"],USA:[429,"USD"],default:[439,"EUR"]},f.toCurrency.apply(null,n[t]||n.default)},S=function(t,e){var n=k(t,e);return"USA"===t||e.get("priceFlashSale")?{discount:33,offerId:"a9582121-87c2-09a7-0cc0-4caf594985d5",price:n,offerText:"Save 33% now"}:{discount:25,offerId:"c1773439-53dc-df3d-9acc-20ce2ecde318",price:n,offerText:"You qualify for a 25% subscription discount"}};e.init=function(t){return w().then(function(e){if(e)return fetch("https://www.ft.com/country",{credentials:"same-origin"}).then(function(t){return t.json()}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GBR";if(!(["SPM","ALA","BLM","MAF","AND","REU","GLP","MYT","MTQ","ZWE"].indexOf(e)>-1)){var n=S(e,t);return E(n)}})})}},function(t,e,n){t.exports=n(203)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(204),i=r(o),a=function t(){for(var e=document.querySelectorAll('[data-n-component="n-sliding-popup"]'),n=0;n<e.length;n+=1)i.default.init(e[n]);document.removeEventListener("o.DOMContentLoaded",t)};document.addEventListener("o.DOMContentLoaded",a),e.default=i.default,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),i=r(o),a=function(){function t(e){var n=this;(0,i.default)(this,t),e?"string"==typeof e&&(e=document.querySelector(e)):e=document.querySelector('[data-n-component="n-sliding-popup"]'),this.el=e,e.classList.add("n-sliding-popup--active");var r=e.querySelector('[data-n-component="n-sliding-popup-close"]');r&&r.addEventListener("click",function(){return n.close()})}return t.prototype.open=function(){this.el.setAttribute("data-n-sliding-popup-visible","true")},t.prototype.close=function(){this.el.removeAttribute("data-n-sliding-popup-visible");var t=new CustomEvent("close",{detail:{target:this.el,instance:this}});this.el.onClose&&this.el.onClose.call(null,t),this.onClose&&this.onClose.call(null,t),this.el.dispatchEvent(t)},t.init=function(e){return new t(e)},t}();e.default=a,t.exports=e.default},function(t,e,n){"use strict";function r(){n(206).init()}t.exports={init:r}},function(t,e,n){t.exports=n(207)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(208),i=r(o),a=function t(){i.default.init(),document.removeEventListener("o.DOMContentLoaded",t)};document.addEventListener("o.DOMContentLoaded",a),e.default=i.default,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),i=r(o),a=n(209),s=r(a),c=n(151),u=r(c),l=n(212),d=r(l),f=["default","XS","S"],p=function(){function t(e){var n=this;(0,i.default)(this,t),e?"string"==typeof e&&(e=document.querySelector(e)):e=document.querySelector('[data-o-component="o-footer"]'),this.footerEl=e,(0,d.default)(function(e){var r=t.shouldCollapse(e);return r&&!n._toggles?n.setup():!r&&n._toggles?n.destroy():void 0}),this.footerEl.removeAttribute("data-o-footer--no-js"),this.footerEl.setAttribute("data-o-footer--js","")}return t.prototype.setup=function(){var t=this;this._toggles=[];var e=this.footerEl.querySelectorAll("[aria-controls]");Array.prototype.forEach.call(e,function(e){var n=document.getElementById(e.getAttribute("aria-controls"));e.setAttribute("role","button"),t._toggles.push(new u.default(e,{target:n}))})},t.prototype.destroy=function(){this._toggles.forEach(function(t){return t.destroy()}),this._toggles=null},t.shouldCollapse=function(t){return f.indexOf(t)!==-1},t.init=function(e){e?"string"==typeof e&&(e=document.querySelector(e)):e=document.body;var n=e.querySelector('[data-o-component="o-footer"]');if(n)return new t(n)},(0,s.default)(t,null,[{key:"collapsibleBreakpoints",get:function(){return f}}]),t}();e.default=p,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(210),i=r(o);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={default:n(211),__esModule:!0}},function(t,e,n){var r=n(121);t.exports=function(t,e,n){return r.setDesc(t,e,n)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){c.default.listenTo("resize");var e=a.default.getCurrentLayout();document.body.addEventListener("oViewport.resize",function(){var n=a.default.getCurrentLayout();n!==e&&(t(n),e=n)}),t(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=n(95),a=r(i),s=n(35),c=r(s);t.exports=e.default},function(t,e){"use strict";function n(t){document.getElementById("offline-notification-toast__message").innerHTML=t,o.classList.add("display"),setTimeout(function(){o.classList.remove("display")},5e3)}function r(){window.addEventListener("message",function(t){var e=t.data,r=e.command;r&&"precacheDone"===r&&n("Read FT top stories even when you're offline.")}),navigator.serviceWorker.addEventListener("message",function(t){var e=t.data,r=e.command;r&&"offlineLanding"===r&&n("Content unavailable offline.<br/>Read our top stories instead.")})}var o=document.getElementById("offline-notification-toast");t.exports={init:r}},function(t,e,n){t.exports=n(215)},function(t,e,n){"use strict";var r=n(216);t.exports={lazyLoad:r}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(105),i=r(o),a="lazy-loading",s="n-image--"+a,c="n-image-wrapper--"+a,u=function(){return(Date.now()*Math.random()).toString(16)},l=window.LUX||window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance,d=function(t,e,n){l&&l.measure&&l.measure(t,e,n)},f=function(t){l&&l.mark&&l.mark(t)},p=function(t,e){if("0.01"===Math.random().toFixed(2)){var n=new CustomEvent(t,{detail:e});document.body.dispatchEvent(n)}},h=function(t){var e=u();return t.setAttribute("data-uid",e),e},g=function(t){return t.getAttribute("data-uid")},v=function(t,e){f(t+":"+e)},m=function(t){d(t,"START:"+t,"END:"+t)},y=function(t){if(l&&l.getEntriesByName){var e=l.getEntriesByName(t),n='img[data-uid="'+t+'"]',r=document.querySelector(n);if(r&&r.currentSrc){var o={category:"lazy-image-load",action:"timing",data:{src:r.currentSrc,duration:e.length?e[0]:null}};p("oTracking.event",o)}}},b=function t(e){var n=g(e);v("END",n),m(n),e.classList.remove(s),e.parentNode.classList.remove(c),e.removeEventListener("load",t),y(n)},w=function(t){var e=h(t);t.addEventListener("load",function(){setTimeout(b.bind(null,t),13)}),v("START",e),[].concat((0,i.default)(t.attributes)).forEach(function(e){/^data-src(set)?$/.test(e.name)&&(t.setAttribute(e.name.replace("data-",""),e.value),t.removeAttribute(e.name))})},_=function(t,e){e.forEach(function(e){var n=e.target;w(n),t.unobserve(n)})},x=function(t,e){var n=t.observer;n?n.observe(e):w(e),e.setAttribute("data-n-image-lazy-load-js","")};t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.root,n=void 0===e?document:e,r=window.IntersectionObserver?new IntersectionObserver(function(t){_(this,t)}):null;[].concat((0,i.default)(n.querySelectorAll("."+s))).filter(function(t){return!t.hasAttribute("data-n-image-lazy-load-js")}).forEach(x.bind(null,{observer:r}))}},function(t,e,n){t.exports=n(218)},function(t,e,n){"use strict";function r(t){return o({type:"flagsUpdate",flags:t})}Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return"serviceWorker"in navigator?navigator.serviceWorker.ready.then(function(e){return new Promise(function(n,r){var o=new MessageChannel;o.port1.onmessage=function(t){t.data.error?r(t.data.error):n(t.data)},e.active.postMessage(t,[o.port2])})}):Promise.reject("Service Worker unavailable")},i=function(t){if("serviceWorker"in navigator&&t.get("serviceWorker")){if(document.cookie.length>4e3)return console.warn("Cookie is greater than 4000 characters - unregistering service worker due to potential failure to retrieve updates"),a();var e=n(219).sampleUsers,o=t.get("swQAVariant")||(t.get("swCanaryRelease")&&e(3,"sw-canary")?"canary":"prod");return navigator.serviceWorker.register("/__sw-"+o+".js").then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){switch(t.state){case"installed":navigator.serviceWorker.controller||window.postMessage({command:"precacheDone"},"*");break;case"redundant":throw Error("The installing service worker became redundant.")}}},r(JSON.parse(JSON.stringify(t))).then(function(){return e})})}return Promise.reject("Service Worker unavailable, or serviceWorker flag off")},a=function(){return"serviceWorker"in navigator?navigator.serviceWorker.getRegistration().then(function(t){return!!t&&t.unregister()}):Promise.resolve(!1)};window.addEventListener("beforeinstallprompt",function(t){return t.preventDefault(),!1}),e.register=i,e.unregister=a,e.message=o,e.passFlags=r},function(t,e,n){"use strict";var r=n(220),o=function(){var t=r.get("spoor-id").replace(/-/g,"");return t=t.substring(t.length-12,t.length),parseInt(t,16)},i=function(t,e){if(!e)throw new Error("sampleUsers needs a seed string to be passed in as the second parameter");var n=e.split("").reduce(function(t,e,n){return t+Math.pow(2,n)*e.charCodeAt(0)},0);return(o()+n)%100<t};t.exports={sampleUsers:i}},function(t,e){"use strict";function n(t){return new RegExp("(?:(?:^|.*;\\s*)"+t+"\\s*=\\s*([^;]*).*$)|^.*$")}function r(t){return Object.keys(t).map(function(e){var n=e;return"maxAge"===e&&(n="max-age"),t[e]instanceof Date&&(t[e]=t[e].toUTCString()),n+"="+t[e]})}function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r(n).join("; "),i=encodeURIComponent(t)+"="+encodeURIComponent(e)+"; "+o;document.cookie=i}function i(t){return decodeURIComponent(document.cookie.replace(n(encodeURIComponent(t)),"$1"))}function a(t){return new RegExp(encodeURIComponent(t)+"=").test(document.cookie)}function s(t){return o(t,"",{expires:new Date(0)})}t.exports={get:i,set:o,has:a,getRegexForName:n,remove:s}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){var t=!1;return(0,d.products)().then(function(e){e&&e.products&&(t=e.products.includes(h))}).catch(function(t){return t}).then(function(){return t})}function i(t,e){t.forEach(function(t){return a(t,e)})}function a(t,e){var n=t.classList.contains("o-teaser--syndicatable")?"yes":"no",r=t.querySelector(".o-teaser__heading");if(!r.querySelector("."+v)){var o=r.querySelector("a"),i=o.pathname.replace("/content/",""),a=o.textContent;r.insertBefore(e(i,a,n),o)}}function s(t,e){var n=t.getAttribute("data-syndicatable"),r=t.querySelector(".topper__headline")||t.querySelector(".article-headline"),o=r.querySelector(".article-classifier__gap"),i=t.getAttribute("data-content-id");r.insertBefore(e(i,o,n),o)}function c(t){var e=(0,l.$$)(m);i(e,t)}function u(t){if(t.get("syndication")){var e=(0,l.$$)(m),n=(0,l.$)(".article[data-syndicatable]");(e.length||n)&&o().then(function(r){if(r){document.body.setAttribute(g,"true");var o=!1;(0,d.uuid)().then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.uuid;o=t.get("syndicationNew")&&p.default.includes(n)||t.get("syndicationNewOverride")}).catch(function(t){return t}).then(function(){var t=o?x:b;document.body.addEventListener("asyncContentLoaded",function(){return c(t)}),e.length&&i(e,t),n&&s(n,t)})}})}}Object.defineProperty(e,"__esModule",{value:!0}),e.init=u;var l=n(12),d=n(160),f=n(222),p=r(f),h="S1",g="data-syndication-user",v="o-teaser__syndication-indicator",m=".o-teaser--syndicatable, .o-teaser--not-syndicatable",y=[{type:"html",name:"HTML"},{type:"docx",name:"Word doc"},{type:"plain",name:"plain text"}],b=function(t,e,n){var r=document.createElement("a");return r.href="http://ftsyndication.com/redirect.php?uuid="+t,r.target="_blank",r.rel="noopener",r.classList.add(v),r.classList.add(v+"--"+n),r.innerHTML="<span>Download “"+(e||"article")+"” (opens in a new window)</span>",r},w=function(t){return'\n\t<a href="https://ft-rss.herokuapp.com/content/'+t.uuid+"?format="+t.format.type+'&download=true" class="syndi__link n-skip-link" data-trackable="download-'+t.format.type+'">Download <span class="n-util-visually-hidden">“'+t.title+"” </span>as "+t.format.name+"</a>\n"},_=function(t){var e=y.map(function(e){return w(Object.assign({},t,{format:e}))});return'\n\t\t<div class="syndi__download-options">\n\t\t\t'+e.join("\n\t")+"\n\t\t</div>\n\t"},x=function(t,e,n){var r=document.createElement("div");return r.className=[v,v+"--"+n,"syndi"].join(" "),r.setAttribute("data-trackable","syndication"),r.innerHTML=_({uuid:t,title:e}),r}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=["0bc92c56-3fa8-46aa-9f2f-11300332f79b"],t.exports=e.default},function(t,e,n){t.exports=n(224)},function(t,e){"use strict";window.__BabelPolyfillSilencerSymbol=function(){return console.warn("Symbol is not available in this browser yet. You may have a race condition with code reliant on Symbol executing before a polyfill has loaded"),{}},window.__BabelPolyfillSilencerSymbol.iterator={}}]);
//# sourceMappingURL=es5.min.js.map