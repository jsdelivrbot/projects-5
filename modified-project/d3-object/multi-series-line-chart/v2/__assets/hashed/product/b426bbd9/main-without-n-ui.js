!function(){function t(){!function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var a=r(1),i=n(a),s=r(2),c=n(s),o=document.querySelector('[data-overlay="mock"]'),u=new i.default("session","next.product-selector");u.set("last-seen",Date.now()),o&&o.addEventListener("click",function(){window.history.back()}),document.querySelector('[data-barrier="premium-new"]')&&c.default.init()},function(t,e){t.exports=window.ftNextUi._superstore},function(t,e,r){"use strict";var n=r(3),a=r(4),i=r(5),s=r(6),c=r(7),o=r(8),u=r(9),d=r(10),p=function(t,e,r){if(t&&t.upgradeOptions.length){var n=t.upgradeOptions.find(function(t){return t.term===r});return n?""+t.symbol+o(n.price):null}return e},l=function(t){if(!t||!t.upgradeOptions.length)return null;var e=t.upgradeOptions.find(function(e){return e.term===t.currentTerm});return""+t.symbol+o(e.price-t.currentPrice)},m=function(t){u(),s(t),i(t),a(t),c(t)};e.init=function(){var t=window.__data;if(t.signedIn){n.init();var e=t.anonUpgradeMonthlyPrice,r=t.anonUpgradeYearlyPrice,a=t.premiumUpgradeOfferId,i=t.useTestApis?"test":"prod",s={contentId:t.contentId,premiumUpgradeOfferId:a,premiumOfferId:t.premiumOfferId,premiumOfferHref:t.premiumOfferHref,flagsSubsAppUpgrades:t.flagsSubsAppUpgrades};fetch("https://next-signup-api.ft.com/transitions/subscriptions/transition-info?offerId="+a,{credentials:"include",timeout:1e4,headers:{"x-api-env":i}}).then(function(t){return t.json()}).then(function(t){var n=t.data,a=!!n,i=Object.assign({},s,{currentSubscriber:a,upgradeOptionsAvailable:!(n&&!n.upgradeOptions.length),upgradeMonthlyPrice:p(n,e,"P1M"),upgradeYearlyPrice:p(n,r,"P1Y"),currentTerm:n&&d[n.currentTerm],currentPrice:n&&""+n.symbol+o(n.currentPrice),upgradeDiff:l(n)});m(i)}).catch(function(t){var n=Object.assign({},s,{currentSubscriber:null,upgradeOptionsAvailable:null,upgradeMonthlyPrice:e,upgradeYearlyPrice:r,currentTerm:null,currentPrice:null,upgradeDiff:null});m(n),document.body.dispatchEvent(new CustomEvent("oErrors.log",{bubbles:!0,detail:{error:t,info:{barrier:"new-premium-barrier"}}}))})}}},function(t,e){"use strict";var r={init:function(){var t=document.createElement("div");t.className="barrier-grid__skeleton-cta-text",t.setAttribute("data-skeleton",!0);var e=document.querySelector("#barrier-grid__cta"),r=document.createElement("div");r.className="barrier-grid__skeleton-cta-button",r.setAttribute("data-skeleton",!0);var n=r.cloneNode(!0),a=document.getElementsByClassName("barrier-grid__cta-btn--placeholder"),i=a[0],s=a[1];e.insertBefore(t,e.firstChild),i.insertBefore(r,i.firstChild),s.insertBefore(n,s.firstChild)}};t.exports=r},function(t,e){"use strict";t.exports=function(t){var e=void 0,r=void 0,n="barrier-grid__cta-btn";t.currentSubscriber?t.flagsSubsAppUpgrades?(r="/upgrade?offerId="+t.premiumUpgradeOfferId+(t.contentId?"&amp;ft-content-uuid="+t.contentId:""),e='\n\t\t\t\t<a\n\t\t\t\t\tclass="'+n+'"\n\t\t\t\t\thref="'+r+'"\n\t\t\t\t\tdata-trackable="upgrade"\n\t\t\t\t>\n\t\t\t\t\tUpgrade now\n\t\t\t\t</a>\n\t\t\t'):(r=t.premiumOfferHref.length?t.premiumOfferHref:"/signup?offerId="+t.premiumOfferId+(t.contentId?"&amp;ft-content-uuid="+t.contentId:""),e='\n\t\t\t\t<a\n\t\t\t\t\tclass="'+n+'"\n\t\t\t\t\thref="'+r+'"\n\t\t\t\t\tdata-trackable="subscribe"\n\t\t\t\t>\n\t\t\t\t\tUpgrade now\n\t\t\t\t</a>\n\t\t\t'):(r="/signup?offerId="+t.premiumOfferId+(t.contentId?"&amp;ft-content-uuid="+t.contentId:""),e='\n\t\t\t<a\n\t\t\t\tclass="'+n+'"\n\t\t\t\thref="'+r+'"\n\t\t\t\tdata-trackable="subscribe"\n\t\t\t>\n\t\t\t\tSubscribe now\n\t\t\t</a>\n\t\t');var a=document.createElement("div");a.classList.add("premium-a-barrier-grid__subscribe-btn-container"),a.innerHTML=e;for(var i=a.cloneNode(!0),s=document.getElementsByClassName("barrier-grid__cta")[0],c=document.getElementsByClassName("barrier-grid__cta-suffix")[0],o=document.getElementsByClassName("barrier-grid__cta-btn-container--placeholder"),u=o.length-1;u>=0;u--)o[u].parentNode.removeChild(o[u]);s.appendChild(a),c.appendChild(i)}},function(t,e){"use strict";t.exports=function(t){var e=void 0,r=t.currentSubscriber?"Upgrade":"Subscribe";e=r+' to Premium for <span class="barrier-grid__emphasis-text"><span class="barrier-grid__emphasis-text barrier-grid__extra-emphasis-text">',e+=t.upgradeMonthlyPrice?t.upgradeMonthlyPrice+"</span> total per month":t.upgradeYearlyPrice+"</span> total per year",e+="</span></br>";var n=document.createElement("p");n.classList.add("barrier-grid__cta-suffix-text"),n.innerHTML=e;var a=document.createElement("p");a.classList.add("barrier-grid__cta-suffix-sidenote-text"),a.innerText="(it only takes a minute)";var i=document.getElementsByClassName("barrier-grid__cta-suffix-text-container")[0];i.appendChild(n),i.appendChild(a)}},function(t,e){"use strict";t.exports=function(t){var e='\n\t\t<p class="barrier-grid__emphasis-text">\n\t\tJust <span class="barrier-grid__emphasis-text barrier-grid__extra-emphasis-text">\n\t';e+=t.upgradeDiff?t.upgradeDiff+"</span> more per "+(t.upgradeMonthlyPrice?"month":"year"):t.upgradeMonthlyPrice+"</span> per month",e+="</p>";var r=document.createElement("div");r.classList.add("barrier-grid__cta-price-diff-text"),r.innerHTML=e;var n=document.getElementsByClassName("barrier-grid__cta")[0];n.appendChild(r)}},function(t,e){"use strict";t.exports=function(t){var e="";t.upgradeOptionsAvailable?(t.currentSubscriber&&(e+="\n\t\t\tYou are currently a "+t.currentTerm.adjective+' Standard subscriber at\n\t\t\t<span class="barrier-grid__extra-emphasis-text">'+t.currentPrice+"</span> per "+t.currentTerm.noun+".\n\t\t\t</br>\n\t\t"),e+='Your Premium subscription will be charged at <span class="barrier-grid__extra-emphasis-text">',e+=t.upgradeMonthlyPrice?t.upgradeMonthlyPrice+"</span> per month.":t.upgradeYearlyPrice+"</span> per year.",t.currentSubscriber||(e+='\n\t\t\t</br>\n\t\t\tYou can also choose an annual payment option of\n\t\t\t<span class="barrier-grid__extra-emphasis-text">'+t.upgradeYearlyPrice+"</span>.\n\t\t")):t.currentSubscriber||(e+='\n\t\t\tYour Premium subscription will be charged at\n\t\t\t<span class="barrier-grid__extra-emphasis-text">'+t.upgradeMonthlyPrice+'</span> per month.\n\t\t\t</br>\n\t\t\tYou can also choose an annual payment option of\n\t\t\t<span class="barrier-grid__extra-emphasis-text">'+t.upgradeYearlyPrice+"</span>.\n\t\t");var r=document.createElement("p");r.classList.add("barrier-grid__description-para"),r.innerHTML=e;var n=document.getElementsByClassName("barrier-grid__lead")[0];n.appendChild(r)}},function(t,e){"use strict";t.exports=function(t){var e=t.toString(),r=/\.\d$/;if(e.match(r))return e+"0";var n=/\.\d{2}$/;return e.match(n)?e:e+".00"}},function(t,e){"use strict";t.exports=function(){for(var t=document.querySelectorAll("[data-skeleton]"),e=t.length-1;e>=0;e--)t[e].parentNode.removeChild(t[e])}},function(t,e){"use strict";t.exports={P1M:{noun:"month",adjective:"monthly"},P1Y:{noun:"year",adjective:"yearly"}}}])}window.ftNextnUiLoaded?t():document.addEventListener?document.addEventListener("ftNextnUiLoaded",t):document.attachEvent("onftNextnUiLoaded",t)}();
//# sourceMappingURL=main-without-n-ui.js.map